"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(a){var e=function(){function t(e){_classCallCheck(this,t),this.options=e||{log:!0},this.version="v0.0.1",this.bannerlist=["https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg@master/bangumi/png/bangumi5.png"],this.log=!!this.options.log,this.log&&this.logInfo()}return _createClass(t,[{key:"logInfo",value:function(e,t){var n="\n %c ZYKJTools "+this.version+" 作者博客: %c https://zykj.js.org \n",t=!!t&&" %c "+t+" \n",e=!!e&&"\n %c "+e;t&&e&&(n=e+t),console.log(n,"color: #fff; background: #4285f4; padding:5px 0;","background: #66CCFF; padding:5px 0;")}},{key:"postCopyRightInfo",value:function(){var e=document.getElementsByClassName("post-copyright-info")[1];e&&(e.getElementsByTagName("a")[0].innerText=a.location.origin+a.location.pathname)}},{key:"funnyTitle",value:function(e,t,n,o){var r,c=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.querySelector('[rel="icon"]').setAttribute("href",n||"https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/funny.ico"),document.title=e||"(っ °Д °;)っ 访问的页面不存在了",clearTimeout(r)):(document.querySelector('[rel="icon"]').setAttribute("href",o||"https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"),document.title=t||"( •̀ ω •́ )✧ 又好啦 ~ "+c,r=setTimeout(function(){document.title=c},2e3))})}},{key:"setFullBackground",value:function(e){var t=document.getElementsByClassName("full_page")[0],n=document.getElementsByClassName("not-index-bg")[0],o=document.getElementsByClassName("post-bg")[0],r=document.getElementById("web_bg"),c=document.getElementById("footer");e=e||"https://api.mtyqx.cn/tapi/random.php",t&&c?(t.style.cssText="background-image: url("+e+");background-size:cover;background-position:center;",c.style.background="transparent",r.style.cssText="background-image: url("+e+");background-size:cover;background-position:center;"):o?r.style.cssText="background-image: url("+e+");background-size:cover;background-position:center;":(e=n.style.backgroundImage,n.style.background="transparent",c.style.background="transparent",r.style.cssText="background-image: "+e+";background-size:cover;background-position:center;")}},{key:"setBg",value:function(e,t){var n=document.getElementsByClassName("full_page")[0],o=document.getElementById("footer");n&&o&&(n.style.backgroundImage="url("+e+")",t&&(o.style.backgroundImage="url("+e+")"))}},{key:"randomNum",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"randomBanner",value:function(e,t,n,o,r){var c=!(4<arguments.length&&void 0!==r)||r,r="",r=4===arguments.length?e+this.randomNum(n,o)+t:(c=!!e,this.bannerlist[this.randomNum(0,this.bannerlist.length-1)]);this.setBg(r,c)}},{key:"runningTime",value:function(e,o,t,n){var r,c,i=3<arguments.length&&void 0!==n?n:2,n=document.querySelector("#footer-wrap");n&&(r=document.createElement("div"),c=e,r.setAttribute("id",t),setInterval(function(){var e=Math.round(new Date(c).getTime()/1e3),t=Math.round(((new Date).getTime()+288e5)/1e3)-e,n=new Array(0,0,0,0,0),e="";31536e3<=t&&(n[0]=parseInt(t/31536e3),t%=31536e3),86400<=t&&(n[1]=parseInt(t/86400),t%=86400),3600<=t&&(n[2]=parseInt(t/3600),t%=3600),60<=t&&(n[3]=parseInt(t/60),t%=60),0<t&&(n[4]=t),0<n[0]&&(e=n[0]+" 年 ");n=o+" "+e+n[1]+" 天 "+n[2]+" 时 "+n[3]+" 分 "+n[4]+" 秒";r.innerHTML=n},1e3),n.insertBefore(r,n.children[i]))}},{key:"showNotification",value:function(e,t,n,o){var r,c=3<arguments.length&&void 0!==o?o:5e3;GLOBAL_CONFIG.Snackbar?(r="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,o=GLOBAL_CONFIG.Snackbar.position,Snackbar.show({text:e,backgroundColor:r,duration:c,pos:o,actionText:t,actionTextColor:"#fff",onActionClick:n})):(n="light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f",n="top: 0; background: ".concat(n,";"),document.getElementById("app-refresh").style.cssText=n)}},{key:"rightMenu",value:function(){document.oncontextmenu=function(e){if(e.ctrlKey||document.documentElement.scrollWidth<=500){if(e.ctrlKey)return!0;if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent))return!0}var t,n,o,r,c,i;return t=document.getElementById("rightmenu"),n=document.getElementsByClassName("rightmenu-content")[0],o=event.clientX,r=event.clientY,c=0==n.offsetWidth?160:n.offsetWidth,i=0==n.offsetHeight?340:n.offsetHeight,e=document.documentElement.clientWidth||document.body.clientWidth,n=document.documentElement.clientHeight||document.body.clientHeight,o=e<o+c?o-c+10:o,r=n<r+i?r-i+10:r,t.style.left=o+"px",t.style.top=r+"px",t.style.display="block",a.getSelection().toString()?document.querySelector(".textCopy").parentNode.style.display="block":document.querySelector(".textCopy").parentNode.style.display="none",document.querySelector(".aplayer-fixed")?function(){var e=document.querySelector(".aplayer-fixed"),t=e.querySelector(".aplayer-title").innerHTML+e.querySelector(".aplayer-author").innerHTML;document.querySelector(".music-content").innerHTML='<marquee scrolldelay="800" scrollamount="50">'.concat(t,"</marquee>"),"15"==e.querySelector(".aplayer-icon-play svg path").getAttribute("d").substr(1,2)?document.querySelector(".music-play i").setAttribute("class","fas fa-play"):document.querySelector(".music-play i").setAttribute("class","fas fa-pause");document.querySelector(".music-back").onclick=function(){e.querySelector(".aplayer-icon-back").click()},document.querySelector(".music-forward").onclick=function(){e.querySelector(".aplayer-icon-forward").click()},document.querySelector(".music-play").onclick=function(){e.querySelector(".aplayer-icon-play").click()}}():(document.querySelectorAll(".rightmenu-content hr")[2].style.display="none",document.querySelectorAll(".rightmenu-content .music-control").forEach(function(e){e.style.display="none"})),!1},document.querySelectorAll("img").forEach(function(e){e.oncontextmenu=function(e){return e.stopPropagation(),!0}}),document.querySelectorAll("a").forEach(function(e){e.oncontextmenu=function(e){return e.stopPropagation(),!0}}),document.onclick=function(){document.querySelector("#rightmenu").style.display="none"},document.querySelector(".textCopy").onclick=function(){document.execCommand("Copy");var e=GLOBAL_CONFIG.Snackbar.position,t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark;Snackbar.show({text:"复制成功",backgroundColor:t,showAction:!1,duration:2e3,pos:e})}}}]),t}();a.ZYKJTools=e}(window);