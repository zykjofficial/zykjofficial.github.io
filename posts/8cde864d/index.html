<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>JavaScript高级 | ZYKJ's Blog</title><meta name="keywords" content="JavaScript"><meta name="author" content="ZYKJ"><meta name="copyright" content="ZYKJ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="这篇文章主要是讲JavaScript高级有关的知识、资料来自于网络。"><meta property="og:type" content="article"><meta property="og:title" content="JavaScript高级"><meta property="og:url" content="https://zykj.js.org/posts/8cde864d/index.html"><meta property="og:site_name" content="ZYKJ&#39;s Blog"><meta property="og:description" content="这篇文章主要是讲JavaScript高级有关的知识、资料来自于网络。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascript-cover.png"><meta property="article:published_time" content="2020-05-02T04:00:00.000Z"><meta property="article:modified_time" content="2020-08-02T00:00:00.000Z"><meta property="article:author" content="ZYKJ"><meta property="article:tag" content="JavaScript"><meta property="article:tag" content="高级"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascript-cover.png"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"><link rel="canonical" href="https://zykj.js.org/posts/8cde864d/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/index.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:{limitDay:30,position:"top",messagePrev:"这篇文章已经发表了",messageNext:"天了，其中部分内容可能已经过时。"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://gcore.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://gcore.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"JavaScript高级",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2020-08-02 08:00:00"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,c={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(c))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!o&&!a&&!c;if(void 0===t){if(a)activateLightMode();else if(o)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const i=saveToLocal.get("aside-status");void 0!==i&&("hide"===i?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/zykjcss.css" media="all" onload='this.media="all",this.onload=null'><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="ZYKJ's Blog" type="application/atom+xml"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page child" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>随机文章</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-th-list"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fa fa-film"></i> <span>番剧</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa fa-image"></i> <span>相册</span></a></li><li><a class="site-page child" href="/baidu/"><i class="fa-fw fa-fw fab fa-html5"></i> <span>百度</span></a></li><li><a class="site-page child" href="/random/"><i class="fa-fw fas fa-random"></i> <span>选人</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-gamepad"></i> <span>游戏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/game/arknights/"><i class="fa-fw fa fa-mobile"></i> <span>明日方舟</span></a></li><li><a class="site-page child" href="/catchcat/"><i class="fa-fw fa fa-cat"></i> <span>圈小猫</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-envelope"></i> <span>消息</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw fa fa-calendar-alt"></i> <span>时间线</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascript-cover.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ZYKJ's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page child" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>随机文章</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-th-list"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fa fa-film"></i> <span>番剧</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa fa-image"></i> <span>相册</span></a></li><li><a class="site-page child" href="/baidu/"><i class="fa-fw fa-fw fab fa-html5"></i> <span>百度</span></a></li><li><a class="site-page child" href="/random/"><i class="fa-fw fas fa-random"></i> <span>选人</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-gamepad"></i> <span>游戏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/game/arknights/"><i class="fa-fw fa fa-mobile"></i> <span>明日方舟</span></a></li><li><a class="site-page child" href="/catchcat/"><i class="fa-fw fa fa-cat"></i> <span>圈小猫</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-envelope"></i> <span>消息</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw fa fa-calendar-alt"></i> <span>时间线</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript高级</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-05-02T04:00:00.000Z" title="发表于 2020-05-02 12:00:00">2020-05-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-02T00:00:00.000Z" title="更新于 2020-08-02 08:00:00">2020-08-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/">Web教程</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/JavaScript/">JavaScript</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">21k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>83分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="JavaScript高级"><a href="#JavaScript高级" class="headerlink" title="JavaScript高级"></a>JavaScript高级</h2><div class="note danger flat"><p>本教程里的资料来源于网友的资料，自己整理以供学习。视频学习: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1X7411n72U">黑马程序员</a></p></div><h3 id="两大编程思想"><a href="#两大编程思想" class="headerlink" title="两大编程思想"></a>两大编程思想</h3><blockquote><p>(面向过程,面向对象)</p></blockquote><h4 id="面向过程pop"><a href="#面向过程pop" class="headerlink" title="面向过程pop"></a>面向过程pop</h4><blockquote><p><code>process-oriented programming</code>: 分析出问题所需的步骤,然后用函数把这些步骤一步一步实现,使用的时候再一个一个调用(蛋炒饭)</p></blockquote><ul><li><p>优点: 性能高,适合跟硬件紧密联系</p></li><li><p>缺点: 没有面向对象易维护、易复用、易扩展</p></li></ul><h4 id="面向对象oop"><a href="#面向对象oop" class="headerlink" title="面向对象oop"></a>面向对象oop</h4><blockquote><p><code>object-oriented programming</code>: 把事务分解成一个一个对象,然后对象之间分工与合作(盖浇饭)适用于复杂的项目</p></blockquote><ul><li><p>优点: 易维护、易复用、易扩展,可以设计出低耦合的系统。使系统更加灵活、更加易于维护</p></li><li><p>缺点: 性能比面向过程低</p></li></ul><h4 id="面向对象的特性"><a href="#面向对象的特性" class="headerlink" title="面向对象的特性"></a>面向对象的特性</h4><ol><li><p>封装性: 即封装后无需知道原理,运行即可</p></li><li><p>继承性: 某个接口的功能继承于其父亲</p></li><li><p>多态性: 多个工作状态</p></li></ol><h4 id="面向对象的思维特点"><a href="#面向对象的思维特点" class="headerlink" title="面向对象的思维特点"></a>面向对象的思维特点</h4><ol><li><p>抽取(抽象)对象公用的属性和行为阻止(封装)成一个类(模板)</p></li><li><p>对类进行实例化,获取类的对象</p></li></ol><h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><blockquote><p>类抽象了对象的公共部分,泛指一大类</p></blockquote><p>类和对象的区别: 对象是具体的,而类是所有同类具体对象的共同属性方法的集合。可以通过类实例化一个具体的对象</p><h3 id="类-ES6"><a href="#类-ES6" class="headerlink" title="类(ES6)"></a>类(ES6)</h3><h4 id="类的创建"><a href="#类的创建" class="headerlink" title="类的创建"></a>类的创建</h4><p><code>class name &#123; // class body&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Star</span> &#123; 		</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">uname,age</span>) &#123; 		</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">uname</span> = uname; 			</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age; 		</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>类constructor构造函数</code>: 用于传递参数,返回实例,通过 new 命令生成对象实例时,自动调用该方法。如果没有显示定义,类内部会自动创建一个 constructor()。即将参数传递给实例对应的属性或方法。</p><h4 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h4><blockquote><p>必须用new创建实例</p></blockquote><p><code>var xx = new name(参数);</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure><p>注意:</p><ol><li><p>通过 class 创建类,类名首字母大写</p></li><li><p>类里面有 constructor 函数,可以传递实参,同时返回实例, constructor 记得加小括号</p></li><li><p>只要 new 生成实例时,就会自动调用这个函数</p></li><li><p>生成实例 new 不能省略</p></li><li><p>创建类时类名后没有小括号,生成实例时类名后一定有小括号用于传递实参,构造函数不需要加 function()</p></li></ol><h4 id="类中添加方法"><a href="#类中添加方法" class="headerlink" title="类中添加方法"></a>类中添加方法</h4><blockquote><p>实质为添加在原型对象中</p></blockquote><p><code>class name &#123; 函数名()&#123;&#125;&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Star</span> &#123; </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">uname,age</span>) &#123; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">uname</span> = uname; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="title function_">sing</span>(<span class="params">song</span>) &#123;    	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我在唱歌&#x27;</span>); </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">uname</span> + song);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意:</p><ol><li><p>直接添加在 constructor 之后</p></li><li><p>可传递参数</p></li><li><p>可添加多个方法</p></li><li><p>可在方法中调用该对象属性</p></li></ol><ul><li><p>添加类方法</p><p>在函数前面加 static 保留字即可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Big</span> &#123; </span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">big</span>(<span class="params"></span>) &#123; </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i&#x27;m private!&quot;</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="title class_">Big</span>.<span class="title function_">big</span>();</span><br></pre></td></tr></table></figure></li></ul><h4 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h4><blockquote><p>子类可以继承父类的一些属性和方法</p></blockquote><h5 id="继承语法"><a href="#继承语法" class="headerlink" title="继承语法"></a>继承语法</h5><p><code>class Son extends Father &#123;&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">    &#125; 	</span><br><span class="line">    <span class="title function_">money</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Father</span> &#123; </span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(); </span><br><span class="line">son.<span class="title function_">money</span>();</span><br></pre></td></tr></table></figure><h5 id="super-关键字"><a href="#super-关键字" class="headerlink" title="super 关键字"></a>super 关键字</h5><p>用于访问和调用对象父类上的函数。可以调用父类的构造函数,也可以调用父类的普通函数</p><ol><li><p>利用 super 调用构造函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> &#123; </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x; </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125; <span class="title function_">sum</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Father</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">z,v</span>) &#123; 	</span><br><span class="line">        <span class="variable language_">super</span>(z,v);</span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">son.<span class="title function_">sum</span>();</span><br></pre></td></tr></table></figure><p>即继承的本质是通过子类到父类中去执行函数,如果没有用 super 调用父类的函数,那么子类的形参无法传给父类,也就得不出结果。只有在子类的构造函数 constructor 中使用 super 调用父类的构造函数,才能将形参传给父类。</p></li><li><p>利用 super 调用普通函数</p><p><code>super.父类中的函数名()</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> &#123; </span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;woshibaba&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Father</span> &#123; </span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>) &#123; 	 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">super</span>.<span class="title function_">say</span>() + <span class="string">&#x27;deerzi&#x27;</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(); </span><br><span class="line">son.<span class="title function_">say</span>(); <span class="comment">// 就近原则调用</span></span><br><span class="line"><span class="comment">// 继承中属性或者方法查找原则: 就近原则</span></span><br></pre></td></tr></table></figure><p>调用原则: 就近原则。如果子类调用了一个函数,则先查看子类中有无此函数,如果没有,就去父类中寻找,super 可视为等于f ather</p></li></ol><h5 id="子类继承父类方法同时扩展自己的方法"><a href="#子类继承父类方法同时扩展自己的方法" class="headerlink" title="子类继承父类方法同时扩展自己的方法"></a>子类继承父类方法同时扩展自己的方法</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123; </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> =y; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="title function_">sum</span>(<span class="params"></span>) &#123; </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Father</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123; 	</span><br><span class="line">        <span class="variable language_">super</span>(x,y); 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = y;				</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="title function_">substract</span>(<span class="params"></span>) &#123; </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span> -<span class="variable language_">this</span>.<span class="property">y</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="number">5</span>,<span class="number">3</span>); </span><br><span class="line">son.<span class="title function_">substract</span>(); </span><br><span class="line">son.<span class="title function_">sum</span>();</span><br></pre></td></tr></table></figure><p>重点: 构造函数里有 this 和 super 的时候,super 一定要写在this之前,父亲为大！</p><h4 id="使用类注意事项"><a href="#使用类注意事项" class="headerlink" title="使用类注意事项"></a>使用类注意事项</h4><ol><li><p>ES6 中没有变量提升,所以必须先定义类,才能通过类实例化对象</p></li><li><p>类里面的共有的属性和方法必须一定要加 this 使用</p></li><li><p>可以通过在构造函数里this.函数名直接调用方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> that;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Star</span> &#123; </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">uname,age</span>) &#123; 	</span><br><span class="line">        that = <span class="variable language_">this</span>; 	</span><br><span class="line">        <span class="comment">//constructor里面的this指向创建的实例对象</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">uname</span> = uname; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> =age; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">sing</span>(); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="title function_">sing</span>(<span class="params"></span>) &#123;  </span><br><span class="line">        <span class="comment">// this 指向实例 </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>constructor 里面的 this 指向创建的实例对象,方法中的 this 指向调用者</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> that;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Star</span> &#123;</span><br><span class="line">    constructor(uname,age) &#123; 	</span><br><span class="line">        that = <span class="built_in">this</span>; 	</span><br><span class="line">        <span class="comment">//constructor里面的this指向创建的实例对象 </span></span><br><span class="line">        <span class="built_in">this</span>.uname = uname; </span><br><span class="line">        <span class="built_in">this</span>.age =age; 	</span><br><span class="line">        <span class="built_in">this</span>.sing();  </span><br><span class="line">        <span class="built_in">this</span>.btn = document.querySelector(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">        <span class="built_in">this</span>.btn.onclick = <span class="built_in">this</span>.dance; </span><br><span class="line">    &#125; </span><br><span class="line">    sing() &#123;     </span><br><span class="line">        <span class="comment">// this 指向实例 	</span></span><br><span class="line">        console.log(<span class="built_in">this</span>); </span><br><span class="line">    &#125; </span><br><span class="line">    dance() &#123; 			</span><br><span class="line">        <span class="comment">//指向btn的uname 	</span></span><br><span class="line">        console.log(<span class="built_in">this</span>.uname); 	</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="ES6中的类的本质"><a href="#ES6中的类的本质" class="headerlink" title="ES6中的类的本质"></a>ES6中的类的本质</h4><ol><li>class 本质还是 function.</li><li>类的所有方法都定义在类的 prototype 属性上</li><li>类创建的实例里面也有<code>__proto__</code> 指向类的 prototype 原型对象</li><li>所以 ES6 的类它的绝大部分功能, ES5 都可以做到,新的 class 写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已。</li><li>所以 ES6 的类其实就是语法糖</li><li>语法糖语法糖就是一种便捷写法简单理解,有两种方法可以实现同样的功能但是一种写法更加清晰、方便<br>那么这个方法就是语法糖</li></ol><p>扩展方法:</p><ul><li><p><code>xx.select()</code>: 实现 xx 元素的选中</p></li><li><p><code>xx.blur()</code>: 实现 xx 元素的失焦</p></li></ul><h3 id="构造函数和原型-ES5"><a href="#构造函数和原型-ES5" class="headerlink" title="构造函数和原型(ES5)"></a>构造函数和原型(ES5)</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><ul><li><p>在典型的 OOP 的语言中(如 Java ) , 都存在类的概念,类就是对象的模板,对象就是类的实例,但在 ES6 之前,<br>JS中并没用引入类的概念。</p></li><li><p>ES6 前 JS 没有类,通过构造函数来定义</p></li><li><p>ES6 ,全称 ECMAScript6.0 , 2015.06发版。但是目前浏览器的 JavaScript 是 ES5 版本,大多数高版本的浏<br>览器也支持 ES6,不过只实现了 ES6 的部分特性和功能。<br>在 ES6 之前,对象不是基于类创建的,而是用一种称为<code>构造函数</code>的特殊函数来定义对象和它们的特征。</p></li></ul><h4 id="创建对象三种方式"><a href="#创建对象三种方式" class="headerlink" title="创建对象三种方式"></a>创建对象三种方式</h4><ol><li><p>通过new Object创建对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br></pre></td></tr></table></figure></li><li><p>通过字面量创建对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;</span><br></pre></td></tr></table></figure></li><li><p>通过构造函数创建对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname,age</span>) &#123; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uname</span> = uname; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我会唱歌&#x27;</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure></li><li><p>对象的增强写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;zykj&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj3 = &#123;</span><br><span class="line">    name,</span><br><span class="line">    age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="静态成员和实例成员"><a href="#静态成员和实例成员" class="headerlink" title="静态成员和实例成员"></a>静态成员和实例成员</h4><blockquote><p>实例成员: 包括了实例方法和实例属性。<code>通过构造函数内部 this 创建的成员</code>,比如上面的 uname ,age , sing()</p></blockquote><p><code>实例成员只能通过实例访问</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">20</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">uname</span>);</span><br></pre></td></tr></table></figure><p><code>不能通过构造函数访问</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property">uname</span>); <span class="comment">// 错误</span></span><br></pre></td></tr></table></figure><blockquote><p>静态成员: 即类属性和类方法(如Number.MAX_VALUE)。构造函数本身添加的成员,如</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Star</span>.<span class="property">sex</span> = <span class="string">&#x27;man&#x27;</span>;</span><br></pre></td></tr></table></figure><p><code>静态成员只能通过构造函数访问</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property">sex</span>);</span><br></pre></td></tr></table></figure><p><code>不能通过实例访问</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">sex</span>); <span class="comment">// 错误</span></span><br></pre></td></tr></table></figure><h3 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h3><div class="note danger flat"><p>重要内容、忘记了记得看<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1X7411n72U?p=26">原型</a></p></div><blockquote><p>JS规定每一个构造函数都有一个 prototype 属性,指向一个原型对象。当函数被定义的时候,prototype 属性会自动创建和初始化。这个对象拥有的属性和方法都会被构造函数所拥有。即通过 prototype 定义的属性和方法都会自动成为该其构造函数创建实例所共有的属性和方法(prototype只有构造函数有,对象实例没有)</p></blockquote><p>作用: 共享作用,可以把那些<code>不变的方法</code>,直接定义在 Prototype 对象上,这样所有对象的实例就可以<code>共享这些方法</code>。</p><p>优点:</p><ol><li><p>使用原型对象可以显著减少每个对象所需的内存数量,因为对象可以继承原型的很多属性。</p></li><li><p>即便是在对象创建以后才添加到原型中的属性,对象也可以继承它</p></li></ol><p><code>例</code> :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我会唱歌&#x27;</span>); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">18</span>); </span><br><span class="line">ldh.<span class="title function_">sing</span>();</span><br></pre></td></tr></table></figure><p>注意: 继承的属性依旧可以用 for&#x2F;in 来枚举,in 运算符依旧起效。只能用 Object.hasOwnProperty() 来区分继承的属性和常规的属性</p><h4 id="对象原型-proto"><a href="#对象原型-proto" class="headerlink" title="对象原型 __proto__"></a>对象原型 <code>__proto__</code></h4><p>每个实例对象(包括原型对象)都有一个属性<code>__proto__</code>(是两个杠),指向构造这个对象的构造函数的原型对象,对象通过<code>__proto__</code>就可以调用其中的属性和原型(即<code>__proto__</code>和<code>prototype</code>是等价的)</p><p>开发中不可以使用<code>__proto__</code>这个属性,不可对其赋值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldh.<span class="title function_">sing</span>(); <span class="comment">// 等价于 ldh.__proto__.sing()</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200501212254.png"></p><p><code>即构造函数只能通过prototype属性获取原型对象,而实例对象必须通过proto获取原型对象</code></p><h4 id="原型对象中的-constructor-属性"><a href="#原型对象中的-constructor-属性" class="headerlink" title="原型对象中的 constructor 属性"></a>原型对象中的 constructor 属性</h4><p>原型对象初始化后只有一个属性 constructor</p><p><code>构造函数.prototype.constructor</code> 或 <code>对象实例. proto.constructor ( proto 可以省略)</code> 可以返回这个对象所引用的构造函数(只会返回其构造函数,没有对象实例)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">__proto__</span>.<span class="property">constructor</span>) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>)</span><br></pre></td></tr></table></figure><p>如果我们修改了原来的原型对象,给原型对象赋值的是一个对象，则必须手动的利用constructor指回原来的构造函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname,age</span>) &#123; </span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">uname</span> = uname; </span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">    <span class="comment">// 如果我们修改了原来的原型对象,给原型对象赋值的是一个对象，则必须手动的利用constructor指回原来的构造函数</span></span><br><span class="line">    <span class="attr">constructor</span>: <span class="title class_">Star</span>,</span><br><span class="line">    sing :<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我爱唱歌&quot;</span>);</span><br><span class="line">   &#125;,</span><br><span class="line">    movie : <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我爱演电影&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure><h4 id="构造函数、实例、原型对象的三者关系"><a href="#构造函数、实例、原型对象的三者关系" class="headerlink" title="构造函数、实例、原型对象的三者关系"></a>构造函数、实例、原型对象的三者关系</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200501212654.png"></p><ul><li><p>构造函数通过<code>new</code>生成对象实例</p></li><li><p>构造函数通过<code>prototype</code>属性获取原型对象</p></li><li><p>对象实例通过<code>__proto__</code>获取原型对象</p></li><li><p>原型对象通过<code>constructor</code>获取构造函数</p></li></ul><h4 id="类和原型"><a href="#类和原型" class="headerlink" title="类和原型"></a>类和原型</h4><p>原型对象是类的唯一标识: 当且仅当两个对象继承自同一个原型对象时,他们才是属于同一个类的实例。即类的识别是通过原型来完成而不是构造函数的名字。构造函数是类的外在表现,通常构造函数的名字用作类名</p><h4 id="定义类的步骤"><a href="#定义类的步骤" class="headerlink" title="定义类的步骤"></a>定义类的步骤</h4><ol><li><p>定义构造函数,设置初始化新对象的实例属性</p></li><li><p>给构造函数的 prototype 对象定义实例的方法</p></li><li><p>给构造函数定义类字段和类属性</p></li></ol><h4 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200501212754.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 只要是对象就 __proto__ 原型，指向原型对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 2. 我们 Star 原型对象里面的 __proto__ 原型指向的 Object.prototype</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span>); <span class="comment">// null </span></span><br></pre></td></tr></table></figure><h4 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h4><blockquote><p>是最通用的类。构造函数和实例的原型对象的原型对象指向<code>Object的原型对象(Object.prototype)</code>,Object的原型对象的原型对象为空。(所有通过 new Object 创建的对象都具有同一个原型对象,即<code>Object.prototype.Object.prototype</code>是没有原型的对象)</p></blockquote><p>也就是对象实例可以调用 Object 的 prototype 中的属性方法</p><h4 id="实例对象属性方法的查找规则"><a href="#实例对象属性方法的查找规则" class="headerlink" title="实例对象属性方法的查找规则"></a>实例对象属性方法的查找规则</h4><ul><li>当访问一个对象的属性(包括方法)时,首先查找这个<code>对象自身</code>有没有该属性。</li><li>如果没有就查找它的原型(也就是<code>__proto__</code>指向的<code>prototype原型对象</code>)。</li><li>如果还没有就查找原型对象的原型(<code>Object的原型对象</code>).</li><li>依此类推一直找到Object为止 (<code>null</code>)。</li><li><code>__ proto__</code> 对象原型的意义就在于为对象成员查找机制提供一个方向,或者说一条路线。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname,age</span>) &#123; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uname</span> = uname; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age; </span><br><span class="line">&#125; </span><br><span class="line"><span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sex</span> = <span class="string">&#x27;woman&#x27;</span>; </span><br><span class="line"><span class="comment">// Object.prototype.sex = &#x27;nomannowoman&#x27;; </span></span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">18</span>); </span><br><span class="line"><span class="comment">// Star.sex = &#x27;man&#x27;; </span></span><br><span class="line"><span class="comment">// ldh.sex = &#x27;man&#x27;; </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">sex</span>);</span><br></pre></td></tr></table></figure><p>先查找实例对象中有没有查找的值,没有则到其原型对象中查找,再没有就到 Object 的原型对象中查找,如果再没有则返回 undefined</p><p>当写入一个属性的值时,js不会使用原型对象,因为这样会影响其他同个构造函数创建的对象</p><p>如果 o 对象的原型中有了 p 属性,给 o 对象设置 p 属性时只是直接在 o 对象中创建p属性,而不再继承原型中的 p属性,也就是 o 的 p 遮盖了原型对象中的 p。也就是说,JS 中只有查询属性时才体会到继承的存在,而设置属性和继承无关,属性的设置永远都是设置在目标对象中。</p><h4 id="原型对象中-this-的指向"><a href="#原型对象中-this-的指向" class="headerlink" title="原型对象中 this 的指向"></a>原型对象中 this 的指向</h4><p><code>原型对象中的 this指向调用者</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> that; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname,age</span>) &#123; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uname</span> = uname; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age; </span><br><span class="line">&#125; </span><br><span class="line"><span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我会唱歌&#x27;</span>); </span><br><span class="line">    that = <span class="variable language_">this</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">18</span>); </span><br><span class="line">ldh.<span class="title function_">sing</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(that === ldh);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="扩展内置对象方法-不建议这么做！"><a href="#扩展内置对象方法-不建议这么做！" class="headerlink" title="扩展内置对象方法(不建议这么做！)"></a>扩展内置对象方法(不建议这么做！)</h4><p>可以通过给原型对象<code>追加</code>方法,实现内置对象方法的扩展。如 Array 数组对象追加求和的方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sum</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">var</span> sum  = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i &lt; <span class="variable language_">this</span>.<span class="property">length</span>;i++) &#123; 	</span><br><span class="line">        sum += <span class="variable language_">this</span>[i];</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> sum; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不可以使用下面形式(<code>因为会覆盖内置的方法</code>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123; </span><br><span class="line">    <span class="attr">sum</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="keyword">var</span> sum  = <span class="number">0</span>; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i &lt; <span class="variable language_">this</span>.<span class="property">length</span>;i++) &#123; 	</span><br><span class="line">            sum += <span class="variable language_">this</span>[i]; </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> sum; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ES5的继承"><a href="#ES5的继承" class="headerlink" title="ES5的继承"></a>ES5的继承</h4><h5 id="call函数"><a href="#call函数" class="headerlink" title="call函数"></a>call函数</h5><pre><code>    fun.call(thisArg, arg1, arg2, ...)
</code></pre><ul><li>thisArg : 当前调用函数this的指向对象</li><li>arg1 , arg2 : 传递的其他参数</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;哈哈哈&quot;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    name : <span class="string">&quot;zykj&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn.<span class="title function_">call</span>(o);</span><br></pre></td></tr></table></figure><h5 id="属性的继承利用call函数"><a href="#属性的继承利用call函数" class="headerlink" title="属性的继承利用call函数"></a>属性的继承利用call函数</h5><p>ES6 前的继承就是在子构造函数中利用 call 引用父构造函数,并改变 this 指向为子构造函数的实例</p><p>调用这个函数并且修改函数运行时的this指向</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.父构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span>(<span class="params">uname,age</span>) &#123; </span><br><span class="line">    <span class="comment">// this 指向父构造函数的对象实例 </span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">uname</span> = uname; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2.子构造函数 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">uname,age,score</span>) &#123; </span><br><span class="line">    <span class="comment">// this 指向子构造函数的对象实例 </span></span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>,uname,age); </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">score</span> = score; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">18</span>,<span class="number">100</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(son);</span><br></pre></td></tr></table></figure><p>注意: 可以不断嵌套</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Grandson</span>(<span class="params">uname,age,score</span>) &#123; 		</span><br><span class="line">    <span class="title class_">Son</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>,uname,age,score); 	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="方法的继承"><a href="#方法的继承" class="headerlink" title="方法的继承"></a>方法的继承</h5><p><code>子类.prototype = new 父类()</code></p><p>确保子类的原型对象是父类的一个实例即可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span>(); </span><br><span class="line"><span class="comment">//Son 的原型对象的 constructor 指回原来的(构造函数) Son</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span>; <span class="comment">// 即 Son.prototype.__proto__.constructor = Son;</span></span><br></pre></td></tr></table></figure><p><code>切记: Son 的原型对象的 constructor 指向要改回为 Son</code></p><h5 id="类的判别方法"><a href="#类的判别方法" class="headerlink" title="类的判别方法"></a>类的判别方法</h5><ol><li><p>instanceof</p><p>基于原型链检测,而不是构造函数的名字</p><p>缺点: 无法通过对象获得类名,只能检测对象是否属于指定的类名。在多窗口和多框架子页面的Web应用中兼容性不佳,如一个页面中的数组不是另一个页面中数组的实例</p></li><li><p>constructor属性</p><p>缺点与 instanceof 中一样,在多个执行上下文的场景中无法正常工作</p></li><li><p>利用构造函数的名称</p><p>利用<code>Object.toString</code>方法获取然后裁剪出来</p></li><li><p>鸭式辨型</p><p>如果该对象出现与某个同名的方法,那么就认为该对象属于这个类</p></li></ol><h4 id="ES5新增对象方法"><a href="#ES5新增对象方法" class="headerlink" title="ES5新增对象方法"></a>ES5新增对象方法</h4><ol><li><p>Object.keys() 用于获取对象自身所有的属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)</span><br></pre></td></tr></table></figure><ul><li>效果类似<code>for...in</code></li><li>返回一个由属性名组成的数组</li></ul></li><li><p>Object.defineProperty() 定义对象中新属性或修改原有的属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">object.<span class="title function_">defineProperty</span>(obj, prop, descriptor)</span><br></pre></td></tr></table></figure><ul><li><code>obj</code>: 必需。目标对象</li><li><code>prop</code>: 必需。需定义或修改的属性的名字</li><li><code>descriptor</code>: 必需。目标属性所拥有的特性</li></ul><p>Object.defineProperty()第三个参数 descriptor 说明: <code>以对象形式&#123;&#125;写</code></p><ul><li><code>value</code>: 设置属性的值默认为 undefined</li><li><code>writable</code>: 值是否可以重写。true | false 默认为 false</li><li><code>enumerable</code>: 目标属性是否可以被枚举(遍历)。true | false 默认为 false</li><li><code>configurable</code>: 目标属性是否可以被删除或是否可以再次修改特性 true | false 默认为 false</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">id</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;zykj&#x27;</span></span><br><span class="line"> &#125;</span><br><span class="line">   </span><br><span class="line"> <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;num&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">100</span></span><br><span class="line"> &#125;);</span><br><span class="line">   </span><br><span class="line"> <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;name&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;skx&#x27;</span></span><br><span class="line"> &#125;);</span><br><span class="line">  </span><br><span class="line"> <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;id&#x27;</span>,&#123;</span><br><span class="line">    <span class="comment">//设置为false代表不能修改</span></span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span></span><br><span class="line"> &#125;);</span><br><span class="line">   </span><br><span class="line"> <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;price&#x27;</span>,&#123;</span><br><span class="line">     <span class="attr">value</span>: <span class="number">15</span>,</span><br><span class="line">     <span class="comment">// 默认为 false 代表不能被遍历</span></span><br><span class="line">     <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">     <span class="comment">// 默认为 false 代表不能删除这个属性和修改这个参数的特性</span></span><br><span class="line">     <span class="attr">configurable</span>: <span class="literal">false</span></span><br><span class="line"> &#125;);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//delete obj.price // 错误</span></span><br><span class="line">    </span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure></li></ol><h4 id="函数进阶"><a href="#函数进阶" class="headerlink" title="函数进阶"></a>函数进阶</h4><h5 id="函数定义方式"><a href="#函数定义方式" class="headerlink" title="函数定义方式"></a>函数定义方式</h5><ol><li><p><code>function 函数名()&#123;&#125;</code></p></li><li><p><code>var 函数名 = function()&#123;&#125;</code></p></li><li><p><code>var 函数名 = new Function(&#39;参数1&#39;,&#39;参数2&#39;,&#39;函数体&#39;);</code>(了解即可,这种方法创建的函数并不适用词法作用域)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;console.log(a + b)&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>函数的增强写法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//原本</span><br><span class="line">const fun2 = &#123;</span><br><span class="line">	getName: function()&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//增强写法</span><br><span class="line">const fun2 = &#123;</span><br><span class="line">	getName()&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>注意:</p><ol><li><p>Function里面必须是<code>字符串格式</code></p></li><li><p>效率较低,较少使用</p></li><li><p>所有函数都是Function的实例对象</p></li></ol><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200501220254.png" alt="img"></p><h5 id="函数调用方式"><a href="#函数调用方式" class="headerlink" title="函数调用方式"></a>函数调用方式</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.普通函数 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">fn</span>();   </span><br><span class="line">fn.<span class="title function_">call</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.对象的方法 </span></span><br><span class="line"><span class="keyword">var</span> o = &#123; </span><br><span class="line">    <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hi&#x27;</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line">o.<span class="title function_">sayHi</span>(); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.构造函数 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params"></span>) &#123;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Star</span>(); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.绑定事件函数 </span></span><br><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; &#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.定时器函数 </span></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;,<span class="number">2000</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.立即执行函数(立即调用) (function() &#123;&#125;)()</span></span><br></pre></td></tr></table></figure><h5 id="函数内-this-指向"><a href="#函数内-this-指向" class="headerlink" title="函数内 this 指向"></a>函数内 this 指向</h5><table><thead><tr><th>调用方式</th><th>this 指向</th></tr></thead><tbody><tr><td>普通函数调用</td><td>window</td></tr><tr><td>构造函数调用</td><td>实例对象 函数原型对象里面的方法也指向实例对象</td></tr><tr><td>对象调用方法</td><td>该方法所属对象</td></tr><tr><td>事件绑定方法</td><td>绑定事件对象</td></tr><tr><td>定时器函数</td><td>window</td></tr><tr><td>立即执行函数</td><td>window</td></tr></tbody></table><h5 id="函数内改变-this-指向方法"><a href="#函数内改变-this-指向方法" class="headerlink" title="函数内改变 this 指向方法"></a>函数内改变 this 指向方法</h5><ol><li><p>call 方法</p><ul><li><p><code>函数.call(this指向的对象,参数1,参数2,。。。)</code></p></li><li><p>作用: 调用该函数并且将其this指向修改</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x,y</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;123&#x27;</span>); </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span> &#125; ;</span><br><span class="line">fn.<span class="title function_">call</span>(o,<span class="number">1</span>,<span class="number">3</span>); <span class="comment">// 将fn函数的this指向改为o</span></span><br></pre></td></tr></table></figure></li><li><p>apply 方法</p><p><code>函数名.apply(this指向的对象,[参数1,参数2,。。。])</code></p><p>同样会调用函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a,b</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b); </span><br><span class="line">&#125;</span><br><span class="line">fn.<span class="title function_">apply</span>(o,[<span class="number">1</span>,<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arry = [<span class="number">1</span>,<span class="number">66</span>,<span class="number">3</span>,<span class="number">99</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> max = <span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="title class_">Math</span>,arry);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(max);</span><br></pre></td></tr></table></figure><p>注意:</p><ul><li>参数必须是数组形式,返回值会自动改为需要的形式</li></ul></li><li><p>bind 方法</p><p><code>函数名.bind(this指向的对象,参数1,参数2...)</code></p><p><code>不会调用函数,而是返回一个改造后的原函数的拷贝</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; </span><br><span class="line">    <span class="attr">name</span>: <span class="number">1</span>  		</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a,b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = fn.<span class="title function_">bind</span>(o); </span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>注意: 因为不会调用原函数,所以要新建变量来接收改造后的函数</p><p>使用例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    btn.<span class="property">disabled</span> = <span class="literal">true</span>; </span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">false</span>; </span><br><span class="line">    &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>),<span class="number">3000</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><p><code>相同点</code>:</p><ol><li>都可以改变函数内部的 this 指向.</li></ol><p><code>区别点</code>:</p><ol><li>call 和 apply 会调用函数并且改变函数内部 this 指向,</li><li>call 和 apply 传递的参数不一样, call 传递参数arg1, arg2…形式 apply 必须数组形式 [arg]</li><li>bind 不会调用函数,可以改变函数内部 this 指向</li></ol><p><code>主要应用场景</code>:</p><ol><li>call 经常做继承</li><li>apply 经常跟数组有关系,比如借助于数学对象实现数组最大值最小值</li><li>bind 不调用函数但是还想改变this指向,比如改变定时器内部的 this 指向.</li></ol><h5 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h5><blockquote><p>对其他函数进操作的函数,接收函数作为参数或将函数作为返回值输出</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">callback</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        callback &amp;&amp; <span class="title function_">callback</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">fn</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;hi&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">fn</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>函数作为一种数据类型,也可以作为参数传递给另一个函数使用,最典型的就是作为<code>回调函数</code></p><ul><li><p>filter</p><p><code>数组.filter(function(currentValue,index)&#123;&#125;)</code></p><p>实现数组中满足某条件的数值的筛选,返回一个<code>新数组</code></p><p>个人理解：通过返回值的真假来判断是否添加到一个新的数组中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>,<span class="number">66</span>,<span class="number">4</span>,<span class="number">88</span>,<span class="number">3</span>,<span class="number">7</span>]; </span><br><span class="line"><span class="keyword">let</span> arr1 = arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">value,index</span>) &#123; </span><br><span class="line">    <span class="comment">// return value &gt;= 20; </span></span><br><span class="line">    <span class="keyword">return</span> value % <span class="number">2</span> === <span class="number">0</span>; <span class="comment">// 实现筛选偶数 </span></span><br><span class="line">&#125;); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1); <span class="comment">// [12, 66, 4, 88]</span></span><br></pre></td></tr></table></figure></li><li><p>reduce</p><p><code>reduce(function(total, currentValue, currentIndex, arr), initialValue)</code></p><p>| 参数 | 描述 |</p></li></ul><p>| :————- | :—————————————– |<br>| <em>total</em> | 必需。<em>初始值</em>, 或者<code>计算结束后的返回值</code>。 |<br>| <em>currentValue</em> | 必需。<code>当前元素</code> |<br>| <em>currentIndex</em> | 可选。<code>当前元素的索引</code> |<br>| <em>arr</em> | 可选。<code>当前元素所属的数组对象。</code> |<br>| <em>initialValue</em> | 可选。<code>传递给函数的初始值</code> |</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr4 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>] </span><br><span class="line"><span class="keyword">const</span> sum = arr4.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev,item</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item); </span><br><span class="line">    <span class="comment">// console.log(prev); </span></span><br><span class="line">    <span class="keyword">return</span> item + prev; </span><br><span class="line">&#125;,<span class="number">0</span>) <span class="comment">// 2 3 4 5 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 21</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">解释</span></span><br><span class="line"><span class="comment">第一次 prev: 0 item: 1</span></span><br><span class="line"><span class="comment">第二次 prev: 1 item: 2</span></span><br><span class="line"><span class="comment">第三次 prev: 3 item: 3</span></span><br><span class="line"><span class="comment">第四次 prev: 6 item: 4</span></span><br><span class="line"><span class="comment">第五次 prev: 10 item: 5</span></span><br><span class="line"><span class="comment">第五次 prev: 15 item: 6</span></span><br><span class="line"><span class="comment">最后结果为 21</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure><ul><li><p>map</p><p><code>数组.map(function(currentValue,index)</code></p><p>改方法按照原始数组元素顺序依次处理元素、返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>,<span class="number">66</span>,<span class="number">4</span>,<span class="number">88</span>,<span class="number">3</span>,<span class="number">7</span>]; </span><br><span class="line"><span class="keyword">let</span> arr2 = arr.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">value,index</span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span> value *<span class="number">2</span> ; <span class="comment">// 实现数据*2</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">// [24, 132, 8, 176, 6, 14]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="严格模式-IE10以上版本支持"><a href="#严格模式-IE10以上版本支持" class="headerlink" title="严格模式(IE10以上版本支持)"></a>严格模式(IE10以上版本支持)</h3><h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><ol><li>消除了 Javascript 语法的一些不合理不严谨之处,减少了一些怪异行为。</li><li>消除代码运行的一些不安全之处,保证代码运行的安全。</li><li>提高编译器效率,增加运行速度。</li><li>禁用了在 ECMAScript 的未来版本中可能会定义的一-些语法,为未来新版本的 Javascript 做好铺垫。比<br>如一些保留字如: <code>class</code>, <code>enum</code>, <code>export</code>, <code>extends</code>, <code>import</code>, <code>super</code>不能做变量名</li></ol><h4 id="两种形式及其开启方式"><a href="#两种形式及其开启方式" class="headerlink" title="两种形式及其开启方式"></a>两种形式及其开启方式</h4><h5 id="为脚本开启严格模式"><a href="#为脚本开启严格模式" class="headerlink" title="为脚本开启严格模式"></a>为脚本开启严格模式</h5><ol><li><p>在脚本开头添加<code>&#39;use strict&#39;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"> 	</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 开启脚本严格模式 下面的js代码会按照严格模式执行代码 	</span></span></span><br><span class="line"><span class="language-javascript"><span class="meta">    &#x27;use strict&#x27;</span>; </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>在立即执行函数的函数体开头添加<code>&#39;use strict&#39;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">    (<span class="keyword">function</span>(<span class="params"></span>) &#123; 	</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&#x27;use strict&#x27;</span>; </span></span><br><span class="line"><span class="language-javascript">    &#125;)(); </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注: 此时所有的代码按照严格模式执行</p></li></ol><h5 id="为函数开启严格模式"><a href="#为函数开启严格模式" class="headerlink" title="为函数开启严格模式"></a>为函数开启严格模式</h5><p>在函数的函数体开头添加<code>&#39;use strict&#39;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"> 	</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 只为fn开启严格模式 	</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; 		</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&#x27;use strict&#x27;</span>; 		</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 下面代码按照严格模式执行 	</span></span></span><br><span class="line"><span class="language-javascript">    &#125; 	</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>) &#123; 	</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注: 此时只对 fn 执行严格模式,其中的函数体按照严格模式执行</p><h4 id="严格模式中的变化"><a href="#严格模式中的变化" class="headerlink" title="严格模式中的变化"></a>严格模式中的变化</h4><h5 id="变量规定"><a href="#变量规定" class="headerlink" title="变量规定"></a>变量规定</h5><ul><li><p>变量必须先声明再使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">num = <span class="number">10</span>; <span class="comment">//错误</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br></pre></td></tr></table></figure></li><li><p>严禁删除已经声明的变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">delete</span> num; <span class="comment">//不能删除已经声明好的变量</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="this-指向问题"><a href="#this-指向问题" class="headerlink" title="this 指向问题"></a>this 指向问题</h5><ul><li><p>全局作用域中 this 的指向为 undefined</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">x</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>定时器的 this 依旧为 window</p></li><li><p>严格模式构造函数不加 new 调用,this 会指向 undefined</p></li></ul><h5 id="函数的变化"><a href="#函数的变化" class="headerlink" title="函数的变化"></a>函数的变化</h5><ul><li>函数的形参不能有重名</li><li>不允许在非函数(如 if , for) 代码块中定义函数</li></ul><h5 id="对象的变化"><a href="#对象的变化" class="headerlink" title="对象的变化"></a>对象的变化</h5><ul><li>对象中不能有同名的属性</li></ul><h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><blockquote><p>指一个嵌套函数被导出到他所定义的作用域外访问其外部函数的参数和变量,即某个作用域可以访问另一个函数内部的局部变量。也可理解为一种某个函数可以调用其他函数中变量的现象</p></blockquote><h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><p>词法作用域: 函数是通过词法来划分作用域的,而不是动态的划分作用域。他们在定义的位置运行而不是调用的位置运行</p><p>一个定义在函数 f 中的函数 g。当f被调用的时候,作用域链包含了对 f 的这一调用的调用对象,后边是全局对象。g 定义在f 中,因为 f 调用时才会定义 g,所以这个作用域链接保存为 g 的定义的一部分。g 被调用时,作用域链包括3个对象: g 自己的调用对象,f 的调用对象和全局对象</p><p>当嵌套函数的引用放到全局作用域中时,这种情况下有一个对嵌套的函数的外部引用,并且嵌套的函数将它的引用保留给外围函数的调用对象,结果就是外围函数的一次特调用的调用对象依然存在,外围函数的参数和局部变量的名字和值在这个调用对象中得以维持,而他又是嵌套函数定义的一部分,所以嵌套函数的调用可以访问这些值</p><p>如:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">20</span>; </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(num);	 </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">fun</span>(); </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure><p>调用的这个变量所在的函数被称为闭包函数,如上面的 fn 函数</p><p>注意: 闭包是为了调用一个变量,而不是他的值！！！</p><h5 id="闭包的主要作用"><a href="#闭包的主要作用" class="headerlink" title="闭包的主要作用"></a>闭包的主要作用</h5><blockquote><p>作用:延伸了变量的作用范围</p></blockquote><p>最常用的闭包还是函数中的函数调用其父函数的变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f;</span><br><span class="line">  <span class="comment">// 相当于 </span></span><br><span class="line">  <span class="comment">//return function f() &#123;</span></span><br><span class="line">  <span class="comment">//console.log(num);</span></span><br><span class="line">  <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="title function_">fn</span>();</span><br><span class="line"><span class="title function_">a</span>();</span><br></pre></td></tr></table></figure><p>经典案例</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> lis = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.nav&#x27;</span>).<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;li&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 1.传统方式获取li索引</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; lis.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">  lis[i].<span class="property">index</span> = i;</span></span><br><span class="line"><span class="language-javascript">  lis[i].<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">index</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 2.闭包方式式获取li索引</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; lis.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// 立即执行函数称为小闭包</span></span></span><br><span class="line"><span class="language-javascript">  (<span class="keyword">function</span>(<span class="params">i</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    lis[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)(i)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 3. 三秒后打印里的内容</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; lis.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">  (<span class="keyword">function</span>(<span class="params">i</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(lis[i].<span class="property">innerHTML</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,<span class="number">2000</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;)(i)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 经典案例</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> car =  (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 起步价</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> start = <span class="number">5</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 总价</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> total = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    price : <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span>(n&lt;=<span class="number">3</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        total = start;</span></span><br><span class="line"><span class="language-javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">        total = start + (n - <span class="number">3</span>) * <span class="number">5</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    yd : <span class="keyword">function</span>(<span class="params">flag</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> flag ? total + <span class="number">10</span> : total;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;  </span></span><br><span class="line"><span class="language-javascript">&#125;)();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">car.<span class="title function_">price</span>(<span class="number">5</span>);</span></span><br><span class="line"><span class="language-javascript">car.<span class="title function_">yd</span>(<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h4><blockquote><p>如果一个函数在内部可以调用其本身,就称为递归函数</p></blockquote><ul><li><p>递归函数的作用和循环效果一样</p></li><li><p>由于递归很容易发生栈溢出错误(即不停地新建栈区域),所以必须要添加退出条件 return</p></li><li><p>当遍历多层次的数据时可以用递归函数来遍历</p></li></ul><h4 id="剩余参数-用来代表剩余形参的参数-…x"><a href="#剩余参数-用来代表剩余形参的参数-…x" class="headerlink" title="剩余参数(用来代表剩余形参的参数 …x)"></a>剩余参数(用来代表剩余形参的参数 …x)</h4><p>当使用箭头函数时,无法使用 arguments 代替数量不定的参数,必须用剩余参数 …args(一定要加3点,可以任意命名)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">sum</span> = (<span class="params">...args</span>) =&gt; &#123; </span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>; </span><br><span class="line">    args.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value</span>) &#123; 	</span><br><span class="line">        sum += value; </span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="keyword">return</span> sum; </span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>)); <span class="comment">// 60</span></span><br></pre></td></tr></table></figure><p>用法与 arguments 基本相同,都是数组形式</p><br><p>剩余参数与数组解构的搭配使用(即可以用任意命名剩余参数代替参数中的剩余部分)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]; </span><br><span class="line"><span class="keyword">let</span> [s1,s2,...s3] = arr1; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1); <span class="comment">// 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s2); <span class="comment">// 2 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s3); <span class="comment">// 3456</span></span><br></pre></td></tr></table></figure><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><blockquote><p>正则表达式(regular expression)。用于匹配字符串中字符组合的模式,在 js 中也是对象</p></blockquote><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><p>用来检索、替换那些符合某个模式(规则)的文本。亦可用于过滤页面内容的一些敏感词,或从字符串中提取我们想要的特定部分</p><h4 id="正则表达式在js中的使用"><a href="#正则表达式在js中的使用" class="headerlink" title="正则表达式在js中的使用"></a>正则表达式在js中的使用</h4><h5 id="创建方式"><a href="#创建方式" class="headerlink" title="创建方式"></a>创建方式</h5><ol><li><p>利用 RegExp 构造函数创建( ES5 中用这个方法创建两个字面量相同的对象不是同个对象)</p><p><code>new RegExp(/xxxx/)</code> <code>一定要加 //</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="regexp">/123/</span>);</span><br></pre></td></tr></table></figure></li><li><p>利用字面量创建</p><p><code>var x = /xxx/;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="regexp">/zykj/</span>;</span><br></pre></td></tr></table></figure></li></ol><h5 id="测试正则表达式-test"><a href="#测试正则表达式-test" class="headerlink" title="测试正则表达式 test"></a>测试正则表达式 test</h5><p><code>正则表达式.test(被测字符串)</code>: 正则对象的方法,用于检测字符串是否符合该规则,返回布尔值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rg = <span class="regexp">/123/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg.<span class="title function_">test</span>(<span class="number">123</span>)); <span class="comment">// 返回true</span></span><br></pre></td></tr></table></figure><h5 id="正则表达式构成"><a href="#正则表达式构成" class="headerlink" title="正则表达式构成:"></a>正则表达式构成:</h5><p>正则表达式可以由简单的字符组成,如 &#x2F;abc&#x2F; ,也可以是简单和特殊的字符组成,比如 &#x2F;ab*c&#x2F; ,其中特殊字符被称为<code>元字符</code>,在正则表达式中是具有特殊意义的专用符号</p><p>锚字符(用来提示字符所处位置)</p><table><thead><tr><th>边界符</th><th>说明</th></tr></thead><tbody><tr><td><code>^</code></td><td>表示匹配行首的文本(<code>以谁开始</code>)</td></tr><tr><td><code>$</code></td><td>表示匹配行尾的文本(<code>以谁结束</code>)</td></tr></tbody></table><table><thead><tr><th></th><th>说明</th></tr></thead><tbody><tr><td><code>\b</code></td><td>匹配一个单词的边界</td></tr><tr><td><code>\B</code></td><td>匹配非单词边界的位置</td></tr><tr><td><code>(?=p)</code></td><td>零宽正向先行断言,要求接下来的字符都与 p 匹配,但不能包括匹配 p 的字符</td></tr><tr><td><code>(?!p)</code></td><td>零宽负向先行断言,要求接下来的字符不与 p 匹配</td></tr></tbody></table><p><code>^用法</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^abc/</span>;  	</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;abc&#x27;</span>)); <span class="comment">// true 	</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;abcd&#x27;</span>)); <span class="comment">// true 	</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;aabcd&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>$用法</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/ab$/</span>; 	</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&#x27;ssab&#x27;</span>));</span><br></pre></td></tr></table></figure><p><code>/^xxxx$/</code>: 表示精确匹配,只能是xxxx出现不能有其他字符</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  reg1 = <span class="regexp">/^abc$/</span>; <span class="comment">// 如果是^xx$ 则为精确匹配,要求必须是abc字符串才符合规范 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;abc&#x27;</span>)); <span class="comment">// true 	</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;abcd&#x27;</span>)); <span class="comment">// false  	</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;aabcd&#x27;</span>)); <span class="comment">// false 	</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;abcabc&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>\b</code>: 匹配词语的边界,可以代替 \s 实现匹配字符串前后的空格,而不用是字符串一定得有空格才能匹配</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">&#x27;language java&#x27;</span>; </span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\bjava\b/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(txt)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>\B</code>: 匹配非词语边界的位置</p><p>如<code>/\B[Ss]cript/</code>与 <code>&quot;JavaScript&quot;</code> 和 <code>&quot;postscript&quot;</code> 匹配,但不与 <code>&quot;script&quot;</code> 和 <code>&quot;Scripting&quot;</code> 匹配</p><p><code>(?=p)</code>: 正向前声明,要求接下来的字符都与模式 p 匹配,但是不包括匹配中的那些字符</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">&#x27;JavaScript:the definitive guide&#x27;</span>; </span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[Jj]ava([Ss]cript)?(?=\:)/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(txt));</span><br></pre></td></tr></table></figure><p><code>(?!p)</code>: 反向前声明,要求接下来的字符不与模式p匹配</p><h5 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h5><blockquote><p>将单独的直接量字符放进方括号内就可以组成字符串类</p></blockquote><p>[]用法:</p><p><code>[abc]</code>: 表示只要包含有abc其中一个就返回 true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg.<span class="title function_">test</span>(<span class="string">&#x27;andy&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg.<span class="title function_">test</span>(<span class="string">&#x27;color&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg.<span class="title function_">test</span>(<span class="string">&#x27;google&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>/^[abc]$/</code>: 三选一 只包含 a 或 b 或 c 单个字符的才返回 true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg1.<span class="title function_">test</span>(<span class="string">&#x27;aac&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg1.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg1.<span class="title function_">test</span>(<span class="string">&#x27;b&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg1.<span class="title function_">test</span>(<span class="string">&#x27;c&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg1.<span class="title function_">test</span>(<span class="string">&#x27;abc&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>/^[a-z]$/</code>: 加了 - 号,表示 26 个英文字母返回任何一个 true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg2.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg2.<span class="title function_">test</span>(<span class="string">&#x27;z&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg2.<span class="title function_">test</span>(<span class="number">1</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg2.<span class="title function_">test</span>(<span class="string">&#x27;A&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg2.<span class="title function_">test</span>(<span class="string">&#x27;as&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>/^[a-zA-Z0-9_-]$/</code>: 26 个英文字母(大写和小写都可以)任何数字以及两个符号返回任何一个 true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg3.<span class="title function_">test</span>(<span class="string">&#x27;adada&#x27;</span>));<span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg3.<span class="title function_">test</span>(<span class="string">&#x27;_&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg3.<span class="title function_">test</span>(<span class="string">&#x27;A&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg3.<span class="title function_">test</span>(<span class="number">1</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p><code>/^[^a-zA-Z0-9_-]$/</code>: 中括号里的 ^ 为取反的意思,与边界符不同</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg4.<span class="title function_">test</span>(<span class="string">&#x27;adada&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg4.<span class="title function_">test</span>(<span class="string">&#x27;_&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg4.<span class="title function_">test</span>(<span class="string">&#x27;A&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rg4.<span class="title function_">test</span>(<span class="number">1</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h5 id="量词符-设定某个模式出现的次数"><a href="#量词符-设定某个模式出现的次数" class="headerlink" title="量词符(设定某个模式出现的次数)"></a>量词符(设定某个模式出现的次数)</h5><table><thead><tr><th>量词</th><th>量词</th></tr></thead><tbody><tr><td><code>*</code></td><td>重复零次或更多次</td></tr><tr><td><code>+</code></td><td>重复一次或更多次</td></tr><tr><td><code>?</code></td><td>零次或一次</td></tr><tr><td><code>&#123;n&#125;</code></td><td>重复 n 次</td></tr><tr><td><code>&#123;n,&#125;</code></td><td>重复 n 次或更多次</td></tr><tr><td><code>&#123;n,m&#125;</code></td><td>重复 n 到 m 次</td></tr></tbody></table><p>都是加在规定字符后面</p><p><code>*用法</code>: 相当于a&gt;&#x3D;0 可以出现0次或者很多次</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^a*$/</span>; <span class="comment">// 只允许出现a,a的次数可以是0或者多次 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;aaaaa&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;aaaabbbb&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>+用法</code>: 相当于&gt;&#x3D;1 可以出现1次或者很多次</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/^a+$/</span>; <span class="comment">//只允许出现a,a的次数可以是1次或者多次 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;&#x27;</span>));<span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;ab&#x27;</span>));<span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;aaaaaaaaaaaa&#x27;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>?用法</code>: 相当于 1 | 0 只能出现1次或0次</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/^a?$/</span>; <span class="comment">// a出现1次或0次为true 其他为false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>));<span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&#x27;aaaa&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>利用 ? 和其他重复字符可以组成非贪婪的重复</p><p>例如<code>/a+/</code>与字符串<code>&quot;aaa&quot;</code>的三个都匹配,而<code>/a+?/</code>只与第一个 a 匹配</p><p><code>&#123;x&#125;用法</code>: 相当于重复 3 次为 true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg3 = <span class="regexp">/^a&#123;3&#125;$/</span>; <span class="comment">// a重复3次为true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>));<span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;aaaa&#x27;</span>));<span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;aaa&#x27;</span>));<span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>&#123;x,&#125;用法</code>: 相当于重复大于等于 x 次为 true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg3 = <span class="regexp">/^a&#123;3,&#125;$/</span>; <span class="comment">// a出现大于3次为true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;&#x27;</span>));  <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;aaaa&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;aaaaa&#x27;</span>));<span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&#x27;aaa&#x27;</span>));<span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>&#123;x,y&#125;用法</code>: 重复大于等于 3 次小于等于 y 次为 true ,输入时中间不能有空格</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg4 = <span class="regexp">/^a&#123;3,6&#125;$/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// false  </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&#x27;aaaa&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&#x27;aaaaaaa&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h5 id="选择分组引用"><a href="#选择分组引用" class="headerlink" title="选择分组引用"></a>选择分组引用</h5><table><thead><tr><th></th><th>说明</th></tr></thead><tbody><tr><td>&amp;#124; 符号</td><td>选择,匹配的是该符号左边的子表达式或者右边的子表达式</td></tr><tr><td><code>(...)</code></td><td>组合,将几个项组合成为一个单元,可通过 * + ? \ &amp;#124; 等符号加以修饰,可以被引用</td></tr><tr><td><code>(?:...)</code></td><td>只组合,把项组合到一个单元,但不记忆与该组相匹配的字符,不可被引用</td></tr><tr><td><code>\n</code></td><td>和第 n 个分组第一次匹配的字符串相匹配,组是圆括号里的子表达式,从左向右算起。不包括(?: )的分组</td></tr></tbody></table><p>选择: | 符号</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab|cd|ef/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;ab&quot;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;cd&quot;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;ef&quot;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>注意: 选择项的匹配是从左到右,直到发现了匹配项。如果左边的匹配则忽略右边,即使它产生更好的匹配</p><p>小括号的作用:</p><ol><li><p>把单独的项组合成子表达式,以便可以像处理一个独立的单元那样用 | 、* 、+ 或者 ？等来对单元内的项进行处理。例如 &#x2F;Java(script)?&#x2F; 可以匹配字符串 “java”,其后可以有 “script” 也可以没有。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/Java(script)?/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;Java&#x27;</span>)); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;Javascript&#x27;</span>));</span><br></pre></td></tr></table></figure></li><li><p>第二个作用是引用。即允许我们在同一正则表达式后部引用前面的子表达式。通过\后面加数字实现,数字指定了带括号的子表达式在正则表达式中的位置。这个引用不是引用模式,而是引用与那个模式匹配的文本</p><p>例:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">&#x27;232&#x27;</span>; </span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/([12])[3]*\1/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(txt));</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(abc)&#123;3&#125;$/</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;abc&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;abcabcabc&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;abccc&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>注: 不能在字符类中使用这种引用。</p></li></ol><p>括号总结</p><ol><li>大括号量词符里面表示重复次数</li><li>中括号字符集合。匹配方括号中的任意字符</li><li>小括号表示优先级</li></ol><p>可以<a href="https//c.runoob.com/">在线测试</a></p><h5 id="预定义类-某些常见模式的预定义类"><a href="#预定义类-某些常见模式的预定义类" class="headerlink" title="预定义类(某些常见模式的预定义类)"></a>预定义类(某些常见模式的预定义类)</h5><table><thead><tr><th>预定类</th><th>说明</th></tr></thead><tbody><tr><td><code>\d</code></td><td>匹配 0-9 之间的任一数字,相当于<code>[0-9]</code></td></tr><tr><td><code>\D</code></td><td>匹配所有 0-9 以外的字符,相当于<code>[^0-9]</code></td></tr><tr><td><code>\w</code></td><td>匹配任意的字母、数字和下划线,相当于<code>[A-Za-z0-9_]</code></td></tr><tr><td><code>\W</code></td><td>除所有字母、数字和下划线以外的字符,相当于<code>[^A-Za-20-9_]</code></td></tr><tr><td><code>\s</code></td><td>匹配空格(包括换行符、制表符、空格符等),相等于<code>[\t\r\n\v\f]</code></td></tr><tr><td><code>\S</code></td><td>匹配非空格的字符,相当于<code>[^ \t\r\n\v\f]</code></td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d&#123;3&#125;-\d&#123;8&#125; | \d&#123;4&#125;-\d&#123;7&#125;$/</span>; <span class="comment">// 实现座机号码验证</span></span><br></pre></td></tr></table></figure><p>注意: 正则表达式里可以用<code>或符号</code>,但是符号为<code>|</code>而不是<code>||</code></p><h5 id="敏感字的替换"><a href="#敏感字的替换" class="headerlink" title="敏感字的替换"></a>敏感字的替换</h5><p><code>replace(regexp/substr,replacement)</code></p><p>replace 除了可以替换字符串也可以替换正则表达式</p><p><code>目标字符串.replace(/xxx/,&#39;yy&#39;)</code> 将字符串中的 xxx 替换为 yy</p><h6 id="参数1"><a href="#参数1" class="headerlink" title="参数1"></a>参数1</h6><p><code>replace(/表达式/[switch],替换的内容)</code></p><p>正则表达式的参数(写在&#x2F;后面):</p><ul><li><p><code>g</code>: 全局匹配,可以匹配多个</p></li><li><p><code>i</code>: 忽略大小写</p></li><li><p><code>gi</code>: 全局匹配+忽略大小写</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div.<span class="property">innerHTML</span> = text.<span class="property">value</span>.<span class="title function_">replace</span>(<span class="regexp">/激情|gay/g</span>,<span class="string">&#x27;**&#x27;</span>); <span class="comment">// 实现将文本中所有关键字替换</span></span><br></pre></td></tr></table></figure><p>注意: 不能用精确匹配模式！！！！！</p><h6 id="参数2"><a href="#参数2" class="headerlink" title="参数2"></a>参数2</h6><p><code>$1, $2, $3, …, $n</code>: 依次匹配子表达式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sStr=<span class="string">&#x27;讨论一下正则表达式中的replace的用法&#x27;</span>;</span><br><span class="line">sStr.<span class="title function_">replace</span>(<span class="regexp">/(正则)(.+?)(式)/</span>,<span class="string">&quot;《$1》$2&lt;$3&gt;&quot;</span>);</span><br><span class="line"><span class="comment">// 得到：&quot;讨论一下《正则》表达&lt;式&gt;中的replace的用法&quot;</span></span><br></pre></td></tr></table></figure><p><code>函数</code></p><p>先看<code>arguments</code>的用法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var sStr=&#x27;讨论一下正则表达式中的replace的用法&#x27;;</span><br><span class="line">sStr.replace(/(正则).+?(式)/,function() &#123;</span><br><span class="line">    console.log(arguments);</span><br><span class="line">&#125;);</span><br><span class="line">// [&quot;正则表达式&quot;, &quot;正则&quot;, &quot;式&quot;, 4, &quot;讨论一下正则表达式中的replace的用法&quot;]</span><br></pre></td></tr></table></figure><p><code>参数分别为:</code></p><ul><li>匹配到的字符串（此例为”正则表达式”)</li><li>如果正则使用了分组匹配就为多个否则无此参数。（此例的参数就分别为 “正则”, “式”）</li><li>匹配字符串的对应索引位置（也就是”正则表达式”的索引位置，此例为4）</li><li>原始字符串</li></ul><h3 id="for-…-in"><a href="#for-…-in" class="headerlink" title="for … in"></a>for … in</h3><blockquote><p><code>for...in</code>是ES5标准，用来遍历对象和数组, 返回<code>键名key</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 遍历对象</span><br><span class="line">let obj = &#123;</span><br><span class="line">  a: 1,</span><br><span class="line">  b: 2,</span><br><span class="line">  c: 3</span><br><span class="line">&#125;</span><br><span class="line">for (let key in obj) &#123;</span><br><span class="line">  console.log(key)</span><br><span class="line">&#125;  // a  b  c</span><br><span class="line"></span><br><span class="line">// 遍历数组</span><br><span class="line">let arr = [1, 2, 3]</span><br><span class="line">for (let key in arr) &#123;</span><br><span class="line">  console.log(key)</span><br><span class="line">&#125;  // 0  1  2</span><br></pre></td></tr></table></figure><h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><h3 id="let-和-const"><a href="#let-和-const" class="headerlink" title="let 和 const"></a>let 和 const</h3><h4 id="let"><a href="#let" class="headerlink" title="let"></a>let</h4><blockquote><p>let: 用于声明变量</p></blockquote><h5 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h5><ol><li><p>只在块级作用域(即{})中起作用,而 var 不具备这个特点</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>) &#123; 	</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">20</span>; 	</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">true</span>) &#123; 		</span><br><span class="line">        <span class="keyword">let</span> c =<span class="number">30</span>; </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// 报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>没有变量提升,即必须先声明再使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); </span><br><span class="line"><span class="keyword">let</span> a = <span class="number">10</span>; <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure></li><li><p>具有暂时性死区特性</p><p>在块级区域用 let 声明的变量会与该区域绑定,与区域外同名变量的使用互不影响</p><p>ES6中,在代码块内,在用 let 和 const 声明变量之前,该变量都是不可用的,不可用的区域就叫做<code>暂时性死区</code>(temporal dead zone,TDZ)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>) &#123;    </span><br><span class="line">    <span class="comment">//TDZ开始   </span></span><br><span class="line">    k = <span class="number">5</span>;    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// 皆报错    </span></span><br><span class="line">    <span class="keyword">let</span> k = <span class="number">4</span>; <span class="comment">// TDZ结束 </span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// 4 </span></span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure><p>暂时性死区的本质: 再进入一个代码块的时候,变量就已经存在,但是无法引用,只有 let 或者 const 声明时,才能使用</p></li><li><p>不允许重复声明</p><p>不允许在同一个作用域中重复声明同一个变量</p></li></ol><h5 id="let经典面试题"><a href="#let经典面试题" class="headerlink" title="let经典面试题"></a>let经典面试题</h5><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200502102154.png" alt="img"></p><p style="text-align:center">输出 2 2</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200502102254.png" alt="img"></p><p style="text-align:center">输出 0 1</p><p>区别在于 for 循环中的i如果是 var 声明,则为全局的。如果是 let ,则有了局部作用域,每一次循环都是一个新的 i 值</p><p>注意: for 循环设置变量的部分是一个父作用域,而循环体内部是一个单独的子作用域</p><p>证明:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span> ;i ++) &#123; </span><br><span class="line">    <span class="keyword">let</span> i = <span class="string">&#x27;abc&#x27;</span>; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);  </span><br><span class="line">&#125;<span class="comment">// abc abc abc</span></span><br></pre></td></tr></table></figure><p>输出的是 3 次 abc ,说明花括号内部的作用域和循环设置内部的作用域不是同一个,如果是同一个,会因为 let 不能重复声明而报错</p><h4 id="const"><a href="#const" class="headerlink" title="const"></a>const</h4><blockquote><p>const: 用于声明常量</p></blockquote><h5 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h5><ol><li><p>具有块级作用域,即只在其所在中括号内生效</p></li><li><p>const 声明的常量必须赋予初始值</p></li><li><p>不存在变量提升</p></li><li><p>const 赋值后,值&#x2F;引用不能修改(即地址不能修改),不可重复声明</p></li></ol><p>注意: 对于简单数据类型 num ,string 等,不能修改其中的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="number">3.14</span>;</span><br><span class="line">p = <span class="number">20</span>; <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure><p>而对于复杂数据类型,数组等,其中的值可以修改,但不能修改这个常量的整体,因为前者不会改变地址,后者则会改变地址</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">100</span>,<span class="number">200</span>]; </span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">50</span>; <span class="comment">// 正确 </span></span><br><span class="line">arr = [<span class="number">1</span>,<span class="number">2</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);<span class="comment">// 报错</span></span><br></pre></td></tr></table></figure><p><code>const 本质</code>: const 不是让变量的值不能改动,而是让变量指向的地址不能改动。对于值类型的数据,其值就保存在变量指向的地址中,所以无法改变,是一个常量。而对于引用数据类型,其变量指向的地址保存的不是值而是一个指针,这个指针指向堆中存放的具体值,所以复杂数据类型的具体值可以改变</p><h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><p>let , const , var 的区别</p><ol><li>使用 var 声明的变量,其作用域为该语句所在的明数内,存在变量提升现象。</li><li>使用 let 声明的变量,其作用城为该语句所在的代码块内,不存在变量提升,</li><li>使用 const 声明的是常量,在后面出现的代明中不能再修改该常量的值。</li></ol><table><thead><tr><th>var</th><th>let</th><th>const</th></tr></thead><tbody><tr><td>函数级作用域</td><td>块级作用域</td><td>块级作用域</td></tr><tr><td>变量提升</td><td>不存在变量提升</td><td>不存在变量提升</td></tr><tr><td>值可更改</td><td>值可更改</td><td>值不可更改</td></tr></tbody></table><p>一般常量用 const ,效率比较高</p><p>加上 es6 , js 一共有六种声明变量的方法: <code>var</code> <code>function</code> <code>let</code> <code>const</code> <code>import</code> <code>class</code></p><h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h3><blockquote><p>ES6 允许从数组中提取值,按照对应位置,对变量赋值,对象也可以实现解构,结构什么用就用对应的括号</p></blockquote><ul><li><p>数组解构(用中括号)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; </span><br><span class="line"><span class="keyword">let</span> [a,b,c] = ary; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br></pre></td></tr></table></figure></li><li><p>只要右边数据类型具有 Iterator 接口,就可以用数组解构</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a,b,c] = <span class="string">&#x27;wwe&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c);<span class="comment">// w w e</span></span><br></pre></td></tr></table></figure></li><li><p>允许给左边指定默认值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a,b=<span class="literal">true</span>] = [<span class="number">1</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);<span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);<span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p>默认值生效的条件是右边对应值严格等于(&#x3D;&#x3D;&#x3D;) undefined,否则不生效</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a,b=<span class="literal">true</span>] = [<span class="number">1</span>,<span class="literal">null</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);<span class="comment">// null 因为null不等于undefined</span></span><br></pre></td></tr></table></figure></li><li><p>允许把默认值设为函数,但是函数执行的条件是右边对应位置没有赋值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;aaa&#x27;</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> [k=<span class="title function_">fn</span>()] = [,<span class="number">2</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// aaa </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;aaa&#x27;</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> [k=<span class="title function_">fn</span>()] = [<span class="number">1</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li><li><p>默认值也可以引用解构赋值中的其他变量,但是前提是该变量已经声明</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a=<span class="number">1</span>,b=a] = [<span class="number">1</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b); <span class="comment">// 1 1 </span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>,y = x] = []; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x,y);<span class="comment">// 1 1 </span></span><br><span class="line"><span class="keyword">let</span> [a = <span class="number">1</span>,b = a] = [<span class="number">1</span>,<span class="number">2</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b) <span class="comment">// 1 2 </span></span><br><span class="line"><span class="keyword">let</span> [m = n,n = <span class="number">1</span>] = []; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m,n);<span class="comment">// n is not defined</span></span><br></pre></td></tr></table></figure><p>总之,只要记住数组解构的顺序是从左到右,先默认,再赋值</p></li></ul><h4 id="对象解构-用大括号"><a href="#对象解构-用大括号" class="headerlink" title="对象解构(用大括号)"></a>对象解构(用大括号)</h4><p><code>第一种方式</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;<span class="attr">name</span>:<span class="string">&#x27;list&#x27;</span>,<span class="attr">age</span>:<span class="number">30</span>,<span class="attr">sex</span>:<span class="string">&#x27;nan&#x27;</span>&#125;; </span><br><span class="line"><span class="keyword">let</span> &#123;name,age,sex&#125; = person; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// list </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// 30 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sex); <span class="comment">//nan</span></span><br></pre></td></tr></table></figure><p>注意: let 的属性名必须和对象中的属性名一样,本质是下面的简写</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:name,<span class="attr">age</span>:age&#125; = &#123;<span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br></pre></td></tr></table></figure><p><code>第二种方式</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:myName,<span class="attr">age</span>:myAge,<span class="attr">sex</span>:mySex&#125; = person;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myName); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myAge);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySex);</span><br></pre></td></tr></table></figure><p>注意: let 中属性名后的值可以任意命名,myName 可以改为其他</p><p>本质: 对象解构本质上只有第二种方式,第一种只是简写了。其内部机制是先找到同名属性,再赋值给属性中的变量。前者只是个名字,用于匹配。后者才是接收值的变量。所以对象解构赋值中属性名顺序不一定要与右边对象属性名顺序一致</p><p><code>也可以嵌解构赋值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; </span><br><span class="line">    <span class="attr">p</span>: [ </span><br><span class="line">        <span class="string">&#x27;hello&#x27;</span>, </span><br><span class="line">        &#123;<span class="attr">y</span>:<span class="string">&#x27;world&#x27;</span>&#125; </span><br><span class="line">    ], </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">p</span>:[x,&#123;y&#125;]&#125; = obj;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x + y);</span><br></pre></td></tr></table></figure><p><code>对象解构也可以赋予默认值,生效条件与数组的一致</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;a = <span class="number">1</span>&#125; = &#123;<span class="attr">a</span>:<span class="literal">undefined</span>&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1 </span></span><br><span class="line"><span class="keyword">let</span> &#123;b = <span class="number">2</span>&#125; = &#123;<span class="attr">b</span>:<span class="literal">null</span>&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// null</span></span><br></pre></td></tr></table></figure><p><code>使用对象解构,如果右边是基本数据类型,则将其转为包装类型,可以用同名属性获取其中内置的方法属性</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;k&#125; = <span class="number">1</span>;  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// undefined </span></span><br><span class="line"><span class="keyword">let</span> &#123;length&#125; = <span class="string">&#x27;heihei&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(length); <span class="comment">// 6 </span></span><br><span class="line"><span class="keyword">let</span> &#123;__proto__&#125; = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(__proto__); <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure><p><code>结构赋值右侧的数组所包含的元素不必和左侧的变量一一对应。左侧多余的变量的赋值为 undefined ,而右侧多于的值则会忽略。左侧的变量列表可以包含连续的逗号用以跳过右侧对应的值.此外解构赋值也适用于数组嵌套的情况,但是格式应当相同</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>]; <span class="comment">// 左边对于右边</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 2 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);<span class="comment">// undefined </span></span><br><span class="line"><span class="keyword">var</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];<span class="comment">//右边多于左边 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 2 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// 3 </span></span><br><span class="line"><span class="keyword">var</span> [a,,b,,c] = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];<span class="comment">// 逗号跳过</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 5 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// 9 </span></span><br><span class="line"><span class="keyword">var</span> [a,[b,c],d] = [<span class="number">1</span>,[<span class="number">3</span>,<span class="number">4</span>],<span class="number">5</span>]; <span class="comment">// 数组嵌套 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 3 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// 4 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><h4 id="函数参数的解构赋值"><a href="#函数参数的解构赋值" class="headerlink" title="函数参数的解构赋值"></a>函数参数的解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">get</span>(<span class="params">[a,b,c,d]</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c,d);</span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">get</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Obj</span>(<span class="params">&#123;name,age&#125;</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name,age); </span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Obj</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;);</span><br></pre></td></tr></table></figure><h3 id="扩展运算符-…变量"><a href="#扩展运算符-…变量" class="headerlink" title="扩展运算符(…变量)"></a>扩展运算符(…变量)</h3><blockquote><p>可以将数组、Map 、Set、元素集合、arguments、字符串等具有 Iterator 接口的可遍历数据结构转换成逗号分隔的形式,可应用于形参或数组合并中</p></blockquote><p>也可以将数组转变为非数组形式</p><ol><li><p>应用于函数中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...ary); </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a,b,c</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b + c); </span><br><span class="line">&#125;  </span><br><span class="line"><span class="title function_">add</span>(...ary);</span><br></pre></td></tr></table></figure></li><li><p>数组合并</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法1:  </span></span><br><span class="line"><span class="keyword">let</span> ary1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; </span><br><span class="line"><span class="keyword">let</span> ary2 = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]; </span><br><span class="line"><span class="keyword">let</span> ary3 = [...ary1,...ary2];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary3); </span><br><span class="line"></span><br><span class="line"><span class="comment">//方法2:  </span></span><br><span class="line">ary1.<span class="title function_">push</span>(...ary2); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary1);</span><br></pre></td></tr></table></figure></li><li><p>将伪数组转换成真正的数组</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> divs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(divs <span class="keyword">instanceof</span> <span class="title class_">Array</span>); <span class="comment">// false </span></span></span><br><span class="line"><span class="language-javascript">    divs = [...divs]; </span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(divs <span class="keyword">instanceof</span> <span class="title class_">Array</span>); <span class="comment">// true</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>将数组转为非数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...arr1);<span class="comment">//1 2 3</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="ES6新增方法"><a href="#ES6新增方法" class="headerlink" title="ES6新增方法"></a>ES6新增方法</h3><h4 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h4><h5 id="ES5新增数组方法"><a href="#ES5新增数组方法" class="headerlink" title="ES5新增数组方法"></a>ES5新增数组方法</h5><ul><li><p><code>数组.forEach(function(currentValue,index,arr)&#123;&#125;)</code></p><p><code>value</code>: 为数组的值</p><p><code>index</code>: 为索引值</p><p><code>arr</code>: 为数组本身</p><p>实现数组、伪数组、set 数据的遍历</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span>; </span><br><span class="line">arr1.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value,index,arr</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value); </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index); </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">    sum += value; </span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br></pre></td></tr></table></figure></li><li><p><code>数组.filter(function(currentValue,index,arr)&#123;&#125;)</code></p><p>实现数组中满足某条件的数值的筛选,返回一个<code>新数组</code></p><p>参数值同 forEach</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">12</span>,<span class="number">66</span>,<span class="number">4</span>,<span class="number">88</span>,<span class="number">3</span>,<span class="number">7</span>]; </span><br><span class="line"><span class="keyword">var</span> arr2 = arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">value,index</span>) &#123; </span><br><span class="line">    <span class="comment">// return value &gt;= 20; </span></span><br><span class="line">    <span class="keyword">return</span> value % <span class="number">2</span> === <span class="number">0</span>; <span class="comment">// 实现筛选偶数 </span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2);</span><br></pre></td></tr></table></figure></li><li><p><code>数组.some(function(currentValue,index,arr)&#123;&#125;)</code></p><p>用于查找数组是否有满足条件的数值</p><p>返回的是布尔值,如果有满足条件的值就返回 true ,否则为 false</p><p><code>当查找到第一个满足条件的数值时就停止查找,退出函数</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr  = [<span class="number">10</span>,<span class="number">30</span>,<span class="number">4</span>]; </span><br><span class="line"><span class="keyword">var</span> flag = arr.<span class="title function_">some</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123; </span><br><span class="line">    <span class="comment">// return value &gt; 20; </span></span><br><span class="line">    <span class="keyword">return</span> value &lt; <span class="number">3</span>; </span><br><span class="line">&#125;) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag); <span class="comment">// false </span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;pink&#x27;</span>,<span class="string">&#x27;blue&#x27;</span>]; </span><br><span class="line"><span class="keyword">var</span> flag1 = arr1.<span class="title function_">some</span>(<span class="keyword">function</span>(<span class="params">value</span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> value == <span class="string">&#x27;pink&#x27;</span>; </span><br><span class="line">&#125;) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag1); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>some 和其他两个区别: 利用 return true 可以使 some 停止迭代,forEach和filter不可以</code></p></li><li><p><code>数组.every(function(currentValue,index,arr), thisValue)</code></p><p>用于检测数组所有元素是否都符合指定条件（通过函数提供）、在判断是否全选中好用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查ages数组中的所有值是否为18或更高：</span></span><br><span class="line"><span class="keyword">var</span> ages = [<span class="number">32</span>, <span class="number">33</span>, <span class="number">16</span>, <span class="number">40</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkAdult</span>(<span class="params">age</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> age &gt;= <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = ages.<span class="title function_">every</span>(checkAdult); <span class="comment">// false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="ES6新增数组方法"><a href="#ES6新增数组方法" class="headerlink" title="ES6新增数组方法"></a>ES6新增数组方法</h5><ul><li><p><code>Array.of()</code>: 与Array()构造数组,区别在于对于单个整数参数,前者返回一个第一个值为参数值的数组,后者返回一个长度等于参数值的空数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = <span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">7</span>); </span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="title class_">Array</span>(<span class="number">7</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1,arr2); <span class="comment">// [7] [,,,,,,]</span></span><br></pre></td></tr></table></figure></li><li><p>Array.from方法(Array.from 方法从一个类似数组(既具有length属性)或可迭代对象(对象、字符串)中创建一个新的,浅拷贝的数组实例)</p><p><code>Array.from(目标对象,函数)</code></p><p><code>转换对象</code>时,对象里面的属性名应有双引号且必须是整数,<code>一定要有length属性</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrayLike = &#123; </span><br><span class="line">    <span class="string">&quot;0&quot;</span>:<span class="string">&quot;zs&quot;</span>, </span><br><span class="line">    <span class="string">&quot;1&quot;</span>:<span class="string">&quot;ls&quot;</span>, </span><br><span class="line">    <span class="string">&quot;2&quot;</span>:<span class="string">&quot;ww&quot;</span>, </span><br><span class="line">    <span class="string">&quot;length&quot;</span>:<span class="number">3</span> <span class="comment">// 一定要有length属性 </span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayLike);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [&#x27;zs&#x27;,&#x27;ls&#x27;,&#x27;ww&#x27;]</span></span><br></pre></td></tr></table></figure><p><code>转换伪数组</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> weishuzu = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>); </span><br><span class="line"><span class="keyword">var</span> arr1 = <span class="title class_">Array</span>.<span class="title function_">from</span>(weishuzu); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1 <span class="keyword">instanceof</span> <span class="title class_">Array</span>);</span><br></pre></td></tr></table></figure><p><code>转换字符串</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;123&#x27;</span>; </span><br><span class="line"><span class="keyword">var</span> str1 = <span class="title class_">Array</span>.<span class="title function_">from</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1);<span class="comment">// [1,2,3]</span></span><br></pre></td></tr></table></figure></li><li><p><code>Array.from</code>: 中的函数用于对每个值进行操作</p><p>方法还可以接受第二个参数， 作用类似于数组的map方法,用来对每个元素进行处理，将处理后的值放入返回的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike2 = &#123; </span><br><span class="line">    <span class="string">&quot;0&quot;</span>:<span class="number">1</span>, </span><br><span class="line">    <span class="string">&quot;1&quot;</span>:<span class="number">2</span>, </span><br><span class="line">    <span class="string">&quot;length&quot;</span>:<span class="number">2</span> </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> newary  = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayLike2,<span class="function"><span class="params">item</span> =&gt;</span> item * <span class="number">2</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newary);</span><br></pre></td></tr></table></figure><p>所以将数据转为对象有两种方法:</p><ol><li><p>使用<code>扩展运算符</code></p></li><li><p>使用 <code>Array.from</code> 区别在于前者无法转换对象,后者可以</p></li></ol></li><li><p>数组.find</p><p><code>array.find(function(item,index) &#123;&#125;)</code>: 返回符合函数中条件的<code>第一个数值</code>, item 是数组的每个值,index为其对应的索引值, 没有返回 undefined</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [&#123; <span class="attr">id</span>:<span class="number">1</span>, <span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span> &#125;, &#123; <span class="attr">id</span>:<span class="number">2</span>, <span class="attr">name</span>:<span class="string">&#x27;ls&#x27;</span> &#125;]; </span><br><span class="line"><span class="keyword">let</span> target = ary.<span class="title function_">find</span>(<span class="function">(<span class="params">item,index</span>) =&gt;</span> item.<span class="property">id</span> == <span class="number">2</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br></pre></td></tr></table></figure></li><li><p>数组.findIndex</p><p><code>array.findIndex(function(value,index)&#123;&#125; )</code>: find <code>返回第一个</code>符合条件的数值的索引值, value 为值,index 为其索引值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">18</span>]; </span><br><span class="line"><span class="keyword">let</span> ary1 = ary.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">value,index</span>) =&gt;</span> value &gt; <span class="number">9</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary1);</span><br></pre></td></tr></table></figure></li><li><p>数组.includes</p><p><code>array.includes(目标值)</code>: 返回的是布尔值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">2</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>,<span class="number">3</span>].<span class="title function_">includes</span>(<span class="string">&#x27;e&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>数组.copyWithin 复制数组制定成员内容到数组内其他位置</p><p><code>array.copyWithin(替换的目标的起始位置,替换内容的起始位置,替换内容的结束位置(不包括该位置))</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr3 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]; </span><br><span class="line">arr3.<span class="title function_">copyWithin</span>(<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr3); <span class="comment">// [1,2,3,4,3,4,5,8]</span></span><br></pre></td></tr></table></figure></li><li><p>数组.fill 用给定内容替换数组内容</p><p><code>array.fill(替换内容,替换开始位置,替换结束位置(不包括))</code>: 默认全部替换</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]; </span><br><span class="line">arr2.<span class="title function_">fill</span>(<span class="string">&#x27;a&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">// [a,a,a,a] </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">3</span>).<span class="title function_">fill</span>(<span class="string">&#x27;a&#x27;</span>)); <span class="comment">// [a,a,a] </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr3.<span class="title function_">fill</span>(<span class="string">&#x27;1&#x27;</span>,<span class="number">3</span>,<span class="number">5</span>)); <span class="comment">// [1,2,3,1,1,4,5,8]</span></span><br></pre></td></tr></table></figure></li><li><p>reduce 迭代 直接从第二项开始迭代</p><p><code>参数1:上一次迭代return的值</code></p><p><code>参数2: 当前值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr4 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>] </span><br><span class="line"><span class="keyword">const</span> sum = arr4.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev,item</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item); </span><br><span class="line">    <span class="comment">// console.log(prev); </span></span><br><span class="line">    <span class="keyword">return</span> item + prev; </span><br><span class="line">&#125;) <span class="comment">// 2 3 4 5 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 21</span></span><br></pre></td></tr></table></figure></li><li><p>reduceRight 跟 reduce一样 但是是从右边开始</p></li><li><p>keys 用于 <code>for...of...</code> 遍历数组每一项的<code>索引值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr6 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> arr6.<span class="title function_">keys</span>()) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// 0 1 2 3 4 5 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>values 用于 <code>for...of...</code> 遍历数组每一项的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> arr.<span class="title function_">values</span>()) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// 1 2 3 4 5 6  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>entries 用于 <code>for...of...</code> 遍历数组每一项键值对 返回数值形式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> arr6.<span class="title function_">entries</span>()) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">// [0,1] [1,2] [2,3] [3,4] [4,5] [5,6] </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>注意: 所有数组方法的结束位置参数都是不包括在内 即顾前不顾后</p></li></ul><h3 id="字符串扩展"><a href="#字符串扩展" class="headerlink" title="字符串扩展"></a>字符串扩展</h3><h4 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h4><blockquote><p>利用反引号&#96;&#96;定义字符串</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">`woshizykj`</span>;</span><br></pre></td></tr></table></figure><p>特点:</p><ol><li><p>可以解析变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">`zykj`</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name <span class="keyword">instanceof</span> <span class="title class_">String</span>); </span><br><span class="line"><span class="keyword">let</span> sayHello = <span class="string">`hello my name is <span class="subst">$&#123;name&#125;</span>`</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sayHello);</span><br></pre></td></tr></table></figure></li><li><p>可以空行</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = &#123; <span class="attr">name</span>:<span class="string">&#x27;zd&#x27;</span>, <span class="attr">age</span>:<span class="number">18</span> &#125;; </span><br><span class="line"><span class="keyword">let</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;div&gt; 	</span></span><br><span class="line"><span class="string">     &lt;span&gt;<span class="subst">$&#123;result.name&#125;</span>&lt;/span&gt; 	</span></span><br><span class="line"><span class="string">     &lt;span&gt;<span class="subst">$&#123;result.age&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt; </span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure></li><li><p>可以调用函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123; <span class="keyword">return</span> <span class="string">&#x27;我是fn函数&#x27;</span>; &#125; </span><br><span class="line"><span class="keyword">let</span> html1 = <span class="string">`我是模板字符串 <span class="subst">$&#123;fn()&#125;</span>`</span>; <span class="comment">// 我是模板字符串 我是fn函数 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(html1);</span><br></pre></td></tr></table></figure></li></ol><p>注意: 调用外部变量和函数必须用 ${} , {} 中可以放入任意 js 表达式</p><p><code>String.raw</code> 用来将模板字符串转义(包括变量)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;world&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>.<span class="property">raw</span><span class="string">`hello<span class="subst">$&#123;str&#125;</span>`</span>); <span class="comment">// helloworld</span></span><br></pre></td></tr></table></figure><h4 id="三种确定字符串是否包含另外一个字符串方法"><a href="#三种确定字符串是否包含另外一个字符串方法" class="headerlink" title="三种确定字符串是否包含另外一个字符串方法"></a>三种确定字符串是否包含另外一个字符串方法</h4><blockquote><p>ES6提供了 三种新的用来确定一个字符串是否包含了另外一个字符串的方法(原先只有 indexOf) : startsWith、endsWith、includes</p></blockquote><p>判断字符串开头结尾</p><p><code>字符串.startsWith(&#39;xxx&#39;);</code> : 判断 str 字符串是否以 xxx 开头</p><p><code>字符串.endsWith(&#39;xxx&#39;);</code> : 判断 str 字符串是否以 xxx 结尾</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;hello myworld&#x27;</span>; </span><br><span class="line"><span class="comment">// startsWith 判断字符串是否以某字符串开头 返回布尔值 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">startsWith</span>(<span class="string">&#x27;he&#x27;</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="comment">// endsWith 判断字符串是否以某字符串结尾 返回布尔值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">endsWith</span>(<span class="string">&#x27;rld&#x27;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>string.includes(查找字符,开始查找的位置)</code>: 判断字符串是否有某个字符</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str1 = <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="title function_">includes</span>(<span class="string">&#x27;hello&#x27;</span>,<span class="number">2</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>以上三种方法都接受第二个参数,表示开始搜索的位置</p><h4 id="重复某个字符串"><a href="#重复某个字符串" class="headerlink" title="重复某个字符串"></a>重复某个字符串</h4><blockquote><p>返回新的字符串</p></blockquote><p><code>字符串.repeat(n)</code>: 将字符串 str 重复 n 次,返回新的,不改变旧的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;x&#x27;</span>.<span class="title function_">repeat</span>(<span class="number">5</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str); </span><br><span class="line">str1 = str.<span class="title function_">repeat</span>(<span class="number">2</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1);</span><br></pre></td></tr></table></figure><h4 id="字符串补全"><a href="#字符串补全" class="headerlink" title="字符串补全"></a>字符串补全</h4><p><code>padStart(补全后长度,补全的字符串)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str  = <span class="string">&#x27;xxx&#x27;</span>.<span class="title function_">padStart</span>(<span class="number">5</span>,<span class="string">&#x27;ab&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str);<span class="comment">// abxxx</span></span><br></pre></td></tr></table></figure><p><code>padEnd(补全后长度,补全的字符串)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">&#x27;xxx&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">6</span>,<span class="string">&#x27;abb&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1);<span class="comment">// xxxabb</span></span><br></pre></td></tr></table></figure><p>若第一个参数小于原字符串长度,则返回原字符串</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">&#x27;xxx&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">1</span>,<span class="string">&#x27;abbaaaaa&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1);<span class="comment">// xxx</span></span><br></pre></td></tr></table></figure><p>若补全的字符串长度加上原字符串长度大于第一个参数,则会截除补全后的字符串多余的部分</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">&#x27;xxx&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">6</span>,<span class="string">&#x27;abbaaaaa&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1)<span class="comment">// xxxabb</span></span><br></pre></td></tr></table></figure><h3 id="数值的扩展"><a href="#数值的扩展" class="headerlink" title="数值的扩展"></a>数值的扩展</h3><blockquote><p>ES6提供了二进制和八进制的新写法</p></blockquote><ul><li><p>二进制: 0b(0B)开头</p></li><li><p>八进制: 0o(0O)开头</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0o767</span> === <span class="number">503</span>)<span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0b011</span> === <span class="number">3</span>)<span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>如果要将改写法的二进制和八进制转为十进制,则要调用Number方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="number">0o767</span>))<span class="comment">// 503</span></span><br></pre></td></tr></table></figure><blockquote><p>Number.isFinite()、Number.isNaN()</p></blockquote><p><code>Number.isFinite</code>: 判断一个数值是否是有限的</p><p><code>Number.isNaN</code>: 判断一个值是否是 NaN</p><p>这两个方法与传统的全局方法在于: 传统方法会先将非数值转为数值在进行判断。而新方法只对数值有效,对于非数值一律返回 false</p><p>ES6 还将<code>parseInt</code>和<code>parseFloat</code>移植到了 Number 对象上面,行为保持不变</p><p><code>Number.isInteger()</code>: 判断一个数值是否是整数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="number">1</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="string">&#x27;1&#x27;</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="number">1.0</span>)); <span class="comment">// true </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="number">3.1</span>)); <span class="comment">// false </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="string">&#x27;nu&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>注意: js中 1 和 1.0 都是同样的存储方式,所以被视为同一个值</p><h3 id="函数的扩展"><a href="#函数的扩展" class="headerlink" title="函数的扩展"></a>函数的扩展</h3><h4 id="函数参数设置默认值"><a href="#函数参数设置默认值" class="headerlink" title="函数参数设置默认值"></a>函数参数设置默认值</h4><p><code>function xx(arg1=xx,arg2=yy,...)&#123;&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">x=<span class="number">0</span>,y=<span class="number">0</span></span>) &#123; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y;            </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> star = <span class="keyword">new</span> <span class="title class_">Star</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(star.<span class="property">x</span>,star.<span class="property">y</span>);</span><br></pre></td></tr></table></figure><p>注意: 参数默认值是不传值的,每次调用都会重新计算默认值。一旦设置了默认值,函数进行声明初始化时,参数列表会形成一个作用域。</p><br><p>可以解构赋值默认值配合使用</p><p>第一种: <code>只有赋值结构有默认值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">&#123;x,y=<span class="number">5</span>&#125;</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y); </span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 报错 </span></span><br><span class="line"><span class="title function_">foo</span>(&#123;&#125;); <span class="comment">// undefined 5</span></span><br><span class="line"><span class="title function_">foo</span>(&#123;<span class="attr">x</span>:<span class="number">5</span>&#125;); <span class="comment">// 5 5 </span></span><br><span class="line"><span class="title function_">foo</span>(&#123;<span class="attr">x</span>:<span class="number">5</span>,<span class="attr">y</span>:<span class="number">6</span>&#125;); <span class="comment">//5 6</span></span><br></pre></td></tr></table></figure><p>第二种: <code>参数和赋值结构都有默认值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fetch</span>(<span class="params">&#123;x,y=<span class="number">5</span>&#125; = &#123;&#125;</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y); </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">fetch</span>(); <span class="comment">// undefined 5</span></span><br><span class="line"><span class="title function_">fetch</span>(&#123;&#125;); <span class="comment">// undefined 5</span></span><br><span class="line"><span class="title function_">fetch</span>(&#123;<span class="attr">x</span>:<span class="number">3</span>&#125;); <span class="comment">// 3 5 </span></span><br><span class="line"><span class="title function_">fetch</span>(&#123;<span class="attr">x</span>:<span class="number">3</span>,<span class="attr">y</span>:<span class="number">10</span>&#125;); <span class="comment">// 3 10 </span></span><br></pre></td></tr></table></figure><h4 id="函数的length"><a href="#函数的length" class="headerlink" title="函数的length"></a>函数的length</h4><p>函数参数如果指定了默认值,那么函数的参数只会计算第一个指定了默认值的参数前面的参数个数,第一个指定了默认值的参数及其后面的参数(不管有没有指定默认值)都不计入 length 属性中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="keyword">function</span>(<span class="params">x,y=<span class="number">2</span>,z,k=<span class="number">1</span></span>) &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">length</span>);<span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h4 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h4><p>用于获取函数多余的参数,形式为…变量名,变量名代表的是一个数组变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x,...args</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(...args); </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">foo</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>); <span class="comment">// [2,3,4]</span></span><br></pre></td></tr></table></figure><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><blockquote><p>rest参数必须是最后一个参数。函数的length不包括rest参数</p></blockquote><p>name 属性</p><p>函数的 name 属性返回函数的名字</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Big</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Big&#x27;</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Big</span>.<span class="property">name</span>);<span class="comment">// Big</span></span><br></pre></td></tr></table></figure><h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><p><code>(参数1,参数2...) =&gt; &#123;函数体&#125;</code></p><h5 id="特性-1"><a href="#特性-1" class="headerlink" title="特性"></a>特性</h5><ol><li><p>如果函数体只有一句代码,且代码的执行结果就是函数的返回值,函数体大括号可以省略</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">fn</span> = (<span class="params">a,b</span>) =&gt; a + b; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">2</span>));</span><br></pre></td></tr></table></figure></li><li><p>箭头函数中,如果形参只有一个,形参外侧的小括号可以省略</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">fun</span>  = v =&gt; v; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fun</span>(<span class="number">1</span>));</span><br></pre></td></tr></table></figure></li><li><p><code>箭头函数不绑定 this 关键字,箭头函数中的 this 指向的是函数定义位置所在的对象中的(即箭头函数定义时所在花括号的外层的 this 的指向)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">name</span>: <span class="number">11</span>&#125;; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); </span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> fun = <span class="title function_">fn</span>(); <span class="comment">//返回window fun(); </span></span><br><span class="line"><span class="comment">// 返回window</span></span><br></pre></td></tr></table></figure><p>解析: 因为fun() 的函数体是在 fn() 中定义,所以其中的 this 即为 fn 中的 this,也就是通过 call 设定的 obj,所以输出值不是 fun 而是 obj</p></li><li><p>箭头函数里没有 arguments 对象 用 rest 参数代替</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn = <span class="function">(<span class="params">x,y</span>) =&gt;</span> &#123;   </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>箭头函数不能做构造函数 不能 new 调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn = <span class="function">(<span class="params">x,y</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = x; </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = y; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="title function_">fn</span>(<span class="string">&#x27;bruce&#x27;</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>箭头函数主要用于具名函数的声明和简化回调函数</p></li></ol><h5 id="箭头函数面试题"><a href="#箭头函数面试题" class="headerlink" title="箭头函数面试题"></a>箭头函数面试题</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">100</span>; </span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>, </span><br><span class="line">    <span class="attr">say</span>: <span class="function">() =&gt;</span> &#123; 	</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">age</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line">obj.<span class="title function_">say</span>(); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure><p>解析: 因为 say 函数定义在 obj 中,而 obj 是个对象,不形成作用域,所以 say 的指向为 window</p><h3 id="对象扩展"><a href="#对象扩展" class="headerlink" title="对象扩展"></a>对象扩展</h3><h4 id="对象的简写赋值"><a href="#对象的简写赋值" class="headerlink" title="对象的简写赋值"></a>对象的简写赋值</h4><p>可以直接将函数声明、变量写进对象中,属性名即为变量名,属性值即为该变量的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;bruce&#x27;</span>; </span><br><span class="line"><span class="keyword">let</span> age = <span class="number">20</span>; <span class="comment">// 简写赋值 </span></span><br><span class="line"><span class="keyword">let</span> school = &#123;name,age&#125;; </span><br><span class="line"><span class="keyword">let</span> obj = &#123; </span><br><span class="line">    <span class="title function_">fn</span>(<span class="params"></span>)&#123;&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(school.<span class="property">name</span>,school.<span class="property">age</span>) <span class="comment">// &#x27;bruce&#x27; 20</span></span><br></pre></td></tr></table></figure><h4 id="对象里用变量表示属性名"><a href="#对象里用变量表示属性名" class="headerlink" title="对象里用变量表示属性名"></a>对象里用变量表示属性名</h4><p>属性名使用 [] 里面就可以使用变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;name&#x27;</span>; </span><br><span class="line"><span class="keyword">let</span> obj2 = &#123; [str]:name &#125;; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">name</span>) <span class="comment">// bruce</span></span><br></pre></td></tr></table></figure><h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h4><blockquote><p>将源对象所有可枚举属性复制到目标对象(浅拷贝)</p></blockquote><p><code>Object.assign(target,sources...)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj3 = &#123; </span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> obj4 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(obj2,obj3); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj4);</span><br></pre></td></tr></table></figure><p><code>可以利用该方法实现浅拷贝</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj5 = &#123;&#125; </span><br><span class="line"><span class="keyword">let</span> obj6 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(obj5,obj4); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj6)</span><br></pre></td></tr></table></figure><p><code>深拷贝</code>: 拷贝多层,每一级别的数据都会重新开辟地址拷贝</p><p>拷贝方法: 利用递归函数</p><p>利用 for in 和 递归函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepcopy</span>(<span class="params">newobj,oldobj</span>) &#123; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> oldobj) &#123; 	</span><br><span class="line">        <span class="keyword">var</span> item = oldobj[k]; 	<span class="comment">//判断是否是数组 	</span></span><br><span class="line">        <span class="keyword">if</span>(item <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123; 		</span><br><span class="line">            newobj[k] = []; 		</span><br><span class="line">            <span class="title function_">deepcopy</span>(newobj[k],item); 	</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item <span class="keyword">instanceof</span> <span class="title class_">Object</span>) &#123; 	</span><br><span class="line">            newobj[k] = &#123;&#125;; 		</span><br><span class="line">            <span class="title function_">deepcopy</span>(newobj[k],item); 	</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; 		</span><br><span class="line">            newobj[k] = item; 	</span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意: 因为数组也是对象,所以要放在对象之前</p><h4 id="对象也可以使用扩展运算符"><a href="#对象也可以使用扩展运算符" class="headerlink" title="对象也可以使用扩展运算符"></a>对象也可以使用扩展运算符</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj11 = &#123;<span class="attr">name</span>:<span class="string">&#x27;clark&#x27;</span>&#125;; </span><br><span class="line"><span class="keyword">let</span> obj22 = &#123;<span class="attr">age</span>:<span class="number">20</span>&#125; </span><br><span class="line"><span class="keyword">let</span> obj33 = &#123;...obj11,...obj22&#125;; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj33); <span class="comment">// &#123;name:&#x27;clark&#x27;,age:20&#125;</span></span><br></pre></td></tr></table></figure><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><ul><li><p><code>Object.defineProperty(目标对象,&#39;修改的属性&#39;,descriptor)</code></p><p>其中 descriptor 以对象形式 {} 说明,包括了</p><p><code>value</code>: 设置属性的值</p><p><code>writable</code>: 值是否可以重写 true | false 默认为 false</p><p><code>enumerable</code>: 目标属性是否可以被遍历 true | false 默认为 false</p><p><code>configurable</code>: 目标属性是否可以被删除或是否可以再次修改特性 true | false 默认为 false</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">    id : <span class="number">1</span>, </span><br><span class="line">    pname : <span class="string">&#x27;xiaomi&#x27;</span>, </span><br><span class="line">    price : <span class="number">1999</span> </span><br><span class="line">&#125; <span class="comment">// 修改添加对象的属性 </span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;num&#x27;</span>,&#123; </span><br><span class="line">    <span class="attr">value</span>: <span class="number">1000</span> </span><br><span class="line">&#125;) </span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;price&#x27;</span>,&#123; </span><br><span class="line">    <span class="attr">value</span>: <span class="number">9.9</span> </span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;id&#x27;</span>,&#123; </span><br><span class="line">    <span class="attr">writable</span>:<span class="literal">false</span> </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>注意: 一开始就设置的好的属性如果没有利用该方法就不会被影响。只能修改已有属性或者新建自有属性,但不能修改继承属性</p></li><li><p><code>Object.getOwnPropertyDescriptor(对象名,对象属性名)</code>: 返回某个对象特定属性的属性描述符)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = &#123; 		</span><br><span class="line">    num : &#123; 			</span><br><span class="line">        num1 : <span class="number">2</span> 		</span><br><span class="line">    &#125; 	</span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;,<span class="string">&quot;x&quot;</span>));<span class="comment">//&#123;value: 1, writable: true, enumerable: true, configurable: true&#125;</span></span><br></pre></td></tr></table></figure></li><li><p><code>Object.keys(对象名)</code></p><p>获取对象的所有可枚举的自有属性属性名**,**以数组形式返回</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj);</span><br><span class="line"><span class="comment">// console.log(arr); </span></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>与 for(var k in obj){} 的区别在于后者返回字符串 前者返回数组</p></li><li><p><code>Object.values 返回对象的属性值 数组形式</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>, &#125; ;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(obj)); <span class="comment">// [&#x27;bruce&#x27;]</span></span><br></pre></td></tr></table></figure></li><li><p><code>Object.entries 返回对象的属性和值 二维数组形式</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>, &#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj)); <span class="comment">// [[&#x27;name&#x27;,&#x27;bruce&#x27;]]</span></span><br></pre></td></tr></table></figure></li></ul><p>对象的解构赋值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;x,y,...z&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>,<span class="attr">y</span>:<span class="number">2</span>,<span class="attr">a</span>:<span class="number">3</span>,<span class="attr">b</span>:<span class="number">4</span>&#125;; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z); <span class="comment">// &#123;a:3,b:4&#125;</span></span><br></pre></td></tr></table></figure><p>对象的扩展运算符</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>:<span class="number">1</span>,<span class="attr">y</span>:<span class="number">2</span>&#125;; </span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;...obj&#125;; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1); <span class="comment">// &#123;x:1,y:2&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Set数据结构"><a href="#Set数据结构" class="headerlink" title="Set数据结构"></a>Set数据结构</h3><blockquote><p>类似于数组,但是会自动消除重复的数据,适用于搜索引擎。即成员的值都是唯一的,没有key 没有索引 无法通过索引获取</p></blockquote><h4 id="Set数据结构的创建"><a href="#Set数据结构的创建" class="headerlink" title="Set数据结构的创建"></a>Set数据结构的创建</h4><p><code>new Set()</code>;</p><p>参数必须是数组或者是类数组或者是有 iterable 接口</p><p>有 iterable 接口: 数组 arguments DOM 元素集合 set Map 字符串</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a  = <span class="keyword">new</span> <span class="title class_">Set</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">size</span>); <span class="comment">// 0 </span></span><br><span class="line"><span class="keyword">const</span> b = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>]); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">size</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><p>可以利用 Set 数据结构对数组去重</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s3 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...s3);</span><br></pre></td></tr></table></figure><h4 id="Set数据结构方法"><a href="#Set数据结构方法" class="headerlink" title="Set数据结构方法"></a>Set数据结构方法</h4><ul><li><p><code>set.size</code>: 返回实例的值个数</p></li><li><p><code>set.add(value)</code>: 添加某个值 返回Set解构本身</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s1 = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">s1.<span class="title function_">add</span>(<span class="string">&#x27;pink&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br></pre></td></tr></table></figure></li><li><p><code>set.delete(value)</code>: 删除某个值 返回布尔值显示删除是否成功</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> r1 = s1.<span class="title function_">delete</span>(<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r1); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p><code>set.has()</code>: 判断是否存在某个值 返回布尔值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> r2 = s1.<span class="title function_">has</span>(<span class="string">&#x27;pink&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r2);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p><code>set.clear()</code>: 删除全部数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1.<span class="title function_">clear</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br></pre></td></tr></table></figure></li></ul><h4 id="遍历Set数据结构"><a href="#遍历Set数据结构" class="headerlink" title="遍历Set数据结构"></a>遍历Set数据结构</h4><blockquote><p>利用forEach函数</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s2 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]); </span><br><span class="line">s2.<span class="title function_">forEach</span>(<span class="function"><span class="params">value</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(value));</span><br></pre></td></tr></table></figure><p>Set 实例也有 keys、values、entries 方法,由于 Set 数据类型没有索引,所以 keys 和 values 返回的是同样的值</p><h4 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h4><p>与 Set 数据类型相同,也是不重复的值的集合。但是与 Set 有两个区别:</p><ol><li><p>WeakSet 的成员必须是对象类型的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="title class_">WeakSet</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);<span class="comment">//报错</span></span><br></pre></td></tr></table></figure></li><li><p>WeakSet 的对象都是弱引用,即垃圾回收机制不考虑 WeakSet 对该对象的引用,而是会继续回收该对象</p><p>垃圾回收机制依赖引用计数,当一个数值的引用次数不为 0,就无法被回收。结束该值的使用后,有时会忘记取消引用,导致该对象之前所占内存无法释放,进而可能引发内存泄漏。而 WeakSet 的引用都不计入垃圾回收机制,所以就不存在这个问题。由于这些特点,WeakSet 无法遍历也没有 size 属性,因为其成员随时可能消失。</p></li></ol><h3 id="Symbol数据类型"><a href="#Symbol数据类型" class="headerlink" title="Symbol数据类型"></a>Symbol数据类型</h3><blockquote><p>是一个基本数据类型 表示独一无二的值</p></blockquote><p>通过<code>Symbol()</code>方法直接创造 Symbol 类型值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sym1 = <span class="title class_">Symbol</span>(); </span><br><span class="line"><span class="keyword">let</span> sym2 = <span class="title class_">Symbol</span>();</span><br></pre></td></tr></table></figure><p>注意: 不能用 new 调用,因为 Symbol 是一个基本数据类型而不是函数</p><br><p>Symbol 函数可接受一个参数 用以描述当前 Symbol 值(相当于一个键值)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sym3 = <span class="title class_">Symbol</span>(<span class="string">&#x27;one&#x27;</span>); </span><br><span class="line"><span class="keyword">let</span> sym4 = <span class="title class_">Symbol</span>(<span class="string">&#x27;one&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sym3 === sym4); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><br><p>Symbol 不可以进行数值运算,但是可以转为字符串和布尔值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// console.log(Symbol(3) +1); 错误</span></span><br><span class="line"><span class="comment">// console.log(Symbol(&#x27;1&#x27;) + &#x27;bruce&#x27;) 错误</span></span><br></pre></td></tr></table></figure><br><p><code>Symbol.for(参数)</code>: 根据描述寻找对应值 如果之前有相同参数的 Symbol 值,则返回这个值,否则则创建一个新的 Symbol</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> zf1 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&#x27;zhufeng&#x27;</span>); </span><br><span class="line"><span class="keyword">let</span> zf2 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&#x27;zhufeng&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(zf1 === zf2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>Symbol.keyFor(Symbol值)</code>: 返回 Symbol.for 找到或创造的 Symbol 值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(zf2));</span><br></pre></td></tr></table></figure><p>用途: Symbol 数据类型主要用于属性名,防止对象内属性名的冲突</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; [sym1]:<span class="string">&#x27;bruce&#x27;</span>, [sym2]:<span class="string">&#x27;clark&#x27;</span> &#125; ;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[sym1]); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">sym2</span>); </span><br><span class="line">obj[sym3] = <span class="string">&#x27;diana&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><p>注意: Symbol 做为属性名时,不会出现在<code>for in</code> <code>for of</code> <code>Object.keys</code> <code>Object.getOwnPropertyNames</code></p><h3 id="Map数据类型"><a href="#Map数据类型" class="headerlink" title="Map数据类型"></a>Map数据类型</h3><blockquote><p>一个构造函数,代表了键值对的集合,键的范围包括各种类型的值而不局限于字符串</p></blockquote><h4 id="创建实例-1"><a href="#创建实例-1" class="headerlink" title="创建实例"></a>创建实例</h4><p><code>new Map([[key1,value1],[key2,value2],...])</code>: 参数是一个二维数组,每一项内嵌数组里有key和对应的映射值value</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map1 =  <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="number">1</span>,<span class="string">&#x27;zhufeng&#x27;</span>],[<span class="literal">false</span>,&#123;<span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>&#125;]]);</span><br></pre></td></tr></table></figure><p>注意:</p><ol><li>属性名不能重复,因为是映射关系,一个值只能映射一个值</li></ol><h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h4><p><code>属性.size</code>: 映射对的个数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map2.<span class="property">size</span>); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><p><code>map.get(key)</code>: 获取key键的映射值,key值不用转为字符串</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> age = map2.<span class="title function_">get</span>(<span class="number">1</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// sz </span></span><br><span class="line"><span class="keyword">const</span> bol = map2.<span class="title function_">get</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bol);</span><br></pre></td></tr></table></figure><p><code>map.set(key,value)</code>: 给键 key 设置值 value</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map2.<span class="title function_">set</span>(<span class="number">1</span>,<span class="string">&#x27;hz&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map2.<span class="title function_">get</span>(<span class="number">1</span>)); <span class="comment">// hz</span></span><br></pre></td></tr></table></figure><p><code>map.has(key)</code>: 判断 key 键有没有对应的 value 值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map2.<span class="title function_">has</span>(<span class="literal">false</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>map.delete(key)</code>: 删除 key 键 返回布尔值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map2.<span class="title function_">delete</span>(<span class="literal">false</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map2.<span class="title function_">has</span>(<span class="literal">false</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><code>map2.forEach((value,index,input) =&gt; &#123;&#125;)</code>: 遍历 map 数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map2.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,index</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([index,value]); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>map.clear()</code>: 清空所有映射</p><p><code>map.keys()</code>: 获取键值 用于遍历</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> map2.<span class="title function_">keys</span>()) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>map.values()</code>: 获取映射值 用于遍历</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> map2.<span class="title function_">values</span>()) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>map.entries()</code>: 获取映射对</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> map2.<span class="title function_">entries</span>()) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h4><p>与 Map 基本相同,但有两个区别:</p><ol><li><p>键名只能用对象</p></li><li><p>键名所指向的对象不计入垃圾回收机制</p></li></ol><p>由于这些特性,WeakMap 数据同样没有 size 属性也无法遍历</p><p>注意: WeakMap 弱引用的只是键名而不是键值。</p><h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><blockquote><p>用于代理对象,拦截&#x2F;改写对对象的操作</p></blockquote><h4 id="创建实例-2"><a href="#创建实例-2" class="headerlink" title="创建实例"></a>创建实例</h4><p><code>new Proxy(target,handler)</code>:</p><p>第一个参数: 代理的对象也可以是函数</p><p>第二个参数: 配置对象,对于每一个拦截的操作,都需要提供一个对应的处理函数,该函数将拦截对应的操作</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxy1 = <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj,&#123; </span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target,key,proxy</span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get&#x27;</span>) 	</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;haha&#x27;</span>; </span><br><span class="line">    &#125;, </span><br><span class="line">    <span class="title function_">set</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>注意: 必须是对 Proxy 实例操作其代理的对象才能执行拦截的函数</p><h4 id="Proxy拦截对象操作"><a href="#Proxy拦截对象操作" class="headerlink" title="Proxy拦截对象操作"></a>Proxy拦截对象操作</h4><p>get: 用于拦截对对象属性值的读取,三个参数</p><p>参数:</p><p><code>target</code>: 原对象</p><p><code>propKey</code> : 读取的属性名</p><p><code>receiver</code> : 调用的 proxy 对象</p><p>利用 get 拦截操作实现数组读取负数索引</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]; </span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(arr,&#123; </span><br><span class="line">    <span class="attr">get</span>:<span class="keyword">function</span>(<span class="params">target,prop,receiver</span>) &#123; 	</span><br><span class="line">        <span class="keyword">if</span>(<span class="title class_">Number</span>(prop) &lt; <span class="number">0</span>) &#123; 		</span><br><span class="line">            <span class="keyword">return</span> target[target.<span class="property">length</span>+<span class="title class_">Number</span>(prop)];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; 		</span><br><span class="line">            <span class="keyword">return</span> target[prop]; 	</span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proxy[-<span class="number">4</span>]);</span><br></pre></td></tr></table></figure><hr><p>set: 用于拦截对对象属性值的值的设置,四个参数</p><p>参数:</p><p><code>target</code>: 原对象</p><p><code>propKey</code>: 读取的属性名</p><p><code>value</code>: 设置的值</p><p><code>receiver</code>: 调用的 proxy 对象</p><p>set 实现属性设置的限制</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; </span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>, </span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span> </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj,&#123; </span><br><span class="line">    <span class="attr">set</span>:<span class="keyword">function</span>(<span class="params">target,propKey,value,receiver</span>) &#123; 	</span><br><span class="line">        <span class="keyword">if</span>(propKey === <span class="string">&#x27;age&#x27;</span>) &#123; 		</span><br><span class="line">            <span class="keyword">if</span>(value &gt;= <span class="number">100</span>) &#123; 			</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;exceed the limit!&#x27;</span>) 		</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; 		</span><br><span class="line">                target[propKey] = value; 	</span><br><span class="line">            &#125; 	</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;) </span><br><span class="line">proxy.<span class="property">age</span> = <span class="number">90</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">age</span>); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><hr><p>has: 拦截in运算符</p><p>参数:</p><p><code>target</code>: 原对象</p><p><code>propKey</code> : 读取的属性名</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">name</span>:<span class="string">&#x27;zhufeng&#x27;</span>&#125;; </span><br><span class="line"><span class="keyword">let</span> proxy1 = <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj,&#123; </span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target,propKey,receiver</span>) &#123; 	</span><br><span class="line">        <span class="comment">// target:原对象 	</span></span><br><span class="line">        <span class="comment">// Propkey:获取的属性名 	</span></span><br><span class="line">        <span class="comment">// receiver 当前Proxy实例 </span></span><br><span class="line">        <span class="keyword">return</span> target[propKey] </span><br><span class="line">    &#125;, <span class="title function_">set</span>(<span class="params">target,propKey,value,receiver</span>) &#123; </span><br><span class="line">        <span class="comment">// target:原对象 </span></span><br><span class="line">        <span class="comment">// Propkey:获取的属性名 </span></span><br><span class="line">        <span class="comment">// value:设置的值 	</span></span><br><span class="line">        <span class="comment">// receiver 当前Proxy实例 </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>); 	</span><br><span class="line">        target[propKey] = value; </span><br><span class="line">    &#125;, </span><br><span class="line">    <span class="comment">// has 拦截in运算符</span></span><br><span class="line">    <span class="title function_">has</span>(<span class="params">target,propKey</span>) &#123; 	</span><br><span class="line">        <span class="comment">// console.log(&#x27;yes&#x27;); </span></span><br><span class="line">        <span class="keyword">return</span> propKey <span class="keyword">in</span> target; </span><br><span class="line">    &#125;, </span><br><span class="line">&#125;) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proxy1.<span class="property">name</span>); <span class="comment">// zhufeng </span></span><br><span class="line">proxy1.<span class="property">name</span> = <span class="string">&#x27;haha&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&#x27;name&#x27;</span>]); <span class="comment">// haha </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> proxy1); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="Proxy拦截函数操作"><a href="#Proxy拦截函数操作" class="headerlink" title="Proxy拦截函数操作"></a>Proxy拦截函数操作</h4><p>apply: 用于拦截函数的执行,三个参数</p><p>参数:</p><p><code>target</code> : 原函数</p><p><code>object</code> : 函数中 this 指向</p><p><code>args</code> : 参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxy2 = <span class="keyword">new</span> <span class="title class_">Proxy</span>(getObj,&#123;</span><br><span class="line">    <span class="comment">// 拦截函数执行 </span></span><br><span class="line">    <span class="title function_">apply</span>(<span class="params">target,object,args</span>) &#123; 	</span><br><span class="line">        <span class="comment">// target:原函数 	</span></span><br><span class="line">        <span class="comment">// args:传入的参数 数组形式 	</span></span><br><span class="line">        <span class="comment">// obejct: 修改函数this指向 	</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;function&#x27;</span>); 	</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(args); </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(object); 	</span><br><span class="line">        <span class="keyword">if</span>(object) &#123; 	</span><br><span class="line">            object.<span class="property">fn</span> = target; 	</span><br><span class="line">            object.<span class="title function_">fn</span>(...args); 	</span><br><span class="line">            <span class="keyword">delete</span> object.<span class="property">fn</span>; 	</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; 		</span><br><span class="line">            <span class="title function_">target</span>(...args); </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;,</span><br><span class="line">&#125;) </span><br><span class="line"><span class="title function_">proxy2</span>();<span class="comment">// function [] undefined NaN </span></span><br><span class="line"><span class="title function_">proxy2</span>(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">// function [1,2] undefiend 3 </span></span><br><span class="line">proxy2.<span class="title function_">call</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;bruce&#x27;</span>&#125;,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">// function [1,2]  &#123;name:&#x27;bruce&#x27;&#125; 3</span></span><br></pre></td></tr></table></figure><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><div class="note info flat"><p>视频教程:<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV15741177Eh?p=125">Promise 的介绍和使用</a> 、 文章教程: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_37860963/article/details/81539118">怎么理解 JS Promise</a></p></div><blockquote><p>用于处理异步函数的执行顺序、主要用于<code>网络请求</code></p></blockquote><h4 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h4><p>Promise 是一个容器,一个对象,里面存放着异步事件,里面的异步事件有三种状态:</p><ul><li><code>pending (进行中)</code></li><li><code>fulfilled (已成功)</code></li><li><code>rejected (已失败)</code></li></ul><p>Promise 容器可以获取根据异步事件的结果将其转为完成状态或失败状态,并将事件结果传送出去</p><p>Promise 对象的特点:</p><ul><li><p>对象的状态不受外界影响,只要异步操作的结果可以决定是哪一种状态</p></li><li><p>一旦状态改变就不会再变,会一直保持这个状态,成为 Resolved</p></li></ul><p>步骤:</p><ol><li><p>创建 promise 容器 : 即创建一个承诺变量 里面封装了异步任务 会自动调用</p><p>promise 本身不是异步</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123; </span><br><span class="line">    fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./data/a.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="function">(<span class="params">err,data</span>) =&gt;</span> &#123; </span><br><span class="line">        <span class="keyword">if</span>(err) &#123; 		</span><br><span class="line">            <span class="comment">// 如果失败 		</span></span><br><span class="line">            <span class="comment">// console.log(err); 	</span></span><br><span class="line">            <span class="comment">// 调用reject 将容器的状态由pending改为Rejected、然后执行catch		</span></span><br><span class="line">            <span class="title function_">reject</span>(err); 	</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; 	</span><br><span class="line">            <span class="comment">// 如果成功 		</span></span><br><span class="line">            <span class="comment">// console.log(data); 		</span></span><br><span class="line">            <span class="comment">// 调用resolve 将容器的状态由pending改为Resolved、然后执行then 	</span></span><br><span class="line">            <span class="title function_">resolve</span>(data); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;) </span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// resolve(data); 会执行到这里</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// reject(err); 会执行到这里</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>设置承诺了之后调用 <code>then</code> 方法</p><p>设置承诺里面回调函数的 <code>resolve/reject</code> 事件:</p><ul><li>参数 1 就是上面的函数 <code>resolved</code></li><li>参数 2 就是函数 <code>rejected</code> 这里是在设置 <code>resolve</code> 和 <code>reject</code> 的具体函数</li></ul><p>在 <code>resolve</code> 里面最后要 return 接下去要执行的异步事件所在的 Promise 对象实例,形成链式编程,实现顺序执行</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">p1.<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123; </span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(data); </span><br><span class="line">    <span class="comment">// return 一个Promise对象进行设置 链式编程</span></span><br><span class="line">       <span class="keyword">return</span> p2;</span><br><span class="line">   &#125;,<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;failed&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123; </span><br><span class="line">       <span class="comment">// 这是定义p2的resolved </span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data + <span class="string">&#x27;haha&#x27;</span>); </span><br><span class="line">       <span class="keyword">return</span> p3; </span><br><span class="line">   &#125;,<span class="function">(<span class="params">err</span>) =&gt;</span> &#123; </span><br><span class="line">       <span class="comment">// 这是定义p2的reject </span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(err); </span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure></li></ol><p>注意:</p><ol><li><p>即先创造保证,再设置异步事件完成后具体做什么</p></li><li><p>实现同步输出的原理就是: new Promise 是同步的,里面的函数依旧是异步的,所以继续往下进行 resolved 和 reject 函数的定义,第一个定义的 promise 的异步函数执行完后,会调用 resolved 或者 reject 函数,所以会找到定义之处进行执行,由于另外一个 promise 的 resolved 和 reject 是在第一个定义之后 return 出来再定义的,所以这个 promise 只能在第一个 promise 执行之后再定义,所以其 reject 和 resolve 函数也只能在其之后调用,依次递归形成同步</p></li><li><p>then 方法只有在当前脚本所有同步任务执行完毕后才会执行</p></li><li><p>resolve 函数只能有一个参数</p></li></ol><hr><ul><li><p><code>catch方法</code>: 捕获 promise 实例和 then 中 resolve 的错误 一般会在最后使用 catch</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pro1.<span class="title function_">then</span>(<span class="function">(<span class="params">mes</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(mes); </span><br><span class="line">    <span class="keyword">let</span> a1 = <span class="number">2</span>; </span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><code>Promise.all()</code>: 用于将多个 promise 实例整合成一个 promise 实例 参数为数组形式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pro2 = <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1,p2,p3])</span><br></pre></td></tr></table></figure></li><li><p>整合的实例的状态有两种情况:</p><ol><li>p1 , p2 , p3 的状态都为 fulfilled,p 才为 fulfilled。此时 p1 , p2 , p3 的结果组成一个数组,传递给 p 的回调函数</li><li>只要 p1 , p2 , p3 中有一个进入 rejected 状态,p 就会进入 rejected 状态。此时第一个进入 rejected 的子实例的结果就会传给 p 的回调函数</li></ol></li><li><p>执行错误则停止执行并通过 catch 方法输出</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pro2.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); </span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;) <span class="comment">// [&#x27;OK1&#x27;,&#x27;OK2&#x27;,&#x27;OK3&#x27;]</span></span><br></pre></td></tr></table></figure></li><li><p><code>Promsie.race()</code>: 与 all 方法类似,但只会输出第一个执行成功的回调函数的 resolve 的结果</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([p1,p2,p3]).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); </span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e); </span><br><span class="line">&#125;) <span class="comment">// &#x27;OK1&#x27;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="mongoose-中使用-promise"><a href="#mongoose-中使用-promise" class="headerlink" title="mongoose 中使用 promise"></a>mongoose 中使用 promise</h4><p>mongoose 中已经包装了 promise ,数据库操作事件后面可以直接调用 then 方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">User</span>.<span class="title function_">findOne</span>(&#123;<span class="attr">author</span>:<span class="string">&#x27;clark&#x27;</span>&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123; </span><br><span class="line">    <span class="keyword">if</span>(data) &#123; </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;用户已存在&#x27;</span>); </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; 	</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(&#123; 	</span><br><span class="line">            <span class="attr">author</span>:<span class="string">&#x27;clark&#x27;</span>, 	</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;wonder woman&#x27;</span>, 	</span><br><span class="line">            <span class="attr">body</span>:<span class="string">&#x27;prinecss&#x27;</span> 	</span><br><span class="line">        &#125;).<span class="title function_">save</span>(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="async函数和await"><a href="#async函数和await" class="headerlink" title="async函数和await"></a>async函数和await</h3><blockquote><p>Generator 函数的语法糖,加在函数声明前方,async 函数返回一个 Promise 对象</p></blockquote><p>async 函数可以看做由多个 promise 包装成的 Promise 对象, await 则是内部 promise 的 then 命令的语法糖</p><p>async 即把其后面的函数包装成一个 promise 对象,可以使用 then 方法添加回调函数。async 函数内 return 的值会作为 then 方法回调函数的参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;i am a async function!&#x27;</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">getName</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">// &#x27;i am a async function!&#x27; </span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>当 async 遇到 await 时,会等待其函数执行完毕后再继续执行后面的函数体.</p><p>await 后面一般是跟 Promise 对象</p><p>await promise 实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">whatName</span>(<span class="params">ms</span>) &#123; </span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; 	</span><br><span class="line">        <span class="built_in">setTimeout</span>(res,ms);</span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;bruce&#x27;</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="title function_">whatName</span>(<span class="number">5000</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">// 5秒后输出&#x27;bruce&#x27; </span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>async 函数返回的 Promise 状态由函数内 await 后面的 promise 实例的状态决定。如果 async 内部发生错误或者某一个 await 发生错误,那么该错误就会被 async 函数的 Pomise 实例的 catch 方法捕获。并且发生错误的await后面的函数体不再执行。只有 async 函数内部所有异步操作执行完,才会执行 then 方法指定的回调函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Error Happend!&#x27;</span>); </span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; 	</span><br><span class="line">        <span class="title function_">res</span>(); </span><br><span class="line">    &#125;) </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">fn</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); </span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e); <span class="comment">// &#x27;Error Happend!&#x27;</span></span><br><span class="line">&#125;) </span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; 	</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Error Happend!&#x27;</span>);</span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">        <span class="title function_">res</span>();</span><br><span class="line">    &#125;) </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">fn</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);<span class="comment">// &#x27;Error Happend!&#x27; </span></span><br><span class="line">&#125;) </span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">        <span class="title function_">res</span>(); </span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">        <span class="title function_">res</span>(); </span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;successed!&#x27;</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">fn</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">// &#x27;successed!&#x27; </span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h3><blockquote><p>Iterator(遍历器): 是一种接口,为各种不同的数据结构提供统一的访问机制。任何数据结构,只要部署了Iterator 接口,就可以完成遍历操作</p></blockquote><p>Iterator作用:</p><p>为各种数据结构提供统一的访问接口</p><ol><li>使得数据结构的成员能够按照某种次序排列</li><li>供 for…of 消费</li></ol><p>Iterator的遍历过程:</p><ol><li>创建一个指针对象,指向当前数据结构的起始位置</li><li>第一次调用指针对象的 next 方法,将指针指向数据结构第一个成员</li><li>第二次调用指针对象的 next 方法,将指针指向数据结构第二个成员</li><li>不断调用 next 方法,直到遍历结束</li></ol><p>next方法会返回数据结构的当前成员的信息。即一个包含 value 和 done 属性的对象。value 是当前成员的值, done 属性是一个布尔值,表示遍历是否结束</p><p>默认 Iterator 接口</p><p>数据结构只要部署了 Iterator 接口,就是可遍历的</p><p>许多数据结构都默认部署了 iterator 接口,包括:</p><ol><li><p>Array</p></li><li><p>Map</p></li><li><p>Set</p></li><li><p>NodeList对象</p></li><li><p>String</p></li><li><p>arguments</p></li><li><p>TyperArray</p></li></ol><p>默认的 Iterator 接口都部署在数据结构的 Symbol.iterator 属性中。</p><p><code>Symbol.iterator</code> 是一个表达式,返回 Symbol 对象的 iterator 属性。该属性是个函数,会返回一个指针对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; </span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>] : <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">        <span class="keyword">return</span> &#123; 	</span><br><span class="line">            <span class="attr">next</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; 	</span><br><span class="line">                <span class="keyword">return</span> &#123; 			</span><br><span class="line">                    <span class="attr">value</span>:<span class="number">1</span>, 		</span><br><span class="line">                    <span class="attr">done</span>:<span class="literal">true</span>, 		</span><br><span class="line">                &#125; 		</span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a>for…of</h3><blockquote><p><code>for...of</code>是ES6标准，用来遍历value值，遍历数组，<code>不能遍历普通对象</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 遍历数组</span><br><span class="line">let arr = [1, 2, 3]</span><br><span class="line">for (let value of arr) &#123;</span><br><span class="line">  console.log(value)</span><br><span class="line">&#125;  // 1  2  3</span><br></pre></td></tr></table></figure><ul><li><p><code>for...of</code> 不能遍历普通对象的原因</p><p>原因是：普通对象没有Symbol.iterator属性，如果一个对象拥有Symbol.iterator属性，那么就可以使用for…of遍历</p></li></ul><h3 id="ES6的module"><a href="#ES6的module" class="headerlink" title="ES6的module"></a>ES6的module</h3><p>ES6的模块化的基本规则或特点：</p><ol><li><p>每一个模块只加载一次， 每一个JS只执行一次， 如果下次再去加载同目录下同文件，直接从内存中读取。 一个模块就是一个单例，或者说就是一个对象；</p></li><li><p>每一个模块内声明的变量都是局部变量， 不会污染全局作用域；</p></li><li><p>模块内部的变量或者函数可以通过export导出；</p></li><li><p>一个模块可以导入别的模块</p></li></ol><p><code>export</code> 导出 <code>import</code> 导入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> c = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;zykj&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">18</span>;</span><br><span class="line"><span class="comment">//export中可以使用as关键字重命名对外输出名称</span></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">	name <span class="keyword">as</span> a,</span><br><span class="line">    age <span class="keyword">as</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// import * as 变量名 用以获取目标文件中所有export的变量,对象形式</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">&#x27;./config.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解构赋值形式用以获取目标文件中同名变量</span></span><br><span class="line"><span class="keyword">import</span> &#123;c,d&#125; <span class="keyword">from</span> <span class="string">&#x27;./config.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;name,age&#125; <span class="keyword">from</span> <span class="string">&#x27;./config.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// import 变量 用以获取目标文件中export default后的值</span></span><br><span class="line"><span class="keyword">import</span> fn <span class="keyword">from</span> <span class="string">&#x27;./config.js&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="ES6的模块化实现"><a href="#ES6的模块化实现" class="headerlink" title="ES6的模块化实现"></a>ES6的模块化实现</h3><p>如何实现模块化，在html中需要使用<code>type=&#39;module&#39;</code>属性。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;aaa.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;bbb.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;mmm.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此时表示aaa.js是一个单独的模块，此模块是有作用域的。如果要使用aaa.js内的变量，需要在aaa.js中先导出变量，再在需要使用的地方导出变量。</p><h4 id="直接导出"><a href="#直接导出" class="headerlink" title="直接导出"></a>直接导出</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&#x27;小明&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>使用</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;name&#125; <span class="keyword">from</span> <span class="string">&#x27;./aaa.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br></pre></td></tr></table></figure><p><code>./aaa.js</code>表示aaa.js和mmm.js在同级目录。</p><h4 id="统一导出"><a href="#统一导出" class="headerlink" title="统一导出"></a>统一导出</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var age = 22</span><br><span class="line">function sum(num1, num2) &#123;</span><br><span class="line">  return num1 + num2</span><br><span class="line">&#125;</span><br><span class="line">var flag = true</span><br><span class="line">if (flag) &#123;</span><br><span class="line">  console.log(sum(10, 20))</span><br><span class="line">&#125;</span><br><span class="line">//2.最后统一导出</span><br><span class="line">export &#123;</span><br><span class="line">  flag,sum,age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>使用<code>import &#123;name,flag,sum&#125; from &#39;./aaa.js&#39;</code>导入多个变量</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;name,flag,sum&#125; <span class="keyword">from</span> <span class="string">&#x27;./aaa.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;小明是天才&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">20</span>,<span class="number">30</span>));</span><br></pre></td></tr></table></figure><blockquote><p>使用{}将需要的变量放置进去</p></blockquote><h4 id="导出函数-x2F-类"><a href="#导出函数-x2F-类" class="headerlink" title="导出函数&#x2F;类"></a>导出函数&#x2F;类</h4><blockquote><p>在aaa.js中添加</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.导出函数/类</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">say</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;奔跑&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>在mmm.js中添加</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;name,flag,sum,say,<span class="title class_">Person</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;./aaa.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;小明是天才&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">20</span>,<span class="number">30</span>));</span><br><span class="line"></span><br><span class="line"><span class="title function_">say</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p.<span class="title function_">run</span>();</span><br></pre></td></tr></table></figure><blockquote><p>导入 export default</p></blockquote><blockquote><p>导出</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  flag,sum,age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>导入</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4.默认导入 export default</span></span><br><span class="line"><span class="keyword">import</span> aaa <span class="keyword">from</span> <span class="string">&#x27;./aaa.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aaa.<span class="title function_">sum</span>(<span class="number">10</span>,<span class="number">110</span>));</span><br></pre></td></tr></table></figure><blockquote><p>注意：使用默认导出会将所有需要导出的变量打包成一个对象，此时导出一个对象，此时我在<code>mmm.js</code>中导入变量时候命名为aaa，如果要调用变量需要使用aaa.变量。</p></blockquote><h4 id="统一全部导入"><a href="#统一全部导入" class="headerlink" title="统一全部导入"></a>统一全部导入</h4><blockquote><p>使用<code>import * as aaa from &#39;./aaa.js&#39;</code>统一全部导入</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.统一全部导入</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> aaa <span class="keyword">from</span> <span class="string">&#x27;./aaa.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aaa.<span class="property">flag</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(aaa.<span class="property">name</span>);</span><br></pre></td></tr></table></figure><h2 id="前端模块化"><a href="#前端模块化" class="headerlink" title="前端模块化"></a>前端模块化</h2><p>随着前端项目越来越大，团队人数越来越多，多人协调开发一个项目成为常态。</p><p>例如现在小明和小张共同开发一个项目，小明定义一个aaa.js，小张定义了一个bbb.js。</p><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-id-1">aaa.js</button></li><li class="tab"><button type="button" data-href="#tab-id-2">bbb.js</button></li><li class="tab"><button type="button" data-href="#tab-id-3">但是此时小明又创建了一个mmm.js</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-id-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//小明开发</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;小明&#x27;</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">22</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">20</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时小明的<code>sum</code>是没有问题的。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-id-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//小红</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;小红&quot;</span></span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>此时小明和小红各自用各自的<code>flag</code>你变量没问题。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-id-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//小明</span></span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;flag是true&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>在index.html页面导入这些js文件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;aaa.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;bbb.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;ccc.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此时小明知道自己在aaa.js中定义的<code>flag</code>是<code>true</code>，认为打印没有问题，但是不知道小红的bbb.js中也定义了<code>flag</code>为<code>true</code>，所以mmm.js文件并没有打印出“flag是true”。</p><blockquote><p>这就是全局变量同名问题。</p></blockquote><h3 id="使用导出全局变量模块解决全局变量同名问题"><a href="#使用导出全局变量模块解决全局变量同名问题" class="headerlink" title="使用导出全局变量模块解决全局变量同名问题"></a>使用导出全局变量模块解决全局变量同名问题</h3><blockquote><p>aaa.js</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模块对象</span></span><br><span class="line"><span class="keyword">var</span> moduleA = (<span class="keyword">function</span> (<span class="params">param</span>) &#123;</span><br><span class="line">  <span class="comment">//导出对象</span></span><br><span class="line">  <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;小明&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> age = <span class="number">22</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> flag = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  obj.<span class="property">flag</span>=<span class="literal">false</span></span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><blockquote><p>mmm.js</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//小明</span></span><br><span class="line"><span class="comment">//使用全局变量moduleA</span></span><br><span class="line"><span class="keyword">if</span>(moduleA.<span class="property">flag</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;flag是true&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样直接使用aaa.js导出的moduleA变量获取小明自己定义的<code>flag</code>。</p><h3 id="CommonJS的模块化实现"><a href="#CommonJS的模块化实现" class="headerlink" title="CommonJS的模块化实现"></a>CommonJS的模块化实现</h3><p>CommonJS需要nodeJS的依支持。</p><blockquote><p>aaa.js</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CommonJS需要nodeJS支持</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;小明&#x27;</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">22</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// module.exports = &#123;</span></span><br><span class="line"><span class="comment">//   flag : flag,</span></span><br><span class="line"><span class="comment">//   sum : sum</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//导出对象</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  flag,</span><br><span class="line">  sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用<code>module.exports = &#123;&#125;</code>导出需要的对象。</p><blockquote><p>mmm.js</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入对象,nodejs语法,需要node支持,从aaa.js取出对象</span></span><br><span class="line"><span class="keyword">var</span> &#123;flag,sum&#125; = <span class="built_in">require</span>(<span class="string">&quot;./aaa&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">10</span>,<span class="number">20</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;flag is true&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用 <code>var &#123;flag,sum&#125; = require(&quot;./aaa&quot;)</code>获取已经导出的对象中自己所需要的对象。</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://zykj.js.org">ZYKJ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://zykj.js.org/posts/8cde864d/">https://zykj.js.org/posts/8cde864d/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zykj.js.org" target="_blank">ZYKJ's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a><a class="post-meta__tags" href="/tags/%E9%AB%98%E7%BA%A7/">高级</a></div><div class="post_share"><div class="social-share" data-image="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascript-cover.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://gcore.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li><li class="reward-item"><a href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/d0fdeff9/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/jekyll+webstack-cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Jekyll+WebStack生成静态页面</div></div></a></div><div class="next-post pull-right"><a href="/posts/d3a7443d/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascriptstudy-cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JavaScript学习</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/d95a567b/" title="LeetCode算法题学习"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1fwsi3fn92oj21hc0u07wi.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-09-02</div><div class="title">LeetCode算法题学习</div></div></a></div><div><a href="/posts/d3a7443d/" title="JavaScript学习"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascriptstudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-12-18</div><div class="title">JavaScript学习</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">ZYKJ</div><div class="author-info__description">做一个普普通通的人.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://space.bilibili.com/241230332"><i class="fas fa-bold"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/241230332" rel="external nofollow noreferrer" target="_blank" title="BiliBili"><i class="fas fa-bold"></i></a><a class="social-icon" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/WeChat_Official_Account.jpg" rel="external nofollow noreferrer" target="_blank" title="微信公众号"><i class="fab fa-weixin"></i></a><a class="social-icon" href="https://github.com/zykjofficial/" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客！<br><div class="item-headline" style="margin:10px 0"><i class="fas fa-laptop card-announcement-animation"></i><span>关于本站</span></div><div class="github-badge"><a style="color:#fff" href="https://hexo.io/" rel="external nofollow noreferrer" target="_blank" title="由 Hexo 强力驱动"><span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo 6.0.0</span></a><a style="color:#fff" href="https://vercel.com/" rel="external nofollow noreferrer" target="_blank" title="静态网页托管于 Vercel"><span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">Vercel</span></a><a style="color:#fff" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" target="_blank" title="jsDelivr 提供 CDN 加速服务"><span class="badge-subject">CDN</span><span class="badge-value bg-orange">jsDelivr</span></a><a style="color:#fff" href="https://github.com/jerryc127/hexo-theme-butterfly" rel="external nofollow noreferrer" target="_blank" title="站点使用 Butterfly 4.5.0-b1版本 主题"><span class="badge-subject">Theme</span><span class="badge-value bg-blue">Butterfly 4.5.0-b1</span></a><a style="color:#fff" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可"><span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E9%AB%98%E7%BA%A7"><span class="toc-number">1.</span> <span class="toc-text">JavaScript高级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E5%A4%A7%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3"><span class="toc-number">1.1.</span> <span class="toc-text">两大编程思想</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8Bpop"><span class="toc-number">1.1.1.</span> <span class="toc-text">面向过程pop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1oop"><span class="toc-number">1.1.2.</span> <span class="toc-text">面向对象oop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.3.</span> <span class="toc-text">面向对象的特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%80%9D%E7%BB%B4%E7%89%B9%E7%82%B9"><span class="toc-number">1.1.4.</span> <span class="toc-text">面向对象的思维特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">1.1.5.</span> <span class="toc-text">类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB-ES6"><span class="toc-number">1.2.</span> <span class="toc-text">类(ES6)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">1.2.1.</span> <span class="toc-text">类的创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">创建实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">类中添加方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">1.2.4.</span> <span class="toc-text">类的继承</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">继承语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#super-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">super 关键字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%90%E7%B1%BB%E7%BB%A7%E6%89%BF%E7%88%B6%E7%B1%BB%E6%96%B9%E6%B3%95%E5%90%8C%E6%97%B6%E6%89%A9%E5%B1%95%E8%87%AA%E5%B7%B1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">子类继承父类方法同时扩展自己的方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%B1%BB%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.2.5.</span> <span class="toc-text">使用类注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6%E4%B8%AD%E7%9A%84%E7%B1%BB%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">1.2.6.</span> <span class="toc-text">ES6中的类的本质</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E5%8E%9F%E5%9E%8B-ES5"><span class="toc-number">1.3.</span> <span class="toc-text">构造函数和原型(ES5)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">创建对象三种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%92%8C%E5%AE%9E%E4%BE%8B%E6%88%90%E5%91%98"><span class="toc-number">1.3.3.</span> <span class="toc-text">静态成员和实例成员</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">原型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%9E%8B-proto"><span class="toc-number">1.4.1.</span> <span class="toc-text">对象原型 __proto__</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E4%B8%AD%E7%9A%84-constructor-%E5%B1%9E%E6%80%A7"><span class="toc-number">1.4.2.</span> <span class="toc-text">原型对象中的 constructor 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E3%80%81%E5%AE%9E%E4%BE%8B%E3%80%81%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E8%80%85%E5%85%B3%E7%B3%BB"><span class="toc-number">1.4.3.</span> <span class="toc-text">构造函数、实例、原型对象的三者关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.4.4.</span> <span class="toc-text">类和原型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%B1%BB%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.4.5.</span> <span class="toc-text">定义类的步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">1.4.6.</span> <span class="toc-text">原型链</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Object"><span class="toc-number">1.4.7.</span> <span class="toc-text">Object</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%96%B9%E6%B3%95%E7%9A%84%E6%9F%A5%E6%89%BE%E8%A7%84%E5%88%99"><span class="toc-number">1.4.8.</span> <span class="toc-text">实例对象属性方法的查找规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E4%B8%AD-this-%E7%9A%84%E6%8C%87%E5%90%91"><span class="toc-number">1.4.9.</span> <span class="toc-text">原型对象中 this 的指向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95-%E4%B8%8D%E5%BB%BA%E8%AE%AE%E8%BF%99%E4%B9%88%E5%81%9A%EF%BC%81"><span class="toc-number">1.4.10.</span> <span class="toc-text">扩展内置对象方法(不建议这么做！)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES5%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">1.4.11.</span> <span class="toc-text">ES5的继承</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#call%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.11.1.</span> <span class="toc-text">call函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E7%BB%A7%E6%89%BF%E5%88%A9%E7%94%A8call%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.11.2.</span> <span class="toc-text">属性的继承利用call函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">1.4.11.3.</span> <span class="toc-text">方法的继承</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%88%A4%E5%88%AB%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.11.4.</span> <span class="toc-text">类的判别方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES5%E6%96%B0%E5%A2%9E%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.12.</span> <span class="toc-text">ES5新增对象方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6"><span class="toc-number">1.4.13.</span> <span class="toc-text">函数进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.13.1.</span> <span class="toc-text">函数定义方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.13.2.</span> <span class="toc-text">函数调用方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%86%85-this-%E6%8C%87%E5%90%91"><span class="toc-number">1.4.13.3.</span> <span class="toc-text">函数内 this 指向</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%86%85%E6%94%B9%E5%8F%98-this-%E6%8C%87%E5%90%91%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.13.4.</span> <span class="toc-text">函数内改变 this 指向方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.13.5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.13.6.</span> <span class="toc-text">高阶函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F-IE10%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC%E6%94%AF%E6%8C%81"><span class="toc-number">1.5.</span> <span class="toc-text">严格模式(IE10以上版本支持)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9"><span class="toc-number">1.5.1.</span> <span class="toc-text">内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%BD%A2%E5%BC%8F%E5%8F%8A%E5%85%B6%E5%BC%80%E5%90%AF%E6%96%B9%E5%BC%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">两种形式及其开启方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E8%84%9A%E6%9C%AC%E5%BC%80%E5%90%AF%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">为脚本开启严格模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E5%87%BD%E6%95%B0%E5%BC%80%E5%90%AF%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">为函数开启严格模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E4%B8%AD%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">1.5.3.</span> <span class="toc-text">严格模式中的变化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E8%A7%84%E5%AE%9A"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">变量规定</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#this-%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">this 指向问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">函数的变化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">1.5.3.4.</span> <span class="toc-text">对象的变化</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">1.5.4.</span> <span class="toc-text">闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">闭包的主要作用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.5.</span> <span class="toc-text">递归函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0-%E7%94%A8%E6%9D%A5%E4%BB%A3%E8%A1%A8%E5%89%A9%E4%BD%99%E5%BD%A2%E5%8F%82%E7%9A%84%E5%8F%82%E6%95%B0-%E2%80%A6x"><span class="toc-number">1.5.6.</span> <span class="toc-text">剩余参数(用来代表剩余形参的参数 …x)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.6.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">1.6.1.</span> <span class="toc-text">作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%9C%A8js%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.6.2.</span> <span class="toc-text">正则表达式在js中的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">创建方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-test"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">测试正则表达式 test</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9E%84%E6%88%90"><span class="toc-number">1.6.2.3.</span> <span class="toc-text">正则表达式构成:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB"><span class="toc-number">1.6.2.4.</span> <span class="toc-text">字符类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8F%E8%AF%8D%E7%AC%A6-%E8%AE%BE%E5%AE%9A%E6%9F%90%E4%B8%AA%E6%A8%A1%E5%BC%8F%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-number">1.6.2.5.</span> <span class="toc-text">量词符(设定某个模式出现的次数)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%88%86%E7%BB%84%E5%BC%95%E7%94%A8"><span class="toc-number">1.6.2.6.</span> <span class="toc-text">选择分组引用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E7%B1%BB-%E6%9F%90%E4%BA%9B%E5%B8%B8%E8%A7%81%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%A2%84%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-number">1.6.2.7.</span> <span class="toc-text">预定义类(某些常见模式的预定义类)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E5%AD%97%E7%9A%84%E6%9B%BF%E6%8D%A2"><span class="toc-number">1.6.2.8.</span> <span class="toc-text">敏感字的替换</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%82%E6%95%B01"><span class="toc-number">1.6.2.8.1.</span> <span class="toc-text">参数1</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%82%E6%95%B02"><span class="toc-number">1.6.2.8.2.</span> <span class="toc-text">参数2</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-%E2%80%A6-in"><span class="toc-number">1.7.</span> <span class="toc-text">for … in</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6"><span class="toc-number">2.</span> <span class="toc-text">ES6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#let-%E5%92%8C-const"><span class="toc-number">2.1.</span> <span class="toc-text">let 和 const</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#let"><span class="toc-number">2.1.1.</span> <span class="toc-text">let</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#let%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">let经典面试题</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const"><span class="toc-number">2.1.2.</span> <span class="toc-text">const</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">特性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">2.1.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">2.2.</span> <span class="toc-text">解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84-%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7"><span class="toc-number">2.2.1.</span> <span class="toc-text">对象解构(用大括号)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">2.2.2.</span> <span class="toc-text">函数参数的解构赋值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6-%E2%80%A6%E5%8F%98%E9%87%8F"><span class="toc-number">2.3.</span> <span class="toc-text">扩展运算符(…变量)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E6%96%B0%E5%A2%9E%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">ES6新增方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.1.</span> <span class="toc-text">数组方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ES5%E6%96%B0%E5%A2%9E%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">ES5新增数组方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ES6%E6%96%B0%E5%A2%9E%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.1.2.</span> <span class="toc-text">ES6新增数组方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%89%A9%E5%B1%95"><span class="toc-number">2.5.</span> <span class="toc-text">字符串扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.5.1.</span> <span class="toc-text">模板字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E7%A1%AE%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95"><span class="toc-number">2.5.2.</span> <span class="toc-text">三种确定字符串是否包含另外一个字符串方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.5.3.</span> <span class="toc-text">重复某个字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A5%E5%85%A8"><span class="toc-number">2.5.4.</span> <span class="toc-text">字符串补全</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">2.6.</span> <span class="toc-text">数值的扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">2.7.</span> <span class="toc-text">函数的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">2.7.1.</span> <span class="toc-text">函数参数设置默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84length"><span class="toc-number">2.7.2.</span> <span class="toc-text">函数的length</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0"><span class="toc-number">2.7.3.</span> <span class="toc-text">rest参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">2.7.3.1.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">2.7.4.</span> <span class="toc-text">箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E6%80%A7-1"><span class="toc-number">2.7.4.1.</span> <span class="toc-text">特性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">2.7.4.2.</span> <span class="toc-text">箭头函数面试题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95"><span class="toc-number">2.8.</span> <span class="toc-text">对象扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%AE%80%E5%86%99%E8%B5%8B%E5%80%BC"><span class="toc-number">2.8.1.</span> <span class="toc-text">对象的简写赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E9%87%8C%E7%94%A8%E5%8F%98%E9%87%8F%E8%A1%A8%E7%A4%BA%E5%B1%9E%E6%80%A7%E5%90%8D"><span class="toc-number">2.8.2.</span> <span class="toc-text">对象里用变量表示属性名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Object-assign"><span class="toc-number">2.8.3.</span> <span class="toc-text">Object.assign</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.8.4.</span> <span class="toc-text">对象也可以使用扩展运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.8.5.</span> <span class="toc-text">方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">2.9.</span> <span class="toc-text">Set数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">2.9.1.</span> <span class="toc-text">Set数据结构的创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.9.2.</span> <span class="toc-text">Set数据结构方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">2.9.3.</span> <span class="toc-text">遍历Set数据结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WeakSet"><span class="toc-number">2.9.4.</span> <span class="toc-text">WeakSet</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbol%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.10.</span> <span class="toc-text">Symbol数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.11.</span> <span class="toc-text">Map数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B-1"><span class="toc-number">2.11.1.</span> <span class="toc-text">创建实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-number">2.11.2.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WeakMap"><span class="toc-number">2.11.3.</span> <span class="toc-text">WeakMap</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Proxy"><span class="toc-number">2.12.</span> <span class="toc-text">Proxy</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B-2"><span class="toc-number">2.12.1.</span> <span class="toc-text">创建实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Proxy%E6%8B%A6%E6%88%AA%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C"><span class="toc-number">2.12.2.</span> <span class="toc-text">Proxy拦截对象操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Proxy%E6%8B%A6%E6%88%AA%E5%87%BD%E6%95%B0%E6%93%8D%E4%BD%9C"><span class="toc-number">2.12.3.</span> <span class="toc-text">Proxy拦截函数操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-number">2.13.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.13.1.</span> <span class="toc-text">基础</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mongoose-%E4%B8%AD%E4%BD%BF%E7%94%A8-promise"><span class="toc-number">2.13.2.</span> <span class="toc-text">mongoose 中使用 promise</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#async%E5%87%BD%E6%95%B0%E5%92%8Cawait"><span class="toc-number">2.14.</span> <span class="toc-text">async函数和await</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterator"><span class="toc-number">2.15.</span> <span class="toc-text">Iterator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E2%80%A6of"><span class="toc-number">2.16.</span> <span class="toc-text">for…of</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E7%9A%84module"><span class="toc-number">2.17.</span> <span class="toc-text">ES6的module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.18.</span> <span class="toc-text">ES6的模块化实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%87%BA"><span class="toc-number">2.18.1.</span> <span class="toc-text">直接导出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E5%AF%BC%E5%87%BA"><span class="toc-number">2.18.2.</span> <span class="toc-text">统一导出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA%E5%87%BD%E6%95%B0-x2F-%E7%B1%BB"><span class="toc-number">2.18.3.</span> <span class="toc-text">导出函数&#x2F;类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E5%85%A8%E9%83%A8%E5%AF%BC%E5%85%A5"><span class="toc-number">2.18.4.</span> <span class="toc-text">统一全部导入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">前端模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AF%BC%E5%87%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E6%A8%A1%E5%9D%97%E8%A7%A3%E5%86%B3%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%90%8C%E5%90%8D%E9%97%AE%E9%A2%98"><span class="toc-number">3.1.</span> <span class="toc-text">使用导出全局变量模块解决全局变量同名问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CommonJS%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.2.</span> <span class="toc-text">CommonJS的模块化实现</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/javascript-cover.png)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By ZYKJ</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" data-pjax-state=""><b>jsDelivr</b></a> | HOST BY <a target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer"><b>Vercel</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/utils.js"></script><script src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/main.js"></script><script src="https://gcore.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://gcore.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://gcore.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://gcore.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://gcore.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"twikoo-4g2ypman52a24a4b",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"twikoo-4g2ypman52a24a4b",region:"",urls:[window.location.pathname],includeReply:!1}).then((function(t){o.innerText=t[0].count})).catch((function(o){console.error(o)}))})()},t=()=>{"object"!=typeof twikoo?getScript("https://gcore.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(o):setTimeout(o,0)};btf.loadComment(document.getElementById("twikoo-wrap"),t)})()</script></div><script>window.addEventListener("load",()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++)t+="<div class='aside-list-item'>",t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <div class='name'><span>${e[n].nick} / </span><time datetime="${e[n].date}">${btf.diffDate(e[n].date,!0)}</time></div>\n        </div></div>`;else t+="没有评论";let n=document.querySelector("#card-newest-comments .aside-list");n.innerHTML=t,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"twikoo-4g2ypman52a24a4b",region:"",pageSize:3,includeReply:!0}).then((function(t){const n=t.map(e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t});saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").innerHTML="无法获取评论，请确认相关配置是否正确"}))};"object"==typeof twikoo?t():getScript("https://gcore.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)})</script><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>🚀 网站已更新最新版本 📑</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">点我更新</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"🚀 博客已更新最新版本 🌍",backgroundColor:t,duration:5e5,pos:e,actionText:"点我更新⚡",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script src="https://gcore.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/catchcat/"]):not([href="/shuoshuo/"]):not([href="/music/"]):not([href="/about/"]):not([href="/friendcircle/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div></body></html>