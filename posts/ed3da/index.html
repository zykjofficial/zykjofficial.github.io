<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Vue-routerå­¦ä¹  | ZYKJ's Blog</title><meta name="author" content="ZYKJ"><meta name="copyright" content="ZYKJ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚"><meta property="og:type" content="article"><meta property="og:title" content="Vue-routerå­¦ä¹ "><meta property="og:url" content="https://zykj.js.org/posts/ed3da/index.html"><meta property="og:site_name" content="ZYKJ&#39;s Blog"><meta property="og:description" content="Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuerouterstudy-cover.png"><meta property="article:published_time" content="2020-07-01T12:24:54.000Z"><meta property="article:modified_time" content="2020-07-01T12:24:54.000Z"><meta property="article:author" content="ZYKJ"><meta property="article:tag" content="Vue"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuerouterstudy-cover.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"><link rel="canonical" href="https://zykj.js.org/posts/ed3da/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}",hits_stats:"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},translate:void 0,noticeOutdate:{limitDay:30,position:"top",messagePrev:"è¿™ç¯‡æ–‡ç« å·²ç»å‘è¡¨äº†",messageNext:"å¤©äº†ï¼Œå…¶ä¸­éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:450},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"å¤©",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡",cht_to_chs:"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡",day_to_night:"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼",night_to_day:"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-center"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Vue-routerå­¦ä¹ ",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2020-07-01 20:24:54"}</script><script>(e=>{e.saveToLocal={set:(e,t,a)=>{if(0===a)return;const o={value:t,expiry:Date.now()+864e5*a};localStorage.setItem(e,JSON.stringify(o))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const a=JSON.parse(t);if(!(Date.now()>a.expiry))return a.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((a,o)=>{const c=document.createElement("script");c.src=e,c.async=!0,c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},Object.keys(t).forEach(e=>{c.setAttribute(e,t[e])}),document.head.appendChild(c)}),e.getCSS=(e,t=!1)=>new Promise((a,o)=>{const c=document.createElement("link");c.rel="stylesheet",c.href=e,t&&(c.id=t),c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},document.head.appendChild(c)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!a&&!o&&!c;if(void 0===t){if(o)activateLightMode();else if(a)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())})}else"light"===t?activateLightMode():activateDarkMode();const d=saveToLocal.get("aside-status");void 0!==d&&("hide"===d?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/zykjcss.css" media="all" onload='this.media="all",this.onload=null'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ZYKJ's Blog" type="application/atom+xml"></head><body><script>window.paceOptions={restartOnPushState:!1},document.addEventListener("pjax:send",()=>{Pace.restart()})</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">30</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>éšæœº</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-brands fa-line"></i> <span>ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>å‹é“¾</span></a></li><li><a class="site-page child" href="/friendcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>å‹åœˆ</span></a></li><li><a class="site-page child" href="/shuoshuo"><i class="fa-fw fa-solid fa-comment-alt"></i> <span>è¯´è¯´</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>ç•™è¨€</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuerouterstudy-cover.png)"><nav id="nav"><span id="blog-info"><a href="/" title="ZYKJ's Blog"><span class="site-name">ZYKJ's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i> <span>æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>éšæœº</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-brands fa-line"></i> <span>ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>å‹é“¾</span></a></li><li><a class="site-page child" href="/friendcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>å‹åœˆ</span></a></li><li><a class="site-page child" href="/shuoshuo"><i class="fa-fw fa-solid fa-comment-alt"></i> <span>è¯´è¯´</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>ç•™è¨€</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue-routerå­¦ä¹ </h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2020-07-01T12:24:54.000Z" title="å‘è¡¨äº 2020-07-01 20:24:54">2020-07-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2020-07-01T12:24:54.000Z" title="æ›´æ–°äº 2020-07-01 20:24:54">2020-07-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/">Webæ•™ç¨‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">9.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>36åˆ†é’Ÿ</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h2><div class="note green icon-padding simple"><i class="note-icon fas fa-rocket"></i><p>ğŸ“š Vue å­¦ä¹ ç›®å½•</p><p>ğŸš€ <a href="/posts/4a869c3f/">Vue.jsåŸºç¡€å­¦ä¹ </a> - ğŸ“ <a href="/posts/f9d8baf9/">Vue.jsè¿›é˜¶</a> - ğŸ”¦ <a href="/posts/f13afe2d/">webpackå­¦ä¹ </a></p><p>ğŸ“¦ <a href="/posts/22686bb0/">Vue-CLIå­¦ä¹ </a> - ğŸ“Œ <a href="/posts/ed3da/">Vue-routerå­¦ä¹ </a> - ğŸ”® <a href="/posts/413c71da/">Vuexå­¦ä¹ </a> - ğŸ€ <a href="/posts/e400c46/">Nuxt.js å­¦ä¹ </a></p></div><div class="note info flat"><p>æ–‡ç« ä¸­çš„èµ„æ–™æ¥è‡ª:<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/zhangtianyi0110/VueLearnNotes/blob/master/17-vue-router/17-vue-router.md">https://github.com/zhangtianyi0110/VueLearnNotes/blob/master/17-vue-router/17-vue-router.md</a></p><p>è§†é¢‘ï¼š<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV15741177Eh/?p=99">https://www.bilibili.com/video/BV15741177Eh/?p=99</a></p></div><h3 id="è·¯ç”±ç®€ä»‹"><a href="#è·¯ç”±ç®€ä»‹" class="headerlink" title="è·¯ç”±ç®€ä»‹"></a>è·¯ç”±ç®€ä»‹</h3><p>ä»€ä¹ˆæ˜¯è·¯ç”±ï¼Ÿ</p><ul><li>è·¯ç”±å°±æ˜¯é€šè¿‡äº’è”çš„ç½‘ç»œæŠŠä¿¡æ¯ç”¨æºåœ°å€ä¼ é€åˆ°ç›®çš„åœ°çš„æ´»åŠ¨</li><li>è·¯ç”±æä¾›äº†ä¸¤ç§æœºåˆ¶ï¼šè·¯ç”±å’Œä¼ é€<ul><li>è·¯ç”±æ˜¯å†³å®šæ•°æ®åŒ…ä»æ¥æºåˆ°ç›®çš„åœ°çš„è·¯å¾„</li><li>è½¬é€å°±æ˜¯å°†æ•°æ®è½¬ç§»</li></ul></li><li>è·¯ç”±è¡¨<ul><li>è·¯ç”±è¡¨æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œå†³å®šäº†æ•°æ®åŒ…çš„æŒ‡å‘</li></ul></li></ul><h4 id="å‰ç«¯-x2F-åç«¯è·¯ç”±"><a href="#å‰ç«¯-x2F-åç«¯è·¯ç”±" class="headerlink" title="å‰ç«¯&#x2F;åç«¯è·¯ç”±"></a>å‰ç«¯&#x2F;åç«¯è·¯ç”±</h4><ol><li>åç«¯æ¸²æŸ“ï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ jspæŠ€æœ¯ åç«¯è·¯ç”±ï¼Œåç«¯å¤„ç†URLå’Œé¡µé¢æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚springmvcä¸­çš„@requestMappingæ³¨è§£é…ç½®çš„URLåœ°å€ï¼Œæ˜ å°„å‰ç«¯é¡µé¢</li><li>å‰åç«¯åˆ†ç¦»ï¼ˆajaxè¯·æ±‚æ•°æ®ï¼‰ åç«¯åªè´Ÿè´£æä¾›æ•°æ® é™æ€èµ„æºæœåŠ¡å™¨ï¼ˆhtml+css+jsï¼‰ ajaxå‘é€ç½‘ç»œè¯·æ±‚åç«¯æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å›ä¼ æ•°æ® jsä»£ç æ¸²æŸ“dom</li><li>å•é¡µé¢å¯Œåº”ç”¨ï¼ˆSPAé¡µé¢ï¼‰ å‰åç«¯åˆ†ç¦»åŠ ä¸Šå‰ç«¯è·¯ç”±ï¼Œå‰ç«¯è·¯ç”±çš„urlæ˜ å°„è¡¨ä¸ä¼šå‘æœåŠ¡å™¨è¯·æ±‚ï¼Œæ˜¯å•ç‹¬urlçš„çš„é¡µé¢è‡ªå·±çš„ajaxè¯·æ±‚åç«¯ï¼Œåç«¯åªæä¾›apiè´Ÿè´£å“åº”æ•°æ®è¯·æ±‚ã€‚æ”¹å˜urlï¼Œé¡µé¢ä¸è¿›è¡Œæ•´ä½“çš„åˆ·æ–°ã€‚ æ•´ä¸ªç½‘ç«™åªæœ‰ä¸€ä¸ªhtmlé¡µé¢ã€‚</li></ol><h4 id="URLçš„hashå’ŒHTML5çš„history"><a href="#URLçš„hashå’ŒHTML5çš„history" class="headerlink" title="URLçš„hashå’ŒHTML5çš„history"></a>URLçš„hashå’ŒHTML5çš„history</h4><h5 id="URLçš„hash"><a href="#URLçš„hash" class="headerlink" title="URLçš„hash"></a>URLçš„hash</h5><ul><li>URLçš„hashæ˜¯é€šè¿‡é”šç‚¹(#)ï¼Œå…¶æœ¬è´¨ä¸Šæ”¹å˜çš„æ˜¯window.locationçš„hrefå±æ€§ã€‚</li><li>å¯ä»¥é€šè¿‡ç›´æ¥èµ‹å€¼<code>location.hash</code>æ¥æ”¹å˜hrefï¼Œä½†æ˜¯<code>é¡µé¢å¹¶ä¸ä¼šå‘ç”Ÿåˆ·æ–°</code>ã€‚</li></ul><blockquote><p>æµ‹è¯•</p></blockquote><p>ä½¿ç”¨å‘½ä»¤<code>vue create é¡¹ç›®åç§°</code>åˆ›å»ºæ–°çš„vuecli4å·¥ç¨‹,ç­‰å¾…åˆ›å»ºå®Œæˆåï¼Œä½¿ç”¨<code>npm run serve</code>å¯åŠ¨æœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨é€šè¿‡ <a target="_blank" rel="noopener external nofollow noreferrer" href="http://localhost:8080/">http://localhost:8080</a> è¿›å…¥å·¥ç¨‹ä¸»é¡µã€‚ æµ‹è¯•é€šè¿‡æ”¹å˜hashï¼ŒæŸ¥çœ‹æ˜¯å¦ä¼šåˆ·æ–°é¡µé¢ï¼Œæµè§ˆå™¨çš„urlåœ°å€æ˜¯å¦æ”¹å˜ã€‚</p><blockquote><p>ç»“è®º</p></blockquote><p>æµ‹è¯•å‘ç°urlçš„åœ°å€æ æ”¹å˜äº†å˜æˆäº†<a target="_blank" rel="noopener external nofollow noreferrer" href="http://localhost:8080/#/zykj">http://localhost:8080/#/zykj</a> ï¼Œé€šè¿‡æŸ¥çœ‹networkå‘ç°åªæœ‰favicon.icoèµ„æºé‡æ–°è¯·æ±‚äº†ï¼Œè¿™ä¸ªæ˜¯å·¥ç¨‹çš„logoå›¾æ ‡ï¼Œå…¶ä»–èµ„æºéƒ½æœªè¯·æ±‚ã€‚å¯ä»¥é€šè¿‡æ”¹å˜hashæ”¹å˜urlï¼Œæ­¤æ—¶é¡µé¢æ˜¯æœªåˆ·æ–°çš„ã€‚</p><p>vue-routerå…¶å®ç”¨çš„å°±æ˜¯è¿™æ ·çš„æœºåˆ¶ï¼Œæ”¹å˜urlåœ°å€ï¼Œè¿™ä¸ªurlåœ°å€å­˜åœ¨ä¸€ä»½è·¯ç”±æ˜ å°„è¡¨é‡Œé¢ï¼Œæ¯”å¦‚<code>/user</code>ä»£è¡¨è¦è¯·æ±‚ç”¨æˆ·é¡µé¢ï¼Œåªè¦é…ç½®äº†è¿™ä¸ªè·¯ç”±è¡¨ï¼ˆè·¯ç”±å…³ç³»ï¼‰ï¼Œå°±å¯ä»¥å‰ç«¯è·³è½¬è€Œä¸åˆ·æ–°é¡µé¢ï¼Œæ‰€æœ‰çš„æ•°æ®è¯·æ±‚éƒ½èµ°ajaxã€‚</p><h5 id="HTML5çš„historyæ¨¡å¼"><a href="#HTML5çš„historyæ¨¡å¼" class="headerlink" title="HTML5çš„historyæ¨¡å¼"></a>HTML5çš„historyæ¨¡å¼</h5><ul><li><p><code>pushState</code></p><p>åŒæ ·çš„ä½¿ç”¨HTML5çš„historyæ¨¡å¼ä¹Ÿæ˜¯ä¸ä¼šåˆ·æ–°é¡µé¢çš„,historyå¯¹è±¡<code>æ ˆç»“æ„</code>ï¼Œå…ˆè¿›åå‡ºï¼ŒpushStateç±»ä¼¼å‹å…¥æ ˆä¸­ï¼Œbackæ˜¯å›é€€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hristory.<span class="title function_">pushState</span>(&#123;&#125;, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;/foo&#x27;</span>)</span><br><span class="line">history.<span class="title function_">back</span>()</span><br></pre></td></tr></table></figure></li><li><p><code>replaceState</code></p><p>replaceStateæ¨¡å¼ä¸pushStateæ¨¡å¼åŒºåˆ«åœ¨äºreplaceStateæ¨¡å¼æµè§ˆå™¨<code>æ²¡æœ‰è¿”å›åªæ˜¯æ›¿æ¢(ä¸ä¼šä¿ç•™è®°å½•)</code>ï¼Œä¸æ˜¯å‹å…¥æ ˆä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.<span class="title function_">replaceState</span>(&#123;&#125;, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;home&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p><code>go</code></p><p>goåªèƒ½åœ¨pushStateæ¨¡å¼ä¸­ä½¿ç”¨ï¼Œgoæ˜¯å‰è¿›åé€€åˆ°å“ªä¸ªå†å²é¡µé¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">history.<span class="title function_">go</span>(-<span class="number">1</span>)<span class="comment">//å›é€€ä¸€ä¸ªé¡µé¢</span></span><br><span class="line">history.<span class="title function_">go</span>(<span class="number">1</span>)<span class="comment">//å‰è¿›ä¸€ä¸ªé¡µé¢</span></span><br><span class="line">history.<span class="title function_">forward</span>()<span class="comment">//ç­‰ä»·äºgo(1)</span></span><br><span class="line">history.<span class="title function_">back</span>()<span class="comment">//ç­‰ä»·äºgo(-1)</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="Vue-routerå®‰è£…é…ç½®"><a href="#Vue-routerå®‰è£…é…ç½®" class="headerlink" title="Vue-routerå®‰è£…é…ç½®"></a>Vue-routerå®‰è£…é…ç½®</h3><ol><li><p>ä½¿ç”¨<code>npm install vue-router --save</code>æ¥å®‰è£…vue-routeræ’ä»¶æ¨¡å—</p></li><li><p>åœ¨æ¨¡å—åŒ–å·¥ç¨‹ä¸­ä½¿ç”¨å®ƒ(å› ä¸ºæ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡Vue.useæ¥å®‰è£…è·¯ç”±åŠŸèƒ½)</p><ul><li>åœ¨srcä¸‹åˆ›å»ºä¸€ä¸ªrouteræ–‡ä»¶å¤¹ï¼ˆä¸€èˆ¬å®‰è£…vue-routeræ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰ç”¨æ¥å­˜æ”¾vue-routerçš„è·¯ç”±ä¿¡æ¯å¯¼å…¥è·¯ç”±å¯¹è±¡ï¼Œå¹¶ä¸”è°ƒç”¨<strong>Vue.use(VueRouter)</strong></li><li>åˆ›å»ºè·¯ç”±å®ä¾‹ï¼Œå¹¶ä¸”ä¼ å…¥è·¯ç”±<strong>æ˜ å°„é…ç½®</strong></li><li>åœ¨vueå®ä¾‹ä¸­æŒ‚è½½åˆ›å»ºçš„<strong>è·¯ç”±å®ä¾‹å¯¹è±¡</strong></li></ul></li></ol><div class="tabs" id="tab1"><ul class="nav-tabs"><button type="button" class="tab active" data-href="tab1-1">routeræ–‡ä»¶å¤¹ä¸­çš„index.js</button><button type="button" class="tab" data-href="tab1-2">main.jsä¸­æŒ‚è½½routerå¯¹è±¡</button></ul><div class="tab-contents"><div class="tab-item-content active" id="tab1-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é…ç½®è·¯ç”±ç›¸å…³ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * 1.å…ˆå¯¼å…¥vueå®ä¾‹å’Œvue-routerå®ä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/HelloWorld&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. é€šè¿‡Vue.use(æ’ä»¶)ï¼Œå®‰è£…æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>)</span><br><span class="line"><span class="comment">//3. åˆ›å»º routerè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="comment">//url</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">HelloWorld</span> <span class="comment">//ç»„ä»¶å</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„åº”ç”¨å…³ç³»</span></span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//4.å¯¼å‡ºrouterå®ä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab1-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,<span class="comment">//ä½¿ç”¨è·¯ç”±å¯¹è±¡ï¼Œç®€å†™å¯¹è±¡å¢å¼ºå†™æ³•</span></span><br><span class="line">  <span class="attr">netder</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h3 id="Vue-routerä½¿ç”¨"><a href="#Vue-routerä½¿ç”¨" class="headerlink" title="Vue-routerä½¿ç”¨"></a>Vue-routerä½¿ç”¨</h3><h4 id="åˆ›å»ºè·¯ç”±ç»„ä»¶"><a href="#åˆ›å»ºè·¯ç”±ç»„ä»¶" class="headerlink" title="åˆ›å»ºè·¯ç”±ç»„ä»¶"></a>åˆ›å»ºè·¯ç”±ç»„ä»¶</h4><p>åœ¨componentsæ–‡ä»¶å¤¹ä¸‹åˆ›å»º2ä¸ªç»„ä»¶ã€‚</p><div class="tabs" id="tab2"><ul class="nav-tabs"><button type="button" class="tab active" data-href="tab2-1">Homeç»„ä»¶</button><button type="button" class="tab" data-href="tab2-2">Aboutç»„ä»¶</button></ul><div class="tab-contents"><div class="tab-item-content active" id="tab2-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯é¦–é¡µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯é¦–é¡µçš„å†…å®¹,123456.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/ecmascript-6&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab2-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯å…³äºé¡µé¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯å…³äºé¡µé¢çš„å†…å®¹ï¼Œaboutã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/ecmascript-6&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;About&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h4 id="é…ç½®è·¯ç”±æ˜ å°„"><a href="#é…ç½®è·¯ç”±æ˜ å°„" class="headerlink" title="é…ç½®è·¯ç”±æ˜ å°„"></a>é…ç½®è·¯ç”±æ˜ å°„</h4><blockquote><p>ç»„ä»¶å’Œè·¯å¾„æ˜ å°„å…³ç³»</p></blockquote><p>åœ¨è·¯ç”±ä¸ç»„ä»¶å¯¹åº”å…³ç³»é…ç½®åœ¨<code>routes</code>ä¸­ã€‚ä¿®æ”¹index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Home&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. é€šè¿‡Vue.use(æ’ä»¶)ï¼Œå®‰è£…æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>)</span><br><span class="line"><span class="comment">//3. åˆ›å»º routerè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,<span class="comment">//home  å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span> <span class="comment">//ç»„ä»¶å</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,<span class="comment">//about å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/About&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„åº”ç”¨å…³ç³»</span></span><br><span class="line">  routes  <span class="comment">// (ç¼©å†™) ç›¸å½“äº routes: routes</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//4.å¯¼å‡ºrouterå®ä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨è·¯ç”±"><a href="#ä½¿ç”¨è·¯ç”±" class="headerlink" title="ä½¿ç”¨è·¯ç”±"></a>ä½¿ç”¨è·¯ç”±</h4><blockquote><p>é€šè¿‡<code>&lt;router-link&gt;</code>å’Œ<code>&lt;router-view&gt;</code></p></blockquote><p>åœ¨app.vueä¸­ä½¿ç”¨<code>&lt;router-link&gt;</code>å’Œ<code>&lt;router-view&gt;</code> ä¸¤ä¸ªå…¨å±€ç»„ä»¶æ˜¾ç¤ºè·¯ç”±ã€‚</p><ul><li><p><code>&lt;router-link&gt;</code>æ˜¯å…¨å±€ç»„ä»¶ï¼Œ<code>æœ€ç»ˆè¢«æ¸²æŸ“æˆaæ ‡ç­¾</code>ï¼Œä½†æ˜¯<code>&lt;router-link&gt;</code>åªæ˜¯æ ‡è®°è·¯ç”±æŒ‡å‘ç±»ä¼¼ä¸€ä¸ªaæ ‡ç­¾æˆ–è€…æŒ‰é’®ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘ä»¬ç‚¹å‡»aæ ‡ç­¾è¦è·³è½¬é¡µé¢æˆ–è€…è¦æ˜¾ç¤ºé¡µé¢ï¼Œæ‰€ä»¥å°±è¦ç”¨ä¸Š<code>&lt;router-view&gt;</code>ã€‚</p></li><li><p><code>&lt;router-view&gt;</code> æ˜¯ç”¨æ¥å ä½çš„ï¼Œå°±æ˜¯è·¯ç”±å¯¹åº”çš„ç»„ä»¶å±•ç¤ºçš„åœ°æ–¹ï¼Œè¯¥æ ‡ç­¾ä¼šæ ¹æ®å½“å‰çš„è·¯å¾„ï¼ŒåŠ¨æ€æ¸²æŸ“å‡ºä¸åŒçš„ç»„ä»¶ã€‚</p><p>è·¯ç”±åˆ‡æ¢çš„æ—¶å€™åˆ‡æ¢çš„æ˜¯<code>&lt;router-view&gt;</code>æŒ‚è½½çš„ç»„ä»¶ï¼Œå…¶ä»–ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚</p></li><li><p><code>&lt;router-view&gt;</code>é»˜è®¤ä½¿ç”¨<code>hash</code>æ¨¡å¼ï¼Œå¯ä»¥åœ¨index.jsä¸­modeé…ç½®ä¿®æ”¹ä¸º<code>history</code>æ¨¡å¼ã€‚</p></li></ul><p>app.vueä¿®æ”¹template</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>npm run serve</code>å¯åŠ¨é¡¹ç›®ï¼Œæ­¤æ—¶<code>&lt;router-view&gt;</code>åœ¨<code>&lt;router-link&gt;</code>ä¸‹é¢ï¼Œé‚£æ¸²æŸ“é¡µé¢å°±åœ¨ä¸‹é¢ï¼Œæ­¤æ—¶æœªé…ç½®è·¯ç”±çš„é»˜è®¤å€¼ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è¿›å…¥ç½‘é¡µçš„æ—¶å€™<code>&lt;router-view&gt;</code>å ä½çš„åœ°æ–¹æ˜¯æ²¡æœ‰å†…å®¹çš„ã€‚</p><h4 id="è·¯ç”±çš„é»˜è®¤å€¼å’Œhistoryæ¨¡å¼"><a href="#è·¯ç”±çš„é»˜è®¤å€¼å’Œhistoryæ¨¡å¼" class="headerlink" title="è·¯ç”±çš„é»˜è®¤å€¼å’Œhistoryæ¨¡å¼"></a>è·¯ç”±çš„é»˜è®¤å€¼å’Œhistoryæ¨¡å¼</h4><ul><li><p>è·¯ç”±çš„é»˜è®¤å€¼ï¼Œä¿®æ”¹index.jsçš„routes</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span> <span class="comment">//ç¼ºçœæ—¶å€™é‡å®šå‘åˆ°/home</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="comment">//home  å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span> <span class="comment">//ç»„ä»¶å</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="comment">//about å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/About&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>æ·»åŠ ç¼ºçœå€¼ï¼Œå¹¶é‡å®šå‘åˆ°<code>/home</code>è·¯å¾„ï¼Œæ­¤æ—¶æ‰“å¼€<a target="_blank" rel="noopener external nofollow noreferrer" href="http://localhost:8080/">http://localhost:8080</a> ï¼Œç›´æ¥æ˜¾ç¤ºhomeç»„ä»¶å†…å®¹ã€‚</p></li><li><p>ä¿®æ”¹hashæ¨¡å¼ä¸ºhistoryæ¨¡å¼ï¼Œä¿®æ”¹index.jsçš„routerå¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„åº”ç”¨å…³ç³»</span></span><br><span class="line">  routes,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span><span class="comment">//ä¿®æ”¹æ¨¡å¼ä¸ºhistory</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å‘ç°æµè§ˆå™¨åœ°å€æ çš„URLæ˜¯æ²¡æœ‰<code>#</code>çš„ã€‚</p></li><li><p>å°çŸ¥è¯† <a target="_blank" rel="noopener external nofollow noreferrer" href="https://router.vuejs.org/zh/guide/essentials/redirect-and-alias.html">é‡å®šå‘ä¸åˆ«å</a></p><p>é‡å®šå‘<code>redirect</code>:</p><p>é‡å®šå‘ä¹Ÿæ˜¯é€šè¿‡ routes é…ç½®æ¥å®Œæˆï¼Œä¸‹é¢ä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//ä» /a é‡å®šå‘åˆ° /bï¼š</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/a&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/b&#x27;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡å®šå‘çš„ç›®æ ‡ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‘½åçš„è·¯ç”±ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/a&#x27;</span>, <span class="attr">redirect</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;foo&#x27;</span> &#125;&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”šè‡³æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼ŒåŠ¨æ€è¿”å›é‡å®šå‘ç›®æ ‡ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/a&#x27;</span>, <span class="attr">redirect</span>: <span class="function"><span class="params">to</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ–¹æ³•æ¥æ”¶ ç›®æ ‡è·¯ç”± ä½œä¸ºå‚æ•°</span></span><br><span class="line">      <span class="comment">// return é‡å®šå‘çš„ å­—ç¬¦ä¸²è·¯å¾„/è·¯å¾„å¯¹è±¡</span></span><br><span class="line">    &#125;&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åˆ«å<code>alias:</code></p><p>â€œé‡å®šå‘â€çš„æ„æ€æ˜¯ï¼Œå½“ç”¨æˆ·è®¿é—® <code>/a</code>æ—¶ï¼ŒURL å°†ä¼šè¢«æ›¿æ¢æˆ <code>/b</code>ï¼Œç„¶ååŒ¹é…è·¯ç”±ä¸º <code>/b</code>ï¼Œé‚£ä¹ˆâ€œåˆ«åâ€åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p><strong><code>/a</code> çš„åˆ«åæ˜¯ <code>/b</code>ï¼Œæ„å‘³ç€ï¼Œå½“ç”¨æˆ·è®¿é—® <code>/b</code> æ—¶ï¼ŒURL ä¼šä¿æŒä¸º <code>/b</code>ï¼Œä½†æ˜¯è·¯ç”±åŒ¹é…åˆ™ä¸º <code>/a</code>ï¼Œå°±åƒç”¨æˆ·è®¿é—® <code>/a</code> ä¸€æ ·ã€‚</strong></p></li></ul><h4 id="lt-router-link-gt-çš„å…¶ä»–å±æ€§"><a href="#lt-router-link-gt-çš„å…¶ä»–å±æ€§" class="headerlink" title="&lt;router-link&gt;çš„å…¶ä»–å±æ€§"></a><code>&lt;router-link&gt;</code>çš„å…¶ä»–å±æ€§</h4><ol><li><code>to</code>å±æ€§ï¼šç”¨äºè·³è½¬åˆ°æŒ‡å®šè·¯å¾„ã€‚</li><li><code>tag</code>å±æ€§ï¼šå¯ä»¥æŒ‡å®š<code>&lt;router-link&gt;</code>ä¹‹åæ¸²æŸ“æˆä»€ä¹ˆç»„ä»¶ä½¿ç”¨<code>&lt;router-link to=&#39;/home&#39; tag=&#39;button&#39;&gt;</code>ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ªæŒ‰é’®ï¼Œè€Œä¸æ˜¯aæ ‡ç­¾ã€‚</li><li><code>replace</code>å±æ€§ï¼šåœ¨historyæ¨¡å¼ä¸‹æŒ‡å®š<code>&lt;router-link to=&#39;/home&#39; tag=&#39;button&#39; replace&gt;</code>ä½¿ç”¨<code>replaceState</code>è€Œä¸æ˜¯<code>pushState</code>ï¼Œæ­¤æ—¶æµè§ˆå™¨çš„è¿”å›æŒ‰é’®æ˜¯ä¸èƒ½ä½¿ç”¨çš„ã€‚</li><li><code>active-class</code>å±æ€§ï¼šå½“<code>&lt;router-link&gt;</code>å¯¹åº”çš„è·¯ç”±åŒ¹é…æˆåŠŸçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç»™å½“å‰å…ƒç´ è®¾ç½®ä¸€ä¸ª<code>router-link-active</code>çš„classï¼Œè®¾ç½®active-classå¯ä»¥ä¿®æ”¹é»˜è®¤çš„åç§°ã€‚</li></ol><p>ä½¿ç”¨åœºæ™¯:</p><ul><li><p>åœ¨è¿›è¡Œé«˜äº®æ˜¾ç¤ºçš„å¯¼èˆªèœå•æˆ–è€…åº•éƒ¨tabbaræ—¶ï¼Œä¼šç”¨åˆ°è¯¥å±æ€§</p></li><li><p>ä½†æ˜¯é€šå¸¸ä¸ä¼šä¿®æ”¹ç±»çš„å±æ€§ï¼Œä¼šç›´æ¥ä½¿ç”¨é»˜è®¤çš„<code>router-link-active</code></p></li><li><p><code>&lt;router-link to=&#39;/home&#39; tag=&#39;button&#39; active-class=&#39;active&#39;&gt;</code>æ­¤æ—¶è¢«é€‰ä¸­çš„<code>&lt;router-link&gt;</code>å°±ä¼šæœ‰activeçš„classã€‚</p></li><li><p>å¦‚æœæ¯ä¸ª<code>&lt;router-link&gt;</code>éƒ½è¦åŠ ä¸Š<code>active-class=&#39;active&#39;</code>ï¼Œé‚£å°±åœ¨è·¯ç”±é‡Œé¢ç»Ÿä¸€æ›´æ”¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">  <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„åº”ç”¨å…³ç³»</span></span><br><span class="line">  routes,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>,<span class="comment">//ä¿®æ”¹æ¨¡å¼ä¸ºhistory</span></span><br><span class="line">  <span class="attr">linkActiveClass</span>: <span class="string">&#x27;active&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span> <span class="attr">tag</span>=<span class="string">&#x27;button&#x27;</span> <span class="attr">replace</span> <span class="attr">active-class</span>=<span class="string">&#x27;active&#x27;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">active-class</span>=<span class="string">&#x27;active&#x27;</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹app.vueæ–‡ä»¶æ­¤æ—¶è¢«é€‰ä¸­çš„<code>&lt;router-link&gt;</code>å°±æœ‰äº†activeå±æ€§ï¼Œç»™activeçš„classåŠ ä¸Šå­—ä½“å˜çº¢çš„cssã€‚</p></li></ul><h4 id="é€šè¿‡ä»£ç ä¿®æ”¹è·¯ç”±è·³è½¬"><a href="#é€šè¿‡ä»£ç ä¿®æ”¹è·¯ç”±è·³è½¬" class="headerlink" title="é€šè¿‡ä»£ç ä¿®æ”¹è·¯ç”±è·³è½¬"></a>é€šè¿‡ä»£ç ä¿®æ”¹è·¯ç”±è·³è½¬</h4><p><code>$routerå±æ€§</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;router-link to=&quot;/home&quot; tag=&#x27;button&#x27; replace active-class=&#x27;active&#x27;&gt;é¦–é¡µ&lt;/router-link&gt; |</span></span><br><span class="line"><span class="comment">    &lt;router-link to=&quot;/about&quot; active-class=&#x27;active&#x27;&gt;å…³äº&lt;/router-link&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;homeClick&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span>|</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;aboutClick&quot;</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">homeClick</span>(<span class="params"></span>) &#123;<span class="comment">//é€šè¿‡ä»£ç çš„è·¯å¾„ä¿®æ”¹è·¯ç”±</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/home&#x27;</span>)<span class="comment">//push ç­‰ä»·äºpushState</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// this.$router.replace(&#x27;/home&#x27;)//replace ç­‰ä»·äºreplaceState</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;homeClick&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">aboutClick</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/about&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// this.$router.replace(&#x27;/about&#x27;)//replace ç­‰ä»·äºreplaceState</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aboutClick&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹app.vueï¼Œå°†<code>&lt;router-link&gt;</code>æ¢æˆ<code>button</code>ç­‰ä»»ä½•ç»„ä»¶ï¼Œæ·»åŠ ä¸Šç‚¹å‡»äº‹ä»¶ï¼Œå¹¶å†™å¥½ç‚¹å‡»äº‹ä»¶å“åº”æ–¹æ³•ï¼Œæ­¤æ—¶ä½¿ç”¨<code>this.$router.push(&#39;/home&#39;)</code>ï¼Œpushæ–¹æ³• ç­‰ä»·äºpushStateæ–¹æ³•ï¼Œreplace æ–¹æ³•ç­‰ä»·äºreplaceStateæ–¹æ³•ã€‚</p><p>ä¸ºé¿å…ä¹‹åä½¿ç”¨<code>this.$router.push</code>é‡å¤ç‚¹å‡»ä¸€ä¸ªè·¯ç”±æŠ¥é”™</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200715213324.png" alt="20200715213324.png"></p><p>æ‰€ä»¥æˆ‘ä»¬è¦åœ¨<code>router/index.js</code>æ·»åŠ ã€é—®é¢˜å‚è€ƒ: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_41687299/article/details/106869943">https://blog.csdn.net/qq_41687299/article/details/106869943</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originalPush = <span class="title class_">VueRouter</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span></span><br><span class="line"><span class="title class_">VueRouter</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span> <span class="title function_">push</span>(<span class="params">location</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> originalPush.<span class="title function_">call</span>(<span class="variable language_">this</span>, location).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>router.push(location, onComplete?, onAbort?)</code></p><p><strong>æ³¨æ„ï¼šåœ¨ Vue å®ä¾‹å†…éƒ¨ï¼Œä½ å¯ä»¥é€šè¿‡ <code>$router</code> è®¿é—®è·¯ç”±å®ä¾‹ã€‚å› æ­¤ä½ å¯ä»¥è°ƒç”¨ <code>this.$router.push</code>ã€‚</strong></p><p>æƒ³è¦å¯¼èˆªåˆ°ä¸åŒçš„ URLï¼Œåˆ™ä½¿ç”¨ <code>router.push</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œåˆ™å›åˆ°ä¹‹å‰çš„ URLã€‚</p><p>å½“ä½ ç‚¹å‡» <code>&lt;router-link&gt;</code> æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨å†…éƒ¨è°ƒç”¨ï¼Œæ‰€ä»¥è¯´ï¼Œç‚¹å‡» <code>&lt;router-link :to=&quot;...&quot;&gt;</code> ç­‰åŒäºè°ƒç”¨ <code>router.push(...)</code>ã€‚</p><table><thead><tr><th>å£°æ˜å¼</th><th>ç¼–ç¨‹å¼</th></tr></thead><tbody><tr><td><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td><td><code>router.push(...)</code></td></tr></tbody></table><p>è¯¥æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œæˆ–è€…ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²</span></span><br><span class="line">router.<span class="title function_">push</span>(<span class="string">&#x27;home&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;home&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½åçš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>, <span class="attr">params</span>: &#123; <span class="attr">userId</span>: <span class="string">&#x27;123&#x27;</span> &#125;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=private</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;register&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">plan</span>: <span class="string">&#x27;private&#x27;</span> &#125;&#125;)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šå¦‚æœæä¾›äº† <code>path</code>ï¼Œ<code>params</code> ä¼šè¢«å¿½ç•¥ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„ <code>query</code> å¹¶ä¸å±äºè¿™ç§æƒ…å†µã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä¸‹é¢ä¾‹å­çš„åšæ³•ï¼Œä½ éœ€è¦æä¾›è·¯ç”±çš„ <code>name</code> æˆ–æ‰‹å†™å®Œæ•´çš„å¸¦æœ‰å‚æ•°çš„ <code>path</code>ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userId = <span class="string">&#x27;123&#x27;</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>, <span class="attr">params</span>: &#123; userId &#125;&#125;) <span class="comment">// -&gt; /user/123</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">`/user/<span class="subst">$&#123;userId&#125;</span>`</span> &#125;) <span class="comment">// -&gt; /user/123</span></span><br><span class="line"><span class="comment">// è¿™é‡Œçš„ params ä¸ç”Ÿæ•ˆ</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/user&#x27;</span>, <span class="attr">params</span>: &#123; userId &#125;&#125;) <span class="comment">// -&gt; /user</span></span><br></pre></td></tr></table></figure><p>åŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äº <code>router-link</code> ç»„ä»¶çš„ <code>to</code> å±æ€§ã€‚</p></li><li><p><code>router.replace(location, onComplete?, onAbort?)</code></p><p>è·Ÿ <code>router.push</code> å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•ã€‚</p><table><thead><tr><th>å£°æ˜å¼</th><th>ç¼–ç¨‹å¼</th></tr></thead><tbody><tr><td><code>&lt;router-link :to=&quot;...&quot; replace&gt;</code></td><td><code>router.replace(...)</code></td></tr></tbody></table></li><li><p><code>router.go(n)</code></p><p>è¿™ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ„æ€æ˜¯åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼ <code>window.history.go(n)</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æµè§ˆå™¨è®°å½•ä¸­å‰è¿›ä¸€æ­¥ï¼Œç­‰åŒäº history.forward()</span></span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">1</span>)</span><br><span class="line">  </span><br><span class="line"><span class="comment">// åé€€ä¸€æ­¥è®°å½•ï¼Œç­‰åŒäº history.back()</span></span><br><span class="line">router.<span class="title function_">go</span>(-<span class="number">1</span>)</span><br><span class="line">  </span><br><span class="line"><span class="comment">// å‰è¿› 3 æ­¥è®°å½•</span></span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">3</span>)</span><br><span class="line">  </span><br><span class="line"><span class="comment">// å¦‚æœ history è®°å½•ä¸å¤Ÿç”¨ï¼Œé‚£å°±é»˜é»˜åœ°å¤±è´¥å‘—</span></span><br><span class="line">router.<span class="title function_">go</span>(-<span class="number">100</span>)</span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">100</span>)</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ¸å…¥Vue-router"><a href="#æ¸å…¥Vue-router" class="headerlink" title="æ¸å…¥Vue-router"></a>æ¸å…¥Vue-router</h3><h4 id="åŠ¨æ€è·¯ç”±"><a href="#åŠ¨æ€è·¯ç”±" class="headerlink" title="åŠ¨æ€è·¯ç”±"></a>åŠ¨æ€è·¯ç”±</h4><p>ä¸€ä¸ªé¡µé¢çš„pathè·¯å¾„å¯èƒ½æ˜¯ä¸ç¡®å®šçš„ï¼Œä¾‹å¦‚å¯èƒ½æœ‰<code>/user/aaaa</code>æˆ–è€…<code>/user/bbbb</code>ï¼Œé™¤äº†<code>/user</code>ä¹‹å¤–ï¼Œåé¢è¿˜è·Ÿä¸Šäº†ç”¨æˆ·ID<code>/user/123</code>ç­‰ã€‚è¿™ç§pathå’Œcomponentçš„åŒ¹é…å…³ç³»ï¼Œå«<code>åŠ¨æ€è·¯ç”±</code>ã€‚</p><h5 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h5><div class="tabs" id="tab3"><ul class="nav-tabs"><button type="button" class="tab active" data-href="tab3-1">æ–°å»ºä¸€ä¸ªUserç»„ä»¶</button><button type="button" class="tab" data-href="tab3-2">é…ç½®è·¯ç”±å‚æ•°index.js</button></ul><div class="tab-contents"><div class="tab-item-content active" id="tab3-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯ç”¨æˆ·ç•Œé¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯ç”¨æˆ·é¡µé¢çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç”¨æˆ·IDæ˜¯: &#123;&#123; userId &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;User&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//é€šè¿‡è®¡ç®—å±æ€§  </span></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">userId</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">userId</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¯¥ç»„ä»¶å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œé€šè¿‡<code>this.$route.params.userId</code>è·å–å¤„äºæ¿€æ´»çŠ¶æ€çš„è·¯ç”±å‚æ•°<code>userId</code>ã€‚</p></div><div class="tab-item-content" id="tab3-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡pathå®šä¹‰åŠ¨æ€å‚æ•°</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/user/:userId&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;User&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/User&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>:userId</code>æŒ‡å®šåŠ¨æ€è·¯ç”±å‚æ•°<code>userId</code>ã€‚</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><p>app.vueä¸­æ·»åŠ useré¡µé¢çš„<code>&lt;router-link&gt;</code>ï¼Œå¹¶æ·»åŠ userIdå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;/user/ + userId&quot;&gt;ç”¨æˆ·&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">data ()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        userId: &#x27;zykj&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯åŠ¨é¡¹ç›®ï¼Œç‚¹å‡»ç”¨æˆ·ã€‚</p><h5 id="å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–"><a href="#å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–" class="headerlink" title="å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–"></a>å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–</h5><p>å½“ä½¿ç”¨è·¯ç”±å‚æ•°æ—¶ï¼Œä¾‹å¦‚ä» <code>/user/foo</code> å¯¼èˆªåˆ° <code>/user/bar</code>ï¼Œ<strong>åŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨</strong>ã€‚å› ä¸ºä¸¤ä¸ªè·¯ç”±éƒ½æ¸²æŸ“åŒä¸ªç»„ä»¶ï¼Œæ¯”èµ·é”€æ¯å†åˆ›å»ºï¼Œå¤ç”¨åˆ™æ˜¾å¾—æ›´åŠ é«˜æ•ˆã€‚<strong>ä¸è¿‡ï¼Œè¿™ä¹Ÿæ„å‘³ç€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šå†è¢«è°ƒç”¨</strong>ã€‚</p><h5 id="æ•è·æ‰€æœ‰è·¯ç”±æˆ–-404-Not-found-è·¯ç”±"><a href="#æ•è·æ‰€æœ‰è·¯ç”±æˆ–-404-Not-found-è·¯ç”±" class="headerlink" title="æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±"></a>æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±</h5><p>å¸¸è§„å‚æ•°åªä¼šåŒ¹é…è¢« <code>/</code> åˆ†éš”çš„ URL ç‰‡æ®µä¸­çš„å­—ç¬¦ã€‚å¦‚æœæƒ³åŒ¹é…<strong>ä»»æ„è·¯å¾„</strong>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ (<code>*</code>)ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ä¼šåŒ¹é…æ‰€æœ‰è·¯å¾„</span></span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ä¼šåŒ¹é…ä»¥ /user- å¼€å¤´çš„ä»»æ„è·¯å¾„</span></span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/user-*&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p><code>$route</code>æ˜¯ä»£è¡¨å¤„äºæ¿€æ´»çŠ¶æ€çš„è·¯ç”±ï¼Œè¿™é‡ŒæŒ‡çš„ä¹Ÿå°±æ˜¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/user/:userId&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;User&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/User&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>$route.params</code>è·å– <code>$route</code> æ‰€æœ‰çš„å‚æ•°ï¼Œ<code>$route.params.userId</code>ï¼Œè·å–æ‰€æœ‰å‚æ•°ä¸­çš„åå­—å«<code>userId</code>çš„å±æ€§ï¼Œæ­¤æ—¶å¯ä»¥åœ¨Userç»„ä»¶ä¸­åŠ¨æ€è·å–è·¯ç”±å‚æ•°ï¼Œä¹Ÿå°±å¯ä»¥åœ¨app.vueä¸­åŠ¨æ€è®¾ç½®è·¯ç”±ä¸­çš„<code>userId</code>ï¼Œå…¶ä»–å±æ€§è¯·å‚è€ƒ <code>$route</code> ã€‚</p><h4 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h4><p>å¹³å¸¸åœ¨ä¸€ä¸ªhomeé¡µé¢ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦<code>/home/news</code>å’Œ<code>/home/message</code>è®¿é—®ä¸€äº›å†…å®¹ï¼Œä¸€ä¸ªè·¯ç”±æ˜ å°„ä¸€ä¸ªç»„ä»¶å°±åƒåç«¯ä¸€ä¸ªapiå¯¹åº”ä¸€ä¸ªcontrollerçš„ä¸€ä¸ªrequestMappingä¸€æ ·ï¼Œè®¿é—®ä¸¤ä¸ªè·¯ç”±ä¹Ÿä¼šåˆ†åˆ«æ¸²æŸ“è¿™ä¸¤ä¸ªç»„ä»¶ã€‚</p><p>è¦å®ç°åµŒå¥—è·¯ç”±ï¼š</p><ol><li>åˆ›å»ºå¯¹åº”çš„å­ç»„ä»¶ï¼Œå¹¶ä¸”åœ¨è·¯ç”±æ˜ å°„(<code>router/index.js</code>)ä¸­é…ç½®å¯¹åº”çš„å­è·¯ç”±ã€‚</li><li>åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨<code>&lt;router-view&gt;</code>æ ‡ç­¾æ¥å ä½ã€‚</li></ol><div class="tabs" id="tab4"><ul class="nav-tabs"><button type="button" class="tab active" data-href="tab4-1">æ–°å»º2ä¸ªç»„ä»¶HomeNewså’ŒHomeMessage</button><button type="button" class="tab" data-href="tab4-2">é…ç½®åµŒå¥—è·¯ç”±</button><button type="button" class="tab" data-href="tab4-3">ä¿®æ”¹Home.vue</button></ul><div class="tab-contents"><div class="tab-item-content active" id="tab4-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123; item + index + 1 &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HomeNews&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">list</span>: [<span class="string">&#x27;æ–°é—»&#x27;</span>, <span class="string">&#x27;æ–°é—»&#x27;</span>, <span class="string">&#x27;æ–°é—»&#x27;</span>, <span class="string">&#x27;æ–°é—»&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123; item + index + 1 &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HomeMessage&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">list</span>: [<span class="string">&#x27;æ¶ˆæ¯&#x27;</span>, <span class="string">&#x27;æ¶ˆæ¯&#x27;</span>, <span class="string">&#x27;æ¶ˆæ¯&#x27;</span>, <span class="string">&#x27;æ¶ˆæ¯&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab4-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,<span class="comment">//home  å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span>, <span class="comment">//ç»„ä»¶å</span></span><br><span class="line">    <span class="comment">//chidnet å­è·¯ç”±</span></span><br><span class="line">    <span class="attr">childnet</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">redirect</span>: <span class="string">&#x27;/home/news&#x27;</span> <span class="comment">//ç¼ºçœæ—¶å€™é‡å®šå‘åˆ°/home/news</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;news&#x27;</span>, <span class="comment">//å­åµŒå¥—è·¯ç”± æ— é¡»åŠ /</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;News&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/HomeNews&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;Message&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/HomeMessage&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab4-3"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯é¦–é¡µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯é¦–é¡µçš„å†…å®¹,123456.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home/news&quot;</span>&gt;</span>æ–°é—»<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span>|</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home/message&quot;</span>&gt;</span>æ¶ˆæ¯<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h4 id="æ‰“åŒ…æ–‡ä»¶è§£æ"><a href="#æ‰“åŒ…æ–‡ä»¶è§£æ" class="headerlink" title="æ‰“åŒ…æ–‡ä»¶è§£æ"></a>æ‰“åŒ…æ–‡ä»¶è§£æ</h4><blockquote><p>é—®é¢˜ï¼šæ‰“åŒ…æ—¶å€™jså¤ªå¤§ï¼Œé¡µé¢å“åº”ç¼“æ…¢</p></blockquote><p>å¦‚æœç»„ä»¶æ¨¡å—åŒ–äº†ï¼Œå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰å¼€å§‹åŠ è½½è¢«é€‰ä¸­çš„ç»„ä»¶ï¼Œè¿™æ ·å°±æ˜¯æ‡’åŠ è½½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å†™æ³•1:</span></span><br><span class="line"><span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/User&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†™æ³•2:</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">User</span> = (<span class="params"></span>) =&gt; <span class="title function_">import</span>(<span class="string">&#x27;@/components/User&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>npm run build</code>å‘½ä»¤å°†ä¹‹å‰åˆ›å»ºçš„é¡¹ç›®æ‰“åŒ…ï¼Œæ‰“å¼€distæ–‡ä»¶å¤¹ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- dist</span><br><span class="line">- - index.html</span><br><span class="line">- - css</span><br><span class="line">- - js</span><br><span class="line">- - - app.xxx.js</span><br><span class="line">- - - mainfest.xxx.js</span><br><span class="line">- - - vendor.xxx.js</span><br></pre></td></tr></table></figure><ul><li><code>app.xxx.js</code>æ˜¯æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ä¸šåŠ¡ä»£ç </li><li><code>vendor.xxx.js</code>æ˜¯ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œä¾‹å¦‚vue&#x2F;vue-router&#x2F;axiosç­‰</li><li><code>mainfest.xxx.js</code>æ˜¯ä¸ºäº†æ‰“åŒ…çš„ä»£ç åšåº•å±‚æ”¯æŒçš„ï¼Œä¸€èˆ¬æ˜¯webpackå¸®æˆ‘ä»¬åšä¸€äº›äº‹æƒ…</li><li>é™¤äº†è¿™ä¸‰ä¸ªè¿˜å¤šäº†2ä¸ªjsï¼Œè¿™2ä¸ªjsæ–‡ä»¶ï¼ˆ0.5bxxx.jså’Œ1.e5xxx.jsï¼‰åˆ†åˆ«æ˜¯Aboutå’ŒUserç»„ä»¶ï¼Œ<code>å› ä¸ºè¿™2ä¸ªç»„ä»¶æ˜¯æ‡’åŠ è½½çš„æ‰€ä»¥è¢«åˆ†å¼€æ‰“åŒ…äº†</code>ã€‚</li></ul><p>æ­¤æ—¶å› ä¸ºæ˜¯æ‡’åŠ è½½ï¼Œéœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶çš„æ—¶å€™æ‰ä¼šåŠ è½½ï¼Œæ‰€ä»¥ä¸ä¼šä¸€æ¬¡æ€§è¯·æ±‚æ‰€æœ‰jsã€‚</p><h4 id="å‚æ•°ä¼ é€’"><a href="#å‚æ•°ä¼ é€’" class="headerlink" title="å‚æ•°ä¼ é€’"></a>å‚æ•°ä¼ é€’</h4><p>åŠ¨æ€è·¯ç”±è¯´çš„<code>userId</code>ä¹Ÿæ˜¯å‚æ•°ä¼ é€’çš„æ–¹å¼çš„ä¸€ç§ï¼Œå‡†å¤‡æ–°å»ºä¸€ä¸ª<code>Profile.vue</code>ç»„ä»¶ï¼Œå¹¶é…ç½®è·¯ç”±æ˜ å°„ï¼Œæ·»åŠ æŒ‡å®šçš„<code>&lt;router-link&gt;</code>ã€‚</p><div class="tabs" id="tab5"><ul class="nav-tabs"><button type="button" class="tab active" data-href="tab5-1">å‰æœŸå‡†å¤‡</button><button type="button" class="tab" data-href="tab5-2">åœ¨app.vueä¸­è®¾ç½®åˆå§‹çš„å¯¹è±¡profileInfo</button></ul><div class="tab-contents"><div class="tab-item-content active" id="tab5-1"><p><code>Profile.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯æ¡£æ¡ˆç•Œé¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯æ¡£æ¡ˆé¡µé¢çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ¡£æ¡ˆçš„åå­—æ˜¯: &#123;&#123; profileInfo.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ¡£æ¡ˆçš„å¹´é¾„æ˜¯: &#123;&#123; profileInfo.age &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ¡£æ¡ˆçš„èº«é«˜æ˜¯: &#123;&#123; profileInfo.height &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;Profile&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">profileInfo</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">profileInfo</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>router/index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Profile&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/Profile&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123; path: &#x27;/profile&#x27;, query: &#123; profileInfo &#125; &#125;&quot;</span>&gt;</span>æ¡£æ¡ˆ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab5-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data ()&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">userId</span>: <span class="string">&#x27;zykj&#x27;</span>,</span><br><span class="line">      <span class="attr">profileInfo</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;zykj&quot;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">177</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><div class="note info flat"><p>ä¼ é€’å‚æ•°ä¸»è¦æœ‰ä¸¤ç§ç±»å‹ï¼š<code>params</code>å’Œ<code>query</code></p></div><blockquote><p><code>params</code>çš„ç±»å‹ä¹Ÿå°±æ˜¯åŠ¨æ€è·¯ç”±å½¢å¼</p></blockquote><ul><li>é…ç½®è·¯ç”±çš„æ ¼å¼ï¼š<code>/user/:userId</code> <code>:xxx</code>ä»£è¡¨å‚æ•°</li><li>ä¼ é€’çš„æ–¹å¼ï¼šåœ¨pathåé¢è·Ÿä¸Šå¯¹åº”çš„userId</li><li>ä¼ é€’å½¢æˆçš„è·¯å¾„ï¼š<code>/user/123</code>ï¼Œ<code>/user/xxx</code></li><li>é€šè¿‡<code>$route.params.userId</code>è·å–æŒ‡å®šuserId</li></ul><blockquote><p><code>query</code>çš„ç±»å‹</p></blockquote><ul><li>é…ç½®è·¯ç”±çš„æ ¼å¼ï¼š<code>/profile</code>ï¼Œä¹Ÿå°±æ˜¯æ™®é€šçš„é…ç½®</li><li>ä¼ é€’çš„æ–¹å¼ï¼šå¯¹è±¡ä¸­ä½¿ç”¨queryçš„keyä½œä¸ºä¼ é€’çš„æ–¹å¼</li><li>ä¼ é€’å½¢æˆçš„è·¯å¾„ï¼š<code>/profile?name=zty&amp;age=24&amp;height=177</code>ï¼ˆè¿™ä¸ªä¼ é€’çš„æ˜¯ä¸‰ä¸ªé”®å€¼å¯¹ï¼‰ï¼Œ<code>/profile?profileInfo=%5Bobject%20Object%5D</code>ï¼ˆè¿™ä¸ªqueryä¼ é€’çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é”®å€¼å¯¹ï¼Œkeyä¸ºprofileInfoï¼Œvalueæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰</li></ul><p>ä½¿ç”¨ä»£ç ç¼–å†™<code>ä¼ é€’æ•°æ®</code>ï¼Œä½¿ç”¨<code>button</code>ä»£æ›¿<code>&lt;router-link&gt;</code>ï¼Œå¹¶æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;userClick&quot;</span>&gt;</span>ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;profileClick&quot;</span>&gt;</span>æ¡£æ¡ˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">userClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/user/&#x27;</span> + <span class="variable language_">this</span>.<span class="property">userId</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;userClick&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">profileClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> profileInfo = <span class="variable language_">this</span>.<span class="property">profileInfo</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">            profileInfo</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;profileClick&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‘½åè§†å›¾"><a href="#å‘½åè§†å›¾" class="headerlink" title="å‘½åè§†å›¾"></a>å‘½åè§†å›¾</h4><blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://router.vuejs.org/zh/guide/essentials/named-views.html">å®˜ç½‘å¼•ç”¨</a></p></blockquote><p>æœ‰æ—¶å€™æƒ³åŒæ—¶ (åŒçº§) å±•ç¤ºå¤šä¸ªè§†å›¾ï¼Œè€Œä¸æ˜¯åµŒå¥—å±•ç¤ºï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œæœ‰ <code>sidebar</code> (ä¾§å¯¼èˆª) å’Œ <code>main</code> (ä¸»å†…å®¹) ä¸¤ä¸ªè§†å›¾ï¼Œè¿™ä¸ªæ—¶å€™å‘½åè§†å›¾å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ä½ å¯ä»¥åœ¨ç•Œé¢ä¸­æ‹¥æœ‰å¤šä¸ªå•ç‹¬å‘½åçš„è§†å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‡ºå£ã€‚å¦‚æœ <code>router-view</code> æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º <code>default</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;view one&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;view two&quot;</span> <span class="attr">name</span>=<span class="string">&quot;a&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;view three&quot;</span> <span class="attr">name</span>=<span class="string">&quot;b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªè§†å›¾ä½¿ç”¨ä¸€ä¸ªç»„ä»¶æ¸²æŸ“ï¼Œå› æ­¤å¯¹äºåŒä¸ªè·¯ç”±ï¼Œå¤šä¸ªè§†å›¾å°±éœ€è¦å¤šä¸ªç»„ä»¶ã€‚ç¡®ä¿æ­£ç¡®ä½¿ç”¨ <code>components</code> é…ç½® (å¸¦ä¸Š s)ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">components</span>: &#123;</span><br><span class="line">        <span class="attr">default</span>: <span class="title class_">Foo</span>,</span><br><span class="line">        <span class="attr">a</span>: <span class="title class_">Bar</span>,</span><br><span class="line">        <span class="attr">b</span>: <span class="title class_">Baz</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆä¼šåœ¨ä¸€ä¸ªè§†å›¾ä¸­æ˜¾ç¤ºå¤šä¸ªç»„ä»¶</p><h4 id="routerå’Œrouteçš„ç”±æ¥"><a href="#routerå’Œrouteçš„ç”±æ¥" class="headerlink" title="routerå’Œrouteçš„ç”±æ¥"></a>routerå’Œrouteçš„ç”±æ¥</h4><blockquote><p>$router</p></blockquote><p>vueå…¨å±€å¯¹è±¡<code>this.$router</code>ä¸<code>main.js</code>å¯¼å…¥çš„routerå¯¹è±¡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬<code>router/index.js</code>å¯¼å‡ºçš„å¯¹è±¡routerã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,<span class="comment">//ä½¿ç”¨è·¯ç”±å¯¹è±¡</span></span><br><span class="line">  <span class="attr">netder</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//router/index.js</span></span><br><span class="line"><span class="comment">//å¯¼å‡ºrouterå®ä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><blockquote><p>$route</p></blockquote><p><code>this.$route</code>å¯¹è±¡æ˜¯<code>å½“å‰å¤„äºæ´»è·ƒçš„è·¯ç”±</code>ï¼Œæœ‰<code>params</code>å’Œ<code>query</code>å±æ€§å¯ä»¥ç”¨æ¥ä¼ é€’å‚æ•°ã€‚</p><p>æŸ¥çœ‹<code>vue-router</code>æºç ,åœ¨æˆ‘ä»¬é¡¹ç›®ä¸­çš„<code>router/index.js</code>ä¸­ï¼Œvue å¯¹äºæ’ä»¶å¿…é¡»è¦ä½¿ç”¨<code>Vue.use(Router)</code>ï¼Œæ¥å®‰è£…æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œvue-routerçš„<code>install.js</code>ã€‚</p><p>åœ¨<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vuejs/vue-router/tree/dev/src">vue-routerçš„github</a>æºç ä¸­æŸ¥çœ‹srcç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- xxx</span><br><span class="line">- index.js</span><br><span class="line">- install.js</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>index.js</code>æ˜¯å…¥å£æ–‡ä»¶ï¼Œå…¥å£jsæ–‡ä»¶å°±æ˜¯å¯¼å…¥å¹¶æ‰§è¡Œäº†<code>install.js</code>æ–‡ä»¶ã€‚</p><p><code>install.js</code>ä¸­æœ‰æ³¨å†Œ2ä¸ªå…¨å±€ç»„ä»¶<code>RouterView</code>å’Œ<code>RouterLink</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½ä½¿ç”¨<code>&lt;router-view&gt;</code>å’Œ<code>&lt;router-link&gt;</code>ç»„ä»¶ã€‚</p><blockquote><p>$router å’Œ $route æ˜¯ç»§æ‰¿è‡ªvueçš„åŸå‹</p></blockquote><p>æ€ä¹ˆç†è§£åŸå‹ï¼Ÿå­¦è¿‡java çš„éƒ½çŸ¥é“æœ‰çˆ¶ç±»å’Œå­ç±»ï¼Œå­ç±»ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„å­ç±»ï¼Œä½†æ˜¯ä»–ä»¬éƒ½æœ‰ä¸€ä¸ªå¤„äºæœ€é¡¶å±‚çš„ç±»Object(æ‰€æœ‰ç±»çš„çˆ¶ç±»)ã€‚åœ¨Vueä¸­å°±æœ‰é‚£ä¸€ä¸ª<code>Vue</code>ç±»ä¼¼Objectï¼Œåœ¨javaä¸­åœ¨Objectä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥ä½¿ç”¨å¯ä»¥é‡å†™ï¼Œç±»ä¼¼çš„<code>Vue.prototype</code>ï¼ˆVueçš„åŸå‹ï¼‰å®šä¹‰çš„å±æ€§æ–¹æ³•ï¼Œä»–çš„åŸå‹é“¾ä¸Šçš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨ï¼Œè€Œ<code>$router</code>å’Œ<code>$route</code>éƒ½åœ¨Vueçš„åŸå‹é“¾ä¸Šã€‚</p><p>åœ¨main.jså…¥å£æ–‡ä»¶ä¸­åœ¨Vueçš„åŸå‹ä¸Šå®šä¹‰ä¸€ä¸ªæ–¹æ³•testï¼Œç„¶ååœ¨Userç»„ä»¶ä¸­å°è¯•è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨vueçš„åŸå‹ä¸Šæ·»åŠ testæ–¹æ³•</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">test</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,<span class="comment">//ä½¿ç”¨è·¯ç”±å¯¹è±¡</span></span><br><span class="line">  <span class="attr">netder</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯ç”¨æˆ·ç•Œé¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯ç”¨æˆ·é¡µé¢çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç”¨æˆ·IDæ˜¯: &#123;&#123; userId &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;User&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">userId</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">userId</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">btnClick</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//æ‰€æœ‰ç»„ä»¶éƒ½ç»§æ‰¿è‡ªvueçš„åŸå‹</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$router</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$route</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//è°ƒç”¨vueåŸå‹çš„test</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">test</span>()</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨é¡¹ç›®ç‚¹å‡»Useré¡µé¢ä¸Šçš„æŒ‰é’®ï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—å‘ç°testæ–¹æ³•è¢«æ‰§è¡Œäº†ï¼Œè€ŒUserç»„ä»¶ä¸­å¹¶æœªå®šä¹‰testæ–¹æ³•ï¼Œå´å¯ä»¥è°ƒç”¨ã€‚</p><br><p>ç»§ç»­æ¥è¯»install.jsï¼Œinstall.jsä¸­ä¸€å¼€å§‹å°±å°†<code>Vue</code>è¿™ä¸ªç±»å½“å‚æ•°ä¼ å…¥äº†installæ–¹æ³•ä¸­ï¼Œå¹¶æŠŠ<code>Vue</code>èµ‹å€¼ç»™<code>_Vue</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">install</span> (<span class="title class_">Vue</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (install.<span class="property">installed</span> &amp;&amp; _Vue === <span class="title class_">Vue</span>) <span class="keyword">return</span></span><br><span class="line">  install.<span class="property">installed</span> == <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line">  _Vue = <span class="title class_">Vue</span>  </span><br></pre></td></tr></table></figure><p>ç»§ç»­è¯»install.jså‘ç°ä»¥ä¸‹ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="string">&#x27;$router&#x27;</span>, &#123;</span><br><span class="line">    get () &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_routerRoot</span>.<span class="property">_router</span> &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//Object.definePropertyç”¨æ¥å®šä¹‰å±æ€§</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="string">&#x27;$route&#x27;</span>, &#123;</span><br><span class="line">    get () &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_routerRoot</span>.<span class="property">_route</span> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>Object.defineProperty</code>ç”¨æ¥å®šä¹‰å±æ€§ï¼Œä»¥ä¸Šä»£ç å°±æ˜¯ç»™<code>Vue.prototype</code>(VueåŸå‹)æ·»åŠ <code>$router</code>å’Œ<code>$route</code>å±æ€§å¹¶ç»™å±æ€§èµ‹å€¼ï¼Œç­‰ä»·äº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$router</span> = &#123;</span><br><span class="line">  get () &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_routerRoot</span>.<span class="property">_router</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$router</span> = &#123;</span><br><span class="line">  get () &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_routerRoot</span>.<span class="property">_router</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯åœ¨Vueçš„åŸå‹ä¸Šæ·»åŠ <code>$router</code>å’Œ<code>$route</code>å±æ€§,å†æŸ¥çœ‹get()è¿”å›å€¼<code>this._routerRoot._router</code></p><p>è¿™é‡Œçš„<code>this.$options.router</code>å°±æ˜¯æˆ‘ä»¬main.jså…¥å£æ–‡ä»¶ä¼ å…¥çš„å‚æ•°<code>router</code>ï¼Œä¹Ÿå°±æ˜¯router&#x2F;index.jså¯¼å‡ºçš„<code>router</code>å¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,<span class="comment">//ä½¿ç”¨è·¯ç”±å¯¹è±¡</span></span><br><span class="line">  <span class="attr">netder</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="Vue-routerè¿›é˜¶"><a href="#Vue-routerè¿›é˜¶" class="headerlink" title="Vue-routerè¿›é˜¶"></a>Vue-routerè¿›é˜¶</h3><h4 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h4><p>é—®é¢˜ï¼šæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨è·¯ç”±è·³è½¬åï¼Œä¾‹å¦‚ä»ç”¨æˆ·é¡µé¢è·³è½¬åˆ°é¦–é¡µï¼Œé¡µé¢å†…å®¹è™½ç„¶å¯ä»¥è‡ªå·±å®šä¹‰ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œä¹Ÿåªæœ‰ä¸€ä¸ªtitleæ ‡ç­¾ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å˜æ ‡é¢˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨jså»ä¿®æ”¹titleï¼Œå¯ä»¥ä½¿ç”¨vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°åœ¨ç»„ä»¶è¢«åˆ›å»ºçš„æ—¶å€™ä¿®æ”¹titleæ ‡ç­¾å†…å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºçš„æ—¶å€™ä¿®æ”¹title</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;å…³äº&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//æ•°æ®è¢«æŒ‚è½½åˆ°domä¸Šçš„æ—¶å€™ä¿®æ”¹title</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//é¡µé¢åˆ·æ–°çš„æ—¶å€™ä¿®æ”¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ä¸èƒ½æ¯ä¸ªç»„ä»¶å»å†™ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ç›‘å¬è·¯ç”±çš„å˜åŒ–(äº†è§£è·¯ç”±ä»å“ªæ¥å¾€å“ªé‡Œè·³è½¬)ï¼Œé‚£æˆ‘ä»¬å°±èƒ½åœ¨è·³è½¬ä¸­ä¿®æ”¹titleæ ‡ç­¾ï¼Œè¿™å°±æ˜¯å¯¼èˆªå®ˆå«èƒ½åšçš„äº‹æƒ…ã€‚</p><p>ä¿®æ”¹<code>router/index.js</code></p><blockquote><p>router.beforeEach()ç§°ä¸ºå‰ç½®é’©å­(å‰ç½®å®ˆå«)ï¼Œé¡¾åæ€ä¹‰ï¼Œè·³è½¬ä¹‹å‰åšä¸€äº›å¤„ç†ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‰ç½®é’©å­ï¼šä»fromè·³è½¬åˆ°to</span></span><br><span class="line"><span class="comment"> * from æ¥çš„è·¯ç”±</span></span><br><span class="line"><span class="comment"> * to è¦å»çš„è·¯ç”±</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">matched</span>[<span class="number">0</span>].<span class="property">meta</span>.<span class="property">title</span> <span class="comment">//ç»™ç›®æ ‡è·¯ç”±çš„é¡µé¢çš„titleèµ‹å€¼</span></span><br><span class="line">  <span class="title function_">next</span>()<span class="comment">//å¿…é¡»è°ƒç”¨ï¼Œä¸è°ƒç”¨ä¸ä¼šè·³è½¬</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å½“ç„¶æ¯ä¸ªè·¯ç”±é…ç½®ä¸Šä¹Ÿè¦åŠ ä¸Šmetaå±æ€§ï¼Œä¸ç„¶å°±å–ä¸åˆ°äº†ï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨<code>matched[0]</code>ï¼Œå› ä¸ºå¦‚æœä½ æ˜¯åµŒå¥—è·¯ç”±ï¼Œæœ‰æ²¡æœ‰ç»™å­è·¯ç”±æ·»åŠ metaï¼ˆå…ƒæ•°æ®ï¼šæè¿°æ•°æ®çš„æ•°æ®ï¼‰å±æ€§ï¼Œå°±ä¼šæ˜¾ç¤º<code>undefined</code>ï¼Œä½¿ç”¨<code>matched[0]</code>è¡¨ç¤ºå–åˆ°åŒ¹é…çš„ç¬¬ä¸€ä¸ªå°±ä¼šæ‰¾åˆ°çˆ¶è·¯ç”±çš„metaå±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//é…ç½®è·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,<span class="comment">//home  å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span>, <span class="comment">//ç»„ä»¶å</span></span><br><span class="line">    <span class="comment">//æ·»åŠ  meta å…ƒæ•°æ®</span></span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;é¦–é¡µ&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">childnet</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">redirect</span>: <span class="string">&#x27;/home/news&#x27;</span><span class="comment">//ç¼ºçœæ—¶å€™é‡å®šå‘åˆ°/home/news</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;news&#x27;</span>,<span class="comment">//å­åµŒå¥—è·¯ç”± æ— é¡»åŠ /</span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;News&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/HomeNews&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;Message&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/HomeMessage&#x27;</span>) <span class="comment">//æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯åŠ¨æœåŠ¡æµ‹è¯•åŠŸèƒ½</p><p>å‰é¢è¯´äº†å‰ç½®å®ˆå«<code>router.beforeEach()</code>ï¼Œç›¸å¯¹çš„åº”è¯¥ä¹Ÿå­˜åœ¨åç½®å®ˆå«(åç½®é’©å­)ã€‚</p><blockquote><p>router.afterEach()ç§°ä¸ºåç½®å®ˆå«(åç½®é’©å­)ï¼Œé¡¾åæ€ä¹‰ï¼Œä¹Ÿå°±æ˜¯åœ¨è·³è½¬ä¹‹åçš„å›è°ƒå‡½æ•°ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åç½®é’©å­</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åç½®é’©å­è°ƒç”¨äº†----&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>è·¯ç”±ç‹¬äº«å®ˆå«ï¼Œè·¯ç”±ç§æœ‰çš„</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,<span class="comment">//about å‰ç«¯è·¯ç”±åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&#x27;@/components/About&#x27;</span>),</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ¥è‡ª&#x27;</span> + <span class="keyword">from</span>.<span class="property">path</span> + <span class="string">&#x27;,è¦å»&#x27;</span> + to.<span class="property">path</span>)</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;å…³äº&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>beforeEnter</code>çš„å‚æ•°ä¸å…¨å±€å®ˆå«ä¸€æ ·ï¼Œä¿®æ”¹<code>about</code>è·¯ç”±çš„å‚æ•°ï¼Œæ·»åŠ è·¯ç”±ç‹¬äº«å®ˆå«ï¼Œæ­¤æ—¶åªæœ‰è·³è½¬åˆ°<code>about</code>è·¯ç”±ï¼Œæ‰ä¼šæ‰“å°æ—¥å¿—ã€‚</p><blockquote><p>ç»„ä»¶å†…çš„å®ˆå«ï¼Œç›´æ¥åœ¨ç»„ä»¶ä¸­å®šä¹‰çš„å±æ€§</p></blockquote><ul><li><code>beforeRouteEnter</code></li><li><code>beforeRouteUpdate</code> (2.2 æ–°å¢)</li><li><code>beforeRouteLeave</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`...`</span>,</span><br><span class="line">  beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteUpdate (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>beforeRouteEnter</code> å®ˆå« <strong>ä¸èƒ½</strong> è®¿é—® <code>this</code>ï¼Œå› ä¸ºå®ˆå«åœ¨å¯¼èˆªç¡®è®¤å‰è¢«è°ƒç”¨,å› æ­¤å³å°†ç™»åœºçš„æ–°ç»„ä»¶è¿˜æ²¡è¢«åˆ›å»ºã€‚</p><p>ä¸è¿‡ï¼Œä½ å¯ä»¥é€šè¿‡ä¼ ä¸€ä¸ªå›è°ƒç»™ <code>next</code>æ¥è®¿é—®ç»„ä»¶å®ä¾‹ã€‚åœ¨å¯¼èˆªè¢«ç¡®è®¤çš„æ—¶å€™æ‰§è¡Œå›è°ƒï¼Œå¹¶ä¸”æŠŠç»„ä»¶å®ä¾‹ä½œä¸ºå›è°ƒæ–¹æ³•çš„å‚æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">  <span class="title function_">next</span>(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®ä¾‹</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ <code>beforeRouteEnter</code> æ˜¯æ”¯æŒç»™ <code>next</code> ä¼ é€’å›è°ƒçš„å”¯ä¸€å®ˆå«ã€‚å¯¹äº <code>beforeRouteUpdate</code> å’Œ <code>beforeRouteLeave</code> æ¥è¯´ï¼Œ<code>this</code> å·²ç»å¯ç”¨äº†ï¼Œæ‰€ä»¥<strong>ä¸æ”¯æŒ</strong>ä¼ é€’å›è°ƒï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteUpdate (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">  <span class="comment">// just use `this`</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = to.<span class="property">params</span>.<span class="property">name</span></span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¦»å¼€å®ˆå«<code>é€šå¸¸ç”¨æ¥ç¦æ­¢ç”¨æˆ·åœ¨è¿˜æœªä¿å­˜ä¿®æ”¹å‰çªç„¶ç¦»å¼€</code>ã€‚è¯¥å¯¼èˆªå¯ä»¥é€šè¿‡ <code>next(false)</code> æ¥å–æ¶ˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteLeave (to, <span class="keyword">from</span> , next) &#123;</span><br><span class="line">  <span class="keyword">const</span> answer = <span class="variable language_">window</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;Do you really want to leave? you have unsaved changes!&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (answer) &#123;</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">next</span>(<span class="literal">false</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ç»“:</p><ul><li>å‰ç½®å®ˆå«å’Œåç½®å®ˆå«éƒ½æ˜¯<strong>å…¨å±€å®ˆå«</strong></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E8%B7%AF%E7%94%B1%E7%8B%AC%E4%BA%AB%E7%9A%84%E5%AE%88%E5%8D%AB">è·¯ç”±ç‹¬äº«å®ˆå«</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB">ç»„ä»¶å†…çš„å®ˆå«</a></li></ul><h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h3><p>å…ˆç»™Homeç»„ä»¶åŠ ä¸Š<code>created()</code>å’Œ<code>destoryed()</code>2ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Homeç»„ä»¶è¢«åˆ›å»ºäº†&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">destoryed</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Homeç»„ä»¶è¢«é”€æ¯äº†&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æŸä¸ªé—®é¢˜çš„åˆ†æ</strong></p><p>åœ¨é¦–é¡µå’Œå…³äºç»„ä»¶ä¹‹é—´è·¯ç”±è·³è½¬çš„æ—¶å€™ï¼ŒHomeç»„ä»¶ä¸€ç›´é‡å¤åˆ›å»ºå’Œé”€æ¯çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡åˆ›å»ºéƒ½æ˜¯æ–°çš„Homeç»„ä»¶ï¼Œä½†æ˜¯æˆ‘æœ‰è¿™æ ·çš„éœ€æ±‚ã€‚å½“æˆ‘ç‚¹å‡»é¦–é¡µæ¶ˆæ¯é¡µé¢ï¼Œéšåè·³è½¬åˆ°å…³äºé¡µé¢ï¼Œåˆè·³è½¬åˆ°é¦–é¡µï¼Œæ­¤æ—¶æˆ‘å¸Œæœ›æ˜¾ç¤ºçš„æ˜¯é¦–é¡µçš„æ¶ˆæ¯é¡µé¢è€Œä¸æ˜¯é»˜è®¤çš„æ–°é—»é¡µé¢ï¼Œæ­¤æ—¶å°±éœ€è¦<code>keep-alive</code>æ¥ä½¿ç»„ä»¶ä¿æŒçŠ¶æ€ï¼Œç¼“å­˜èµ·æ¥ï¼Œç¦»å¼€è·¯ç”±åï¼ŒHomeç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„<code>destroyed()</code>ä¸ä¼šè¢«è°ƒç”¨ï¼ŒHomeç»„ä»¶ä¸ä¼šè¢«é”€æ¯ã€‚</p><ul><li><code>keep-alive</code>æ˜¯Vueå†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œæˆ–è€…é¿å…é‡æ–°æ¸²æŸ“ã€‚</li><li><code>router-view</code>ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚æœç”¨<code>&lt;keep-alive&gt;&lt;router-vie/&gt;&lt;/keep-alive&gt;</code>ï¼Œå°†å…¶åŒ…èµ·æ¥ï¼Œæ‰€æœ‰è·¯å¾„åŒ¹é…åˆ°çš„è§†å›¾ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ã€‚</li></ul><p><strong>ä¿®æ”¹<code>app.vue</code>ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å†æ¬¡å¯åŠ¨é¡¹ç›®ï¼Œå‘ç°è¿˜æ˜¯æ–°é—»é¡µé¢ï¼Ÿéš¾é“æ˜¯<code>keep-alive</code>æ— æ•ˆï¼Ÿ</p><p>ä»”ç»†çœ‹æ§åˆ¶å°å‘ç°ï¼Œåœ¨è·³è½¬å…³äºé¡µé¢çš„æ—¶å€™Homeç»„ä»¶å¹¶æ²¡æœ‰è¢«é”€æ¯ï¼Œè¯´æ˜<code>keep-alive</code>ç”Ÿæ•ˆäº†ã€‚ä»”ç»†æŸ¥çœ‹è·¯ç”±é…ç½®å‘ç°ï¼Œ<code>/home</code>è¢«é»˜è®¤é‡å®šå‘åˆ°äº†<code>/home/news</code>ã€‚æ‰€ä»¥åœ¨è®¿é—®<code>/home</code>çš„æ—¶å€™æ¯æ¬¡å‡ºæ¥çš„éƒ½æ˜¯æ–°é—»ã€‚</p><p><strong>æ€è·¯</strong></p><ul><li><p>å°†é»˜è®¤çš„é‡å®šå‘å»æ‰ï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥é¦–é¡µï¼Œé‚£æ–°é—»é¡µé¢å†…å®¹åˆä¸ä¼šæ˜¾ç¤ºäº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   path: &#x27;&#x27;,</span></span><br><span class="line"><span class="comment">//   redirect: &#x27;/home/news&#x27;//ç¼ºçœæ—¶å€™é‡å®šå‘åˆ°/home/news</span></span><br><span class="line"><span class="comment">// &#125;,</span></span><br></pre></td></tr></table></figure></li><li><p>ä¸ºäº†ç¬¬ä¸€æ¬¡èƒ½ä½¿æ–°é—»é¡µé¢å†…å®¹æ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨<code>created()</code>ï¼Œå°†è·¯ç”±ç”¨ä»£ç çš„æ–¹å¼æ‰‹åŠ¨é‡å®šå‘ï¼Œä¹Ÿå°±æ˜¯pushã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Homeç»„ä»¶è¢«åˆ›å»ºäº†&#x27;</span>)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/home/news&#x27;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>ç”±äº<code>keep-alive</code>ç»„ä»¶åªåˆ›å»ºä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥Homeç»„ä»¶çš„æ—¶å€™ï¼Œæ–°é—»é¡µé¢æ˜¾ç¤ºæ­£å¸¸ï¼Œå½“ç¬¬äºŒæ¬¡è·³è½¬é¦–é¡µçš„æ—¶å€™ï¼Œå› ä¸ºä¸ä¼šå†è°ƒç”¨<code>created()</code>ï¼Œæ‰€ä»¥æ–°é—»é¡µé¢åˆä¸ä¼šæ˜¾ç¤ºäº†ã€‚</p></li><li><p>ä¸ºäº†è§£å†³é—®é¢˜ï¼Œåœ¨Homeç»„ä»¶ä¸­å¼•å…¥<code>activated()</code>å’Œ<code>deactivated()</code>ä¸¤ä¸ªå‡½æ•°ï¼Œè¿™2ä¸ªå‡½æ•°ä¸<code>keep-alive</code>æœ‰å…³ï¼Œä¸ä½¿ç”¨<code>keep-alive</code>çš„è¿™ä¸¤ä¸ªå‡½æ•°æ— æ•ˆã€‚</p><ul><li><code>activated()</code>å½“ç»„ä»¶å±äºè¿›å…¥æ´»è·ƒçŠ¶æ€çš„æ—¶å€™è°ƒç”¨</li><li><code>deactivated()</code>å½“ç»„ä»¶å±äºé€€å‡ºæ´»è·ƒçŠ¶æ€çš„æ—¶å€™è°ƒç”¨(æ­¤æ—¶è·¯ç”±å·²ç»è·³è½¬ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ­¤æ–¹æ³•ä¸­ä¿®æ”¹è·¯ç”±ï¼Œå› ä¸ºä¿®æ”¹çš„æ˜¯toè·¯ç”±)</li></ul></li><li><p>ä¸ºäº†ä½¿ç¬¬äºŒæ¬¡è¿›å…¥é¦–é¡µæ–°é—»é¡µé¢å¯ä»¥ç”Ÿæ•ˆï¼Œä½¿ç”¨<code>activated()</code>åœ¨Homeç»„ä»¶ä½¿æ´»è·ƒçŠ¶æ€æ—¶å€™å°±é‡å®šå‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/home/news&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">activated</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨actived&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">path</span>)<span class="comment">//åœ¨æ´»è·ƒçš„æ—¶å€™å°†ä¿å­˜çš„è·¯ç”±ç»™å½“å‰è·¯ç”±</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">deactivated</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨actived&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">path</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">path</span> = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">path</span><span class="comment">//å˜æˆä¸æ´»è·ƒçŠ¶æ€ï¼Œå°†æœ€åçš„è·¯ç”±ä¿å­˜èµ·æ¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œç”±äº<code>deactivated()</code>è°ƒç”¨çš„æ—¶å€™ï¼Œæ­¤æ—¶è·¯ç”±å·²ç»è·³è½¬ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ­¤æ–¹æ³•ä¸­ä¿®æ”¹è·¯ç”±ï¼Œå› ä¸ºä¿®æ”¹çš„æ˜¯toè·¯ç”±ã€‚</p></li><li><p>ä½¿ç”¨è·¯ç”±å®ˆå«(ç»„ä»¶å†…å®ˆå«)ï¼Œ<code>beforeRouteLeave (to, from , next)</code>åœ¨ç¦»å¼€è·¯ç”±çš„æ—¶å€™å°†å½“å‰çš„è·¯ç”±èµ‹å€¼ç»™pathå¹¶ä¿å­˜èµ·æ¥ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">activated</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨actived&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">path</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// deactivated()&#123;</span></span><br><span class="line"><span class="comment">//   console.log(&#x27;è°ƒç”¨actived&#x27;)</span></span><br><span class="line"><span class="comment">//   console.log(this.$route.path)</span></span><br><span class="line"><span class="comment">//   this.path = this.$route.path</span></span><br><span class="line"><span class="comment">// &#125;,</span></span><br><span class="line"><span class="title function_">beforeRouterLeave</span>(<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">path</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">path</span> = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">path</span></span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶é—®é¢˜å®Œå…¨è§£å†³äº†ã€‚</p></li></ul><blockquote><p>keep-aliveçš„å±æ€§</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†<code>&lt;router-view/&gt;</code>åŒ…èµ·æ¥ï¼Œé‚£æ‰€æœ‰çš„ç»„ä»¶éƒ½ä¼šç¼“å­˜ï¼Œéƒ½åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æŸä¸€ä¸ªç»„ä»¶æ¯æ¬¡éƒ½åˆ›å»ºé”€æ¯ï¼Œå°±éœ€è¦ä½¿ç”¨<code>exclude</code>å±æ€§ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">exclude</span>=<span class="string">&#x27;Profile,User&#x27;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶<code>Profile</code>å’Œ<code>User</code>ç»„ä»¶ï¼ˆè¿™é‡Œç»„ä»¶éœ€è¦æœ‰nameå±æ€§ï¼Œåˆ†åˆ«ä¸º<code>Profile</code>å’Œ<code>User</code>ï¼‰å°±è¢«æ’é™¤åœ¨å¤–ï¼Œæ¯æ¬¡éƒ½ä¼šåˆ›å»ºå’Œé”€æ¯ã€‚ç›¸å¯¹åº”çš„ä¹Ÿæœ‰<code>include</code>å±æ€§ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åŒ…å«ï¼Œåªæœ‰é€‰ä¸­çš„æ‰æœ‰<code>keep-alive</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&#x27;Profile,User&#x27;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><code>include</code>å’Œ<code>exclude</code>éƒ½æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæ³¨æ„â€œ,â€ä¹‹åä¹‹å‰éƒ½åˆ«æ‰“ç©ºæ ¼ã€‚</p></blockquote><h3 id="åˆ«åé…ç½®"><a href="#åˆ«åé…ç½®" class="headerlink" title="åˆ«åé…ç½®"></a>åˆ«åé…ç½®</h3><p>ç»å¸¸çš„æˆ‘ä»¬å‘å¼•å…¥å›¾ç‰‡æ–‡ä»¶ç­‰èµ„æºçš„æ—¶å€™ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè¯¸å¦‚<code>../assets/xxx</code>è¿™æ ·çš„ä½¿ç”¨..&#x2F;è·å–ä¸Šä¸€å±‚ï¼Œå¦‚æœæœ‰å¤šä¸ªä¸Šå±‚å°±éœ€è¦<code>../../xxx</code>ç­‰ç­‰è¿™æ ·ä¸åˆ©äºç»´æŠ¤ä»£ç ã€‚æ­¤æ—¶å°±éœ€è¦ä¸€ä¸ªèƒ½è·å–åˆ°æŒ‡å®šç›®å½•çš„èµ„æºçš„å°±å¥½äº†ã€‚</p><h4 id="Vue2-xä¸­"><a href="#Vue2-xä¸­" class="headerlink" title="Vue2.xä¸­"></a>Vue2.xä¸­</h4><p>åœ¨<code>webpack.base.config</code>ä¸­é…ç½®ä½¿ç”¨åˆ«åï¼Œæ‰¾åˆ°<code>resolve:&#123;&#125;</code>æ¨¡å—ï¼Œå¢åŠ é…ç½®ä¿¡æ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>],</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;assets&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/assets&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;components&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/components&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;views&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/views&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ<code>@</code>æŒ‡å®šç›®å½•æ˜¯<code>src</code>ï¼Œä¾‹å¦‚<code>@/components</code>è¡¨ç¤º<code>src/components</code>ç›®å½•ï¼Œ<code>assets</code>è¡¨ç¤º<code>src/assets</code>å‰ç¼€ï¼Œå¦‚æœæ˜¯<code>assets/img</code>å°±è¡¨ç¤º<code>src/assets/img</code>ç›®å½•ã€ä½†æ˜¯ä½¿ç”¨è¿˜éœ€è¦åŠ <code>~</code> å¦‚: <code>&lt;img src=&quot;~assets/img/tabbar/home.png&quot; /&gt;</code></p><h4 id="Vue3-xä¸­"><a href="#Vue3-xä¸­" class="headerlink" title="Vue3.xä¸­"></a>Vue3.xä¸­</h4><p>é»˜è®¤é…ç½®äº†<code>@</code>ä¸º<code>src</code>çš„åˆ«åã€å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ å…¶ä»–åˆ«åéœ€è¦åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>vue.config.js</code>ã€å¯ä»¥ä½¿ç”¨<code>@</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">        <span class="attr">resolve</span>:&#123;</span><br><span class="line">            <span class="attr">extensions</span>:[],</span><br><span class="line">            <span class="attr">alias</span>:&#123;</span><br><span class="line">                <span class="string">&#x27;assets&#x27;</span>:<span class="string">&#x27;@/assets&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;components&#x27;</span>:<span class="string">&#x27;@/components&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;network&#x27;</span>:<span class="string">&#x27;@/network&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;views&#x27;</span>:<span class="string">&#x27;@/views&#x27;</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://zykj.js.org">ZYKJ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://zykj.js.org/posts/ed3da/">https://zykj.js.org/posts/ed3da/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://zykj.js.org" target="_blank">ZYKJ's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuerouterstudy-cover.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>èµåŠ©</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/c747b178/" title="Ajaxå­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/ajaxstudy-cover.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Ajaxå­¦ä¹ </div></div></a></div><div class="next-post pull-right"><a href="/posts/22686bb0/" title="Vue-CLIå­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vueclistudy-cover.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Vue-CLIå­¦ä¹ </div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/22686bb0/" title="Vue-CLIå­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vueclistudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-06-27</div><div class="title">Vue-CLIå­¦ä¹ </div></div></a></div><div><a href="/posts/f9d8baf9/" title="Vue.jsè¿›é˜¶"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuestudy2-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-06-09</div><div class="title">Vue.jsè¿›é˜¶</div></div></a></div><div><a href="/posts/e400c46/" title="Nuxt.js å­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-08-12</div><div class="title">Nuxt.js å­¦ä¹ </div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>è¯„è®º</span></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-router"><span class="toc-number">1.</span> <span class="toc-text">Vue-router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">è·¯ç”±ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF-x2F-%E5%90%8E%E7%AB%AF%E8%B7%AF%E7%94%B1"><span class="toc-number">1.1.1.</span> <span class="toc-text">å‰ç«¯&#x2F;åç«¯è·¯ç”±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E7%9A%84hash%E5%92%8CHTML5%E7%9A%84history"><span class="toc-number">1.1.2.</span> <span class="toc-text">URLçš„hashå’ŒHTML5çš„history</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#URL%E7%9A%84hash"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">URLçš„hash</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTML5%E7%9A%84history%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">HTML5çš„historyæ¨¡å¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-router%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.</span> <span class="toc-text">Vue-routerå®‰è£…é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-router%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">Vue-routerä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.1.</span> <span class="toc-text">åˆ›å»ºè·¯ç”±ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E6%98%A0%E5%B0%84"><span class="toc-number">1.3.2.</span> <span class="toc-text">é…ç½®è·¯ç”±æ˜ å°„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1"><span class="toc-number">1.3.3.</span> <span class="toc-text">ä½¿ç”¨è·¯ç”±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC%E5%92%8Chistory%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">è·¯ç”±çš„é»˜è®¤å€¼å’Œhistoryæ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-router-link-gt-%E7%9A%84%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7"><span class="toc-number">1.3.5.</span> <span class="toc-text">&lt;router-link&gt;çš„å…¶ä»–å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E4%BB%A3%E7%A0%81%E4%BF%AE%E6%94%B9%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC"><span class="toc-number">1.3.6.</span> <span class="toc-text">é€šè¿‡ä»£ç ä¿®æ”¹è·¯ç”±è·³è½¬</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%90%E5%85%A5Vue-router"><span class="toc-number">1.4.</span> <span class="toc-text">æ¸å…¥Vue-router</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="toc-number">1.4.1.</span> <span class="toc-text">åŠ¨æ€è·¯ç”±</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7%E6%89%80%E6%9C%89%E8%B7%AF%E7%94%B1%E6%88%96-404-Not-found-%E8%B7%AF%E7%94%B1"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">1.4.2.</span> <span class="toc-text">åµŒå¥—è·¯ç”±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90"><span class="toc-number">1.4.3.</span> <span class="toc-text">æ‰“åŒ…æ–‡ä»¶è§£æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">1.4.4.</span> <span class="toc-text">å‚æ•°ä¼ é€’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%86%E5%9B%BE"><span class="toc-number">1.4.5.</span> <span class="toc-text">å‘½åè§†å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router%E5%92%8Croute%E7%9A%84%E7%94%B1%E6%9D%A5"><span class="toc-number">1.4.6.</span> <span class="toc-text">routerå’Œrouteçš„ç”±æ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-router%E8%BF%9B%E9%98%B6"><span class="toc-number">1.5.</span> <span class="toc-text">Vue-routerè¿›é˜¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="toc-number">1.5.1.</span> <span class="toc-text">å¯¼èˆªå®ˆå«</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep-alive"><span class="toc-number">1.6.</span> <span class="toc-text">keep-alive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%AB%E5%90%8D%E9%85%8D%E7%BD%AE"><span class="toc-number">1.7.</span> <span class="toc-text">åˆ«åé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue2-x%E4%B8%AD"><span class="toc-number">1.7.1.</span> <span class="toc-text">Vue2.xä¸­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue3-x%E4%B8%AD"><span class="toc-number">1.7.2.</span> <span class="toc-text">Vue3.xä¸­</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuerouterstudy-cover.png)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By ZYKJ</div><div class="framework-info"><span>æ¡†æ¶</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" data-pjax-state=""><b>jsDelivr</b></a> | HOST BY <a target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer"><b>Vercel</b></a> | HOST BY <a target="_blank" href="https://www.cloudflare-cn.com/" rel="external nofollow noreferrer"><b>Cloudflare</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.imzykj.cn",region:"",onCommentLoaded:()=>{btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"==typeof twikoo?setTimeout(t,0):getScript("https://cdn.jsdelivr.net/npm/twikoo@1.6.29/dist/twikoo.all.min.js").then(t)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script><script>(()=>{const e=()=>{const e=Waline.init(Object.assign({el:"#waline-wrap",serverURL:"https://waline.imzykj.cn",pageview:!1,dark:'html[data-theme="dark"]',path:window.location.pathname,comment:!1},{pageSize:10,requiredMeta:["nick","mail"],login:"enable",copyright:!0,imageUploader:!1,locale:{admin:"åšä¸»",sofa:"è¿™é‡Œå†·å†·æ¸…æ¸…çš„ï¼Œå¿«æ¥ç•™ä¸‹è„šå°å§ï¼",placeholder:"æ‚¨çš„è¯„è®ºçš„å›å¤ä¸ä¼šæœ‰é‚®ä»¶æç¤ºï¼Œè¿˜è¯·è§è°…ï¼"},emoji:["https://npm.elemecdn.com/sticker-heo/Sticker-100/","https://npm.elemecdn.com/telegram-gif/Telegram-Gif/","https://npm.elemecdn.com/@waline/emojis/tw-emoji/"]}));btf.addGlobalFn("pjax",()=>{e.destroy()},"destroyWaline")},t=async()=>{"object"==typeof Waline||(await getCSS("https://cdn.jsdelivr.net/npm/@waline/client@2.15.8/dist/waline.min.css"),await getScript("https://cdn.jsdelivr.net/npm/@waline/client@2.15.8/dist/waline.min.js")),e()};window.loadOtherComment=t})()</script></div><script>window.addEventListener("load",()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++)t+="<div class='aside-list-item'>",t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <div class='name'><span>${e[n].nick} / </span><time datetime="${e[n].date}">${btf.diffDate(e[n].date,!0)}</time></div>\n        </div></div>`;else t+="æ²¡æœ‰è¯„è®º";let n=document.querySelector("#card-newest-comments .aside-list");n&&(n.innerHTML=t),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.imzykj.cn",region:"",pageSize:3,includeReply:!0}).then((function(t){const n=t.map(e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[å›¾ç‰‡]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[é“¾æ¥]")).replace(/<pre><code>.*?<\/pre>/gi,"[ä»£ç ]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t});saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").textContent="æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"}))};"object"==typeof twikoo?t():getScript("https://cdn.jsdelivr.net/npm/twikoo@1.6.29/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)})</script><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>ğŸš€ ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸ“‘</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">ç‚¹æˆ‘æ›´æ–°</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"ğŸš€ åšå®¢å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸŒ",backgroundColor:t,duration:5e5,pos:e,actionText:"ç‚¹æˆ‘æ›´æ–°âš¡",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/link/"]):not([href="/shuoshuo/"]):not([href="/friendcircle/"]):not([href="/about/"]):not([href="/me/"]):not([href="/posts/e297feab/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(btf.removeGlobalFnEvent("pjax"),btf.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div></body></html>