<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Android学习 | ZYKJ's Blog</title><meta name="author" content="ZYKJ"><meta name="copyright" content="ZYKJ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="笔记。"><meta property="og:type" content="article"><meta property="og:title" content="Android学习"><meta property="og:url" content="https://zykj.js.org/posts/5d018fb1/index.html"><meta property="og:site_name" content="ZYKJ&#39;s Blog"><meta property="og:description" content="笔记。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0072Vf1pgy1foxkic3ld0j31hc0u07rx.jpg"><meta property="article:published_time" content="2020-08-01T13:54:21.000Z"><meta property="article:modified_time" content="2020-08-01T13:54:21.000Z"><meta property="article:author" content="ZYKJ"><meta property="article:tag" content="Android"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tva1.sinaimg.cn/large/0072Vf1pgy1foxkic3ld0j31hc0u07rx.jpg"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"><link rel="canonical" href="https://zykj.js.org/posts/5d018fb1/"><link rel="preconnect" href="//gcore.jsdelivr.net"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/index.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:{limitDay:30,position:"top",messagePrev:"这篇文章已经发表了",messageNext:"天了，其中部分内容可能已经过时。"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:450},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://gcore.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://gcore.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Android学习",isPost:!0,isHome:!1,isHighlightShrink:!0,isToc:!0,postUpdate:"2020-08-01 21:54:21"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,c={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(c))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!o&&!a&&!c;if(void 0===t){if(a)activateLightMode();else if(o)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const i=saveToLocal.get("aside-status");void 0!==i&&("hide"===i?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/zykjcss.css" media="all" onload='this.media="all",this.onload=null'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ZYKJ's Blog" type="application/atom+xml"></head><body><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"><script src="https://gcore.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='onerror=null,src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>随机</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-brands fa-line"></i> <span>社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>友链</span></a></li><li><a class="site-page child" href="/friendcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>友圈</span></a></li><li><a class="site-page child" href="/shuoshuo"><i class="fa-fw fa-solid fa-comment-alt"></i> <span>说说</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>留言</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://tva1.sinaimg.cn/large/0072Vf1pgy1foxkic3ld0j31hc0u07rx.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ZYKJ's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>随机</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-brands fa-line"></i> <span>社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>友链</span></a></li><li><a class="site-page child" href="/friendcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>友圈</span></a></li><li><a class="site-page child" href="/shuoshuo"><i class="fa-fw fa-solid fa-comment-alt"></i> <span>说说</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>留言</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Android学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-01T13:54:21.000Z" title="发表于 2020-08-01 21:54:21">2020-08-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-01T13:54:21.000Z" title="更新于 2020-08-01 21:54:21">2020-08-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/Android/">Android</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">15.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>63分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="页面布局"><a href="#页面布局" class="headerlink" title="页面布局"></a>页面布局</h2><p>一般都在 <code>layout</code>文件夹内。</p><p>一个布局文件，一般对应一个 <code>Activity</code>,在代码中通过</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setContentView(R.layout.first_layout);</span><br></pre></td></tr></table></figure><h3 id="布局的分类"><a href="#布局的分类" class="headerlink" title="布局的分类"></a>布局的分类</h3><h4 id="LinearLayout-线性布局"><a href="#LinearLayout-线性布局" class="headerlink" title="LinearLayout 线性布局"></a>LinearLayout 线性布局</h4><blockquote><p>一种使用单个水平行(horizontal)或垂直行(vertical)来组织子项的布局。它会在窗口<strong>长度超出屏幕长度时创建一个滚动条</strong>。</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- 水平布局 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;按钮一&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;按钮二&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;按钮三&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- 垂直布局 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;按钮三&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;按钮四&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;按钮五&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Relative-Layout-相对布局"><a href="#Relative-Layout-相对布局" class="headerlink" title="Relative Layout 相对布局"></a>Relative Layout 相对布局</h4><blockquote><p>让您能够指定子对象彼此之间的相对位置（子对象 A 在子对象 B 左侧）或子对象与父对象的相对位置（与父对象顶部对齐）。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">android:layout_toLeftOf=&quot;&quot;          ——该组件位于引用组件的左方</span><br><span class="line">android:layout_toRightOf=&quot;&quot;         ——该组件位于引用组件的右方</span><br><span class="line">android:layout_above=&quot;&quot;             ——该组件位于引用组件的上方</span><br><span class="line">android:layout_below=&quot;&quot;             ——该组件位于引用组件的下方</span><br><span class="line">android:layout_alignParentLeft=&quot;&quot;   ——该组件是否对其父组件的左端</span><br><span class="line">android:layout_alignParentRight=&quot;&quot;  ——该组件是否对其父组件的右端</span><br><span class="line">android:layout_alignParentTop=&quot;&quot;    ——该组件是否对其父组件的顶部</span><br><span class="line">android:layout_alignParentBottom=&quot;&quot; ——该组件是否对其父组件的底部</span><br><span class="line">android:layout_centerInParent=&quot;&quot;    ——该组件是否相对于父组件居中</span><br><span class="line">android:layout_centerHorizontal=&quot;&quot;  ——该组件是否横向居中</span><br><span class="line">android:layout_centerVertical=&quot;&quot;    ——该组件是否垂直居中</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_alignParentBottom</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;2&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_above</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_toRightOf</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/button3&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;3&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_above</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_toRightOf</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="FrameLayout-帧布局"><a href="#FrameLayout-帧布局" class="headerlink" title="FrameLayout 帧布局"></a>FrameLayout 帧布局</h4><blockquote><p>帧布局(FrameLayout)直接继承了ViewGroup组件；</p><p>帧布局容器为每一个加入其中的组件都创建了一个空白的区域，这个区域我们称之为一帧，所有每个组件都占据一帧，这些都会根据gravity属性执行自动对齐。</p></blockquote><p>常用XML属性及相关的方法:</p><table><thead><tr><th>XML属性</th><th>相关方法</th><th>说明</th></tr></thead><tbody><tr><td>android:foreground</td><td>setForeground(Drawable)</td><td>设置该帧布局容器的前景图像</td></tr><tr><td>android:foregroundGravity</td><td>setForegroundGravity(int)</td><td>定义绘制前景图像的gracity属性</td></tr></tbody></table><h2 id="基本控件"><a href="#基本控件" class="headerlink" title="基本控件"></a>基本控件</h2><p>字体sp、其他dp</p><p>扩展: 设置大小的单位（字体，也包括控件大小）</p><blockquote><p><strong>dp:</strong> 设备独立像素，不同设备有不同的显示效果,这个和设备硬件有关，不依赖像素。</p><p><strong>px:</strong> 像素，在 不同设备显示的效果相同。</p><p><strong>pt:</strong> 标准的长度单位，简单易用，单位换算1pt＝1&#x2F;72英寸。</p><p><strong>sp:</strong> 用于字体显示。</p></blockquote><h3 id="TextView"><a href="#TextView" class="headerlink" title="TextView"></a>TextView</h3><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><table><thead><tr><th><strong>id</strong></th><th>设置一个组件id，通过findViewById()的方法获取到该对象，然后进行相关设置</th></tr></thead><tbody><tr><td><strong>layout_width</strong></td><td><strong>组件宽度</strong> wrap_content: 控件的大小根据里面的内容大小而定，内容越小，则空间越小，反之亦然。 match_parent: 控件大小填满整个父容器</td></tr><tr><td><strong>layout_height</strong></td><td><strong>组件高度</strong></td></tr><tr><td><strong>text</strong></td><td>**设置文本内容 ** 将字符串放置在value文件夹的strings.xml文件下 在activity_main.xml中使用@string&#x2F;<em>来调用这个字符串资源，”</em>“号代表string定义的name</td></tr><tr><td><strong>background</strong></td><td><strong>背景颜色（或背景图片）</strong></td></tr><tr><td><strong>textColor</strong></td><td><strong>设置字体颜色</strong> 将颜色配置在colors.xml文件中 activity_main.xml中，用@color&#x2F;*进行调用</td></tr><tr><td><strong>textStyle</strong></td><td><strong>设置字体样式</strong></td></tr><tr><td><strong>textSize</strong></td><td><strong>字体大小</strong></td></tr><tr><td><strong>gravity</strong></td><td><strong>内容的对齐方向</strong> center: 居中对齐，位于容器横向和纵向的中央 left: 向左对齐，位于容器左边 right: 向右对齐，位于容器右边 bottom:向底对齐，位于容器底部 top: 向顶对齐，位于容器顶部 center_vertical: 位置置于容器的纵向中央部分 center_horizontal: 位置置于容器的横向中央部分 fill_vertical: 纵向延伸填满容器 fiil_horizontal: 横向延伸填满容器 fiil:纵向和横向延伸填满容器</td></tr><tr><td><strong>autoLink</strong></td><td><strong>autoLink的属性可以将符合指定格式的文本转换为可单击的超链接形式</strong></td></tr><tr><td><strong>drawableTop</strong></td><td><strong>TextView上部出现一个图片</strong></td></tr></tbody></table><p>TextView实现跑马灯的效果</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">android:singleLine=&quot;true&quot;</span><br><span class="line"></span><br><span class="line">android:ellipsize=&quot;marquee&quot;</span><br><span class="line"></span><br><span class="line">android:marqueeRepeatLimit=&quot;marquee_forever&quot;</span><br><span class="line"></span><br><span class="line">android:focusable=&quot;true&quot;</span><br><span class="line"></span><br><span class="line">android:focusableInTouchMode=&quot;true&quot;   // 不添加这个属性不能成功跑动起来</span><br><span class="line"></span><br><span class="line">setSelected(true);</span><br></pre></td></tr></table></figure><p>TextView 实现删除线的效果</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">textview.getPaint().setFlags(Paint.STRIKE_THRU_TEXT_FLAG ); //中间横线</span><br><span class="line"></span><br><span class="line">textview.getPaint().setFlags(Paint.UNDERLINE_TEXT_FLAG);//下划线</span><br><span class="line"></span><br><span class="line">textview.getPaint().setAntiAlias(true);// 抗锯齿</span><br></pre></td></tr></table></figure><p>TextView 一行，最多显示10个字符，剩余的用…代替:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mTitleTxt.setSingleLine();// 单行显示mTitleTxt.setMaxEms(10);// 最大十个字符mTitleTxt.setEllipsize(TextUtils.TruncateAt.END);// 剩余的以...结尾</span><br></pre></td></tr></table></figure><p>TextView 展示字母的时候，明明是小写，但界面上看到的都是大写 解决方案</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">添加属性: </span><br><span class="line"></span><br><span class="line">android:textAllCaps=&quot;false&quot;</span><br></pre></td></tr></table></figure><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><p>Java-“this”和”类名.this”以及”类名.class”的区分和详解</p><table><thead><tr><th>组合</th><th>用法说明</th></tr></thead><tbody><tr><td>this</td><td>指代当前对象的引用</td></tr><tr><td>类名.class</td><td>指向每个类对应的唯一类对象（类型为Class）</td></tr><tr><td>类名.this</td><td>内部(可以是匿名内部类)类调用外部类的对象时使用，即在内部类中使用时: 外部类对象是外部类名.this，内部类对象则是this</td></tr></tbody></table><h4 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h4><table><thead><tr><th>属性</th><th>作用</th></tr></thead><tbody><tr><td>android:text&#x3D;””</td><td>设置bottom上显示的文字</td></tr><tr><td>android:textSize&#x3D;””</td><td>设置bottom上的文字大小</td></tr><tr><td>android:textColor&#x3D;””</td><td>设置bottom上的文字颜色</td></tr><tr><td>android:padding&#x3D;””</td><td>设置bottom的内边距</td></tr><tr><td>android:weight&#x3D;””</td><td>权重</td></tr><tr><td><code>&lt;corners android:radius=&quot;&quot; /&gt;</code></td><td>设置边框样式为圆角</td></tr><tr><td><code>&lt;stroke android:width=&quot;&quot; android:color=&quot;&quot; /&gt;</code></td><td>设置边框线条粗细及颜色</td></tr></tbody></table><h4 id="实现点击后字体颜色改变"><a href="#实现点击后字体颜色改变" class="headerlink" title="实现点击后字体颜色改变"></a>实现点击后字体颜色改变</h4><p>这里我们将不同功能用不同的xml文件存放，当编写的代码较多时，这样设置有助于检查和修改代码。</p><p>https:&#x2F;&#x2F;&#x2F;&#x2F;upload-images.jianshu.io&#x2F;upload_images&#x2F;18962003-ab2c58dd20ef6d4a.png</p><p>activity_main.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.MainActivity&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;分享&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@drawable/text_color&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;显示的文本&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;@drawable/edit_text_color&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@drawable/shape_rectangle&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>shape_rectangle.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--长方形</span></span><br><span class="line"><span class="comment">corners: 圆角的大小</span></span><br><span class="line"><span class="comment">solid: 填充颜色</span></span><br><span class="line"><span class="comment">stroke: 边框颜色 宽度</span></span><br><span class="line"><span class="comment">gradient:渐变色 UI-拟物化 -扁平化设计</span></span><br><span class="line"><span class="comment">padding: 内间距</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shape</span>=<span class="string">&quot;rectangle&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">stroke</span> <span class="attr">android:color</span>=<span class="string">&quot;@color/colorAccent&quot;</span> <span class="attr">android:width</span>=<span class="string">&quot;1dp&quot;</span> <span class="attr">android:dashWidth</span>=<span class="string">&quot;2dp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;10dp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">solid</span> <span class="attr">android:color</span>=<span class="string">&quot;@color/colorAccent&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">gradient</span> <span class="attr">android:startColor</span>=<span class="string">&quot;#ff0000&quot;</span> <span class="attr">android:centerColor</span>=<span class="string">&quot;#00ff00&quot;</span> <span class="attr">android:endColor</span>=<span class="string">&quot;#0000ff&quot;</span> <span class="attr">android:gradientRadius</span>=<span class="string">&quot;50dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:type</span>=<span class="string">&quot;sweep&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure><p>edit_text_color.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--高亮状态显示的颜色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">&quot;#0000ff&quot;</span> <span class="attr">android:state_focused</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--正常状态显示的颜色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">&quot;#ff0000&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure><p>text_color.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--注意: 配置有先后顺序</span></span><br><span class="line"><span class="comment">    默认的状态放在后面如果放在前面，优先匹配</span></span><br><span class="line"><span class="comment">    一旦匹配上了，后面的设置无效--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--按下状态的颜色 pressed--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">&quot;#ff0000&quot;</span> <span class="attr">android:state_pressed</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--无效 无法点击的颜色 enable--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">&quot;#00ff00&quot;</span> <span class="attr">android:state_enabled</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--默认状态--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:color</span>=<span class="string">&quot;#000000&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure><p>MainActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.android;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="按钮点击事件"><a href="#按钮点击事件" class="headerlink" title="按钮点击事件"></a>按钮点击事件</h4><h5 id="内部类实现"><a href="#内部类实现" class="headerlink" title="内部类实现"></a>内部类实现</h5><p>内部类实现的方法是: 创建一个内部类实现OnClickListener接口并重写onClick()方法，在方法中写入点击事件的逻辑。内部类写完之后需要为按钮设置setOnClickListener(Listener listener)属性，在参数中传入之前创建好的内部类对象即可。使用这种点击事件的好处，当按钮较多时可以在onClick(View v)方法中使用switch语句case属性设置各自不同的点击事件逻辑。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span>(Button)findViewById(R.id.button);</span><br><span class="line">    button.setOnClickListener(<span class="keyword">new</span> <span class="title class_">MyButton</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">MyButton</span> <span class="keyword">implements</span> <span class="title class_">View</span>.OnClickListener&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        Toast.makeText(getApplicationContext(),<span class="string">&quot;已点击按钮&quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="匿名内部类实现"><a href="#匿名内部类实现" class="headerlink" title="匿名内部类实现"></a>匿名内部类实现</h5><pre><code>当按钮较少或者只有一个按钮时，就不需要再单独创建一个类实现OnClickListener接口了，可以直接创建OnClickListener的匿名内部类传入按钮的setOnClickListener()参数中。
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> (Button) findViewById(R.id.button);</span><br><span class="line">    button.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">            Toast.makeText(getApplicationContext(), <span class="string">&quot;已点击按钮&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Activity本身实现事件接口"><a href="#Activity本身实现事件接口" class="headerlink" title="Activity本身实现事件接口"></a>Activity本身实现事件接口</h5><p>除了以上两种方法，还可以在主类中实现该接口，然后重写onClick()方法，这里需要注意的是，button.setOnCLickListener(this);方法中接收了一个参数this，这个this代表的是该Activity的引用。由于Activity实现了OnClickListener接口，所以这里this代表了OnClickListener的引用，在方法中传入this就代表该控件绑定了点击事件的接口。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title class_">View</span>.OnClickListener&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> (Button) findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">            Toast.makeText(getApplicationContext(),<span class="string">&quot;已点击按钮&quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="EditText"><a href="#EditText" class="headerlink" title="EditText"></a>EditText</h3><h4 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h4><table><thead><tr><th>hint</th><th>输入框显示的提示文本</th></tr></thead><tbody><tr><td><strong>textColorHint</strong></td><td><strong>输入框显示的提示文本的颜色</strong></td></tr><tr><td><strong>inputType</strong></td><td><strong>限制用户的输入类型</strong></td></tr><tr><td><strong>capitalize</strong></td><td><strong>英文大写设置</strong></td></tr><tr><td><strong>minLines</strong></td><td><strong>最小行数</strong></td></tr><tr><td><strong>maxLines</strong></td><td><strong>最大行数</strong></td></tr><tr><td><strong>SingleLine</strong></td><td><strong>单行不换行</strong></td></tr></tbody></table><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p><strong>inputType: 限制用户的输入类型</strong></p><p>值如下:</p><table><thead><tr><th><strong>text</strong></th><th>普通字符</th></tr></thead><tbody><tr><td><strong>textCapCharacters</strong></td><td>普通字符</td></tr><tr><td><strong>none</strong></td><td>普通字符</td></tr><tr><td><strong>textCapSentences</strong></td><td>字符串中的第一个字母大写</td></tr><tr><td><strong>textCapWords</strong></td><td>字符串中的每个单词的首字母大写</td></tr><tr><td><strong>textMultiLine</strong></td><td>多行输入</td></tr><tr><td><strong>textImeMultiLine</strong></td><td>输入法多行</td></tr><tr><td><strong>textUri</strong></td><td>格式为: URI</td></tr><tr><td><strong>textShortMessage</strong></td><td>格式为: 短消息</td></tr><tr><td><strong>textShortMessage</strong></td><td>格式为: 长消息</td></tr><tr><td><strong>textEmailAddress</strong></td><td>格式为: 电子邮件地址</td></tr><tr><td><strong>textEmailSubject</strong></td><td>格式为: 邮件主题</td></tr><tr><td><strong>textPostalAddress</strong></td><td>格式为: 邮政</td></tr><tr><td><strong>textPersonName</strong></td><td>格式为: 姓名</td></tr><tr><td><strong>textPassword</strong></td><td>格式为: 不可见密码</td></tr><tr><td><strong>textVisiblePassword</strong></td><td>格式为: 可见密码</td></tr><tr><td><strong>textFilter</strong></td><td>格式为: 文本筛选</td></tr><tr><td><strong>textWebEditText</strong></td><td>格式为: 作为网页表单的文本</td></tr><tr><td><strong>number</strong></td><td>格式为: 数字</td></tr><tr><td><strong>numberSigned</strong></td><td>格式为: 有符号数字</td></tr><tr><td><strong>numberDecimal</strong></td><td>格式为: 浮点数</td></tr><tr><td><strong>textPhonetic</strong></td><td>格式为: 拼音输入</td></tr><tr><td><strong>phone</strong></td><td>键盘为: 拨号</td></tr><tr><td><strong>date或者datetime</strong></td><td>键盘为: 日期</td></tr><tr><td><strong>time</strong></td><td>键盘为: 时间</td></tr><tr><td><strong>textAutoCorrect</strong></td><td>前两个自动完成</td></tr><tr><td><strong>textAutoComplete</strong></td><td>前两个自动完成</td></tr><tr><td><strong>textNoSuggestions</strong></td><td>不进行提示</td></tr></tbody></table><p><strong>capitalize:英文大写设置</strong></p><table><thead><tr><th><strong>sentences</strong></th><th>字符串的第一个字母大写</th></tr></thead><tbody><tr><td><strong>words</strong></td><td>字符串中用空格区分单词，每个单词的首字母大写</td></tr><tr><td><strong>characters</strong></td><td>字符串中每一个英文字母都大写</td></tr></tbody></table><h3 id="RadioButton和RadioGroup"><a href="#RadioButton和RadioGroup" class="headerlink" title="RadioButton和RadioGroup"></a>RadioButton和RadioGroup</h3><h4 id="RadioGroup基本属性"><a href="#RadioGroup基本属性" class="headerlink" title="RadioGroup基本属性"></a>RadioGroup基本属性</h4><p>1）orientation: 排列方式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">若值为horizontal，则为横向，水平排列: </span><br><span class="line"></span><br><span class="line">android:orientation=&quot;horizontal&quot;</span><br><span class="line"></span><br><span class="line">若值为vertical，则为纵向，垂直排列。</span><br><span class="line"></span><br><span class="line">android:orientation=&quot;vertical&quot;</span><br></pre></td></tr></table></figure><p>2）checkedButton: 默认选中</p><p>直接调用已经放入在radiogroup中且已有id的radiobutton即可默认选中此项。　　　　</p><h4 id="RadioButton基本属性"><a href="#RadioButton基本属性" class="headerlink" title="RadioButton基本属性"></a>RadioButton基本属性</h4><p>1）checked: 选中状态</p><p>若为true则默认被选中，false则默认不被选中。</p><p>2）text等相关属性:</p><p>text是按钮的文本内容；</p><p>textSize是文本字体大小；</p><p>textColor是文本字体颜色······</p><p>这些属性和TextView一致。</p><p>3）button: 按钮属性</p><p>若button的值设为”@null”则不显示前面的圆形按钮，只显示文本内容本身</p><p>android:button&#x3D;”@null”</p><h3 id="CheckBox"><a href="#CheckBox" class="headerlink" title="CheckBox"></a>CheckBox</h3><h4 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h4><p><strong>checkbox和radiobutton的属性基本一致。</strong></p><p>1）checked: 是否被默认选中</p><p><strong>android:checked&#x3D;”true”</strong></p><p>2）text等相关属性:</p><p>3）button: 按钮属性</p><p>若button的值设为”@null”则不显示前面的方形按钮，只显示文本内容本身</p><p>**CheckBox和RadioButton区别: **</p><table><thead><tr><th><strong>RadioButton</strong></th><th><strong>CheckBox</strong></th></tr></thead><tbody><tr><td>选中后,通过点击无法变为未选中</td><td>选中后，通过点击可以变为未选中</td></tr><tr><td>只能同时选中一个</td><td>能同时选中多个</td></tr><tr><td>大部分UI框架中，默认圆形表示</td><td>大部分UI框架中，默认方形表示</td></tr></tbody></table><h3 id="ImageView"><a href="#ImageView" class="headerlink" title="ImageView"></a>ImageView</h3><h4 id="属性-4"><a href="#属性-4" class="headerlink" title="属性"></a>属性</h4><table><thead><tr><th align="left">属性名</th><th align="left">关联方法</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">:adjustViewBounds</td><td align="left">setAdjustViewBounds(boolean)</td><td align="left">设置该属性为真可以在ImageView调整边界时保持图片的纵横比例.需要与maxWidth、MaxHeight一起使用，否则单独使用没有效果.</td></tr><tr><td align="left">:baseline</td><td align="left">setBaseline(int)</td><td align="left">视图内基线的偏移量.</td></tr><tr><td align="left">:baselineAlignBottom</td><td align="left">setBaselineAlignBottom(boolean)</td><td align="left">如果为true，将父视图基线与ImageView底部边缘对齐.</td></tr><tr><td align="left">:cropToPadding</td><td align="left">setCropToPadding(boolean)</td><td align="left">如果为真，会剪切图片以适应内边距的大小,与ImageView的paddingXXX和scrollX|Y属性配合使用.</td></tr><tr><td align="left">:maxHeight</td><td align="left">setMaxHeight(int)</td><td align="left">视图最大高度.</td></tr><tr><td align="left">:android:maxWidth</td><td align="left">setMaxWidth(int)</td><td align="left">视图最大宽度.</td></tr><tr><td align="left">:scaleType</td><td align="left">setScaleType(ImageView.ScaleType)</td><td align="left">控制为了使图片适合 ImageView 的大小，应该如何变更图片大小或移动图片.</td></tr><tr><td align="left">:src</td><td align="left">setImageResource(int)</td><td align="left">设置可绘制对象作为 ImageView 显示的内容.</td></tr><tr><td align="left">:tint</td><td align="left">setImageTintList(ColorStateList)</td><td align="left">为图片设置渲染颜色.</td></tr><tr><td align="left">android:tintMode</td><td align="left">setImageTintMode(PorterDuff.Mode)</td><td align="left">图片渲染的混合模式.</td></tr></tbody></table><p>注意:</p><p>scaleType缩放类型设置:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fitXY:对图像的横向与纵向进行独立缩放,使得该图片完全适应ImageView,但是图片的横纵比可能会发生改变</span><br><span class="line">fitStart:保持纵横比缩放图片,知道较长的边与Image的编程相等,缩放完成后将图片放在ImageView的左上角</span><br><span class="line">fitCenter:同上,缩放后放于中间;</span><br><span class="line">fitEnd:同上,缩放后放于右下角;</span><br><span class="line">center:保持原图的大小，显示在ImageView的中心。当原图的size大于ImageView的size，超过部分裁剪处理。</span><br><span class="line">centerCrop:保持横纵比缩放图片,知道完全覆盖ImageView,可能会出现图片的显示不完全</span><br><span class="line">centerInside:保持横纵比缩放图片,直到ImageView能够完全地显示图片</span><br><span class="line">matrix:默认值，不改变原图的大小，从ImageView的左上角开始绘制原图，原图超过ImageView的部分作裁剪处理</span><br></pre></td></tr></table></figure><h4 id="导入网络图片"><a href="#导入网络图片" class="headerlink" title="导入网络图片"></a>导入网络图片</h4><p>在bulid.gradle中添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">repositories</span><br><span class="line">&#123;  </span><br><span class="line">mavenCentral()  </span><br><span class="line">google()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation &#x27;com.github.bumptech.glide:glide:4.11.0&#x27;</span><br><span class="line">    annotationProcessor &#x27;com.github.bumptech.glide:compiler:4.11.0&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Glide.with(this).load(图片地址).into(图片控件);</span><br></pre></td></tr></table></figure><h3 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h3><h4 id="属性-5"><a href="#属性-5" class="headerlink" title="属性"></a>属性</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// transcript模式: 当ListView显示完成之后，新增一条新Item，ListView的处理模式（不显示新Item/自动滚动到新Item）。  </span></span><br><span class="line"><span class="comment">// disabled: 禁用  </span></span><br><span class="line"><span class="comment">// normal: 默认状态，如果当前的最后一个Item在ListView 显示范围内，adapter 数据集内容变化时就从滚动底部；否则不滚动到底部  </span></span><br><span class="line"><span class="comment">// alwaysScroll: 总是滚动到最新一条， 强制从ListView 的底部开始刷新  </span></span><br><span class="line">android:transcriptMode=<span class="string">&quot;alwaysScroll&quot;</span>   </span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置listview的拖动背景色，该处为去掉拖动背景色  </span></span><br><span class="line">android:cacheColorHint=<span class="string">&quot;#00000000&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">// listView的item选中时的颜色。默认为橙黄底色。  </span></span><br><span class="line">android:listSelector=<span class="string">&quot;@color/pink&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 分割线颜色  </span></span><br><span class="line">android:divider=<span class="string">&quot;#cccccc&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 分割线间距  </span></span><br><span class="line">android:dividerHeight=<span class="string">&quot;1dp&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 不显示滚动条  </span></span><br><span class="line">android:scrollbars=<span class="string">&quot;none&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 去掉上边和下边黑色的阴影  </span></span><br><span class="line">android:fadingEdge=<span class="string">&quot;none&quot;</span>   </span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置Item之间无间隙  </span></span><br><span class="line">android:divider=<span class="string">&quot;#00000000&quot;</span>  </span><br><span class="line"><span class="comment">// 设置分割线的图片资源  </span></span><br><span class="line">android:divider=<span class="string">&quot;@drawable/list_driver&quot;</span>   </span><br><span class="line"><span class="comment">// 不想显示分割线  </span></span><br><span class="line">android:divider=<span class="string">&quot;@drawable/@null&quot;</span>   </span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置为true就可以实现滚动条的自动隐藏和显示  </span></span><br><span class="line">android:fadeScrollbars=<span class="string">&quot;true&quot;</span>   </span><br><span class="line">   </span><br><span class="line"><span class="comment">// 加快滑动速度，如果设为true，会在右侧显示快速滚动条  </span></span><br><span class="line">android:fastScrollEnabled=<span class="string">&quot;false&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 点击某一条记录，颜色会显示在最上面，记录上的文字被遮住，所以点击文字不放，文字就看不到  </span></span><br><span class="line">android:drawSelectorOnTop=<span class="string">&quot;true&quot;</span>   </span><br><span class="line"><span class="comment">// 点击某条记录不放，颜色会在记录的后面，成为背景色，但是记录内容的文字是可见的  </span></span><br><span class="line">android:drawSelectorOnTop=<span class="string">&quot;false&quot;</span>   </span><br></pre></td></tr></table></figure><ul><li>需要自定义适配器继承BaseAdapter、重写方法</li></ul><h3 id="GridView"><a href="#GridView" class="headerlink" title="GridView"></a>GridView</h3><h4 id="属性-6"><a href="#属性-6" class="headerlink" title="属性"></a>属性</h4><table><thead><tr><th>android:columnWidth</th><th>每列的宽度</th></tr></thead><tbody><tr><td>android:numColumns&#x3D;”auto_fit”</td><td>列数根据屏幕大小自动适应</td></tr><tr><td>android:verticalSpacing</td><td>垂直方向的间距（行间距）</td></tr><tr><td>android:horizontalSpacing</td><td>水平方向间距（列间距）</td></tr><tr><td>android:stretchMode&#x3D;”columnWidth|spacingWidth”</td><td>表示缩放模式（与列宽大小同步和行宽大小同步）</td></tr><tr><td>android:cacheColorHint&#x3D;”#00000000”</td><td>去除拖动时默认的黑色背景</td></tr><tr><td>android:listSelector&#x3D;”#00000000”</td><td>去除选中时的黄色底色</td></tr><tr><td>android:scrollbars&#x3D;”none”</td><td>隐藏GridView的滚动条</td></tr><tr><td>android:fadeScrollEnabled&#x3D;”true”</td><td>设置为true就可以实现滚动条的自动隐藏和显示</td></tr><tr><td>android:fastScrollEnabled&#x3D;”true”</td><td>GridView出现快速滚动的按钮（至少滚动4页才会显示）</td></tr><tr><td>android:numColumns&#x3D;””</td><td>设置列数</td></tr></tbody></table><ul><li>需要自定义适配器继承BaseAdapter、重写方法</li></ul><h3 id="ScrollView与HorizontalScrollView"><a href="#ScrollView与HorizontalScrollView" class="headerlink" title="ScrollView与HorizontalScrollView"></a>ScrollView与HorizontalScrollView</h3><h4 id="属性-7"><a href="#属性-7" class="headerlink" title="属性"></a>属性</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">android:scrollbars</span><br><span class="line">设置滚动条显示。none（隐藏），horizontal（水平），vertical（垂直）。</span><br><span class="line">android:scrollbarFadeDuration</span><br><span class="line">设置滚动条淡出效果（从有到慢慢的变淡直至消失）时间，以毫秒为单位。Android2.2中滚动条滚动完之后会消失，再滚动又会出来，在1.5、1.6版本里面会一直显示着。</span><br><span class="line">android:scrollbarSize</span><br><span class="line">设置滚动条的宽度。</span><br><span class="line">android:scrollbarStyle</span><br><span class="line">设置滚动条的风格和位置。设置值: insideOverlay、insideInset、outsideOverlay、outsideInset</span><br><span class="line">android:scrollbarThumbHorizontal</span><br><span class="line">设置水平滚动条的drawable。</span><br><span class="line">android:scrollbarThumbVertical</span><br><span class="line">设置垂直滚动条的drawable.</span><br><span class="line">android:scrollbarTrackHorizontal</span><br><span class="line">设置水平滚动条背景（轨迹）的色drawable</span><br><span class="line">android:soundEffectsEnabled</span><br><span class="line">设置点击或触摸时是否有声音效果</span><br></pre></td></tr></table></figure><h3 id="RecyclerView"><a href="#RecyclerView" class="headerlink" title="RecyclerView"></a>RecyclerView</h3><h4 id="RecyclerView-的基本用法"><a href="#RecyclerView-的基本用法" class="headerlink" title="RecyclerView 的基本用法"></a>RecyclerView 的基本用法</h4><p>打开 app&#x2F;build.gradle 文件，在 dependencies 闭包中添加如下内容(会爆红，但没没事)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation &#x27;com.android.support:design:28.0.0&#x27;</span><br></pre></td></tr></table></figure><p>基本操作</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">recyclerView = (RecyclerView) findViewById(R.id.recyclerView);  </span><br><span class="line"><span class="type">LinearLayoutManager</span> <span class="variable">layoutManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinearLayoutManager</span>(<span class="built_in">this</span>);  </span><br><span class="line"><span class="comment">//设置布局管理器  </span></span><br><span class="line">recyclerView.setLayoutManager(layoutManager);  </span><br><span class="line"><span class="comment">//设置为垂直布局，这也是默认的  </span></span><br><span class="line">layoutManager.setOrientation(OrientationHelper.VERTICAL);  </span><br><span class="line"><span class="comment">//设置Adapter  </span></span><br><span class="line">recyclerView.setAdapter(recycleAdapter);  </span><br><span class="line"> <span class="comment">//设置分隔线  </span></span><br><span class="line">recyclerView.addItemDecoration(<span class="keyword">new</span> <span class="title class_">DividerGridItemDecoration</span>(<span class="built_in">this</span>));  </span><br></pre></td></tr></table></figure><p>可以看到对RecylerView的设置过程，比ListView要复杂一些，这也是RecylerView高度解耦的表现，虽然代码抒写上有点复杂，但它的扩展性是极高的。</p><p>在了解了RecyclerView的一些控制之后，紧接着来看看它的Adapter的写法，RecyclerView的Adapter与ListView的Adapter还是有点区别的，RecyclerView.Adapter，需要实现3个方法:</p><p>①onCreateViewHolder()</p><p>这个方法主要生成为每个Item inflater出一个View，但是该方法返回的是一个ViewHolder。该方法把View直接封装在ViewHolder中，然后我们面向的是ViewHolder这个实例，当然这个ViewHolder需要我们自己去编写。直接省去了当初的convertView.setTag(holder)和convertView.getTag()这些繁琐的步骤。</p><p>②onBindViewHolder()</p><p>这个方法主要用于适配渲染数据到View中。方法提供给你了一个viewHolder，而不是原来的convertView。</p><p>③getItemCount()</p><p>这个方法就类似于BaseAdapter的getCount方法了，即总共有多少个条目。</p><p>看这篇文章:<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_39539367/article/details/80338177">https://blog.csdn.net/qq_39539367/article/details/80338177</a></p><h3 id="WebView"><a href="#WebView" class="headerlink" title="WebView"></a>WebView</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p><code>WebView</code>是一个基于 <code>webkit</code>引擎、展现 <code>web</code>页面的控件。</p><blockquote><p>Android的Webview在低版本和高版本采用了不同的webkit版本内核，4.4后直接使用了Chrome。</p></blockquote><hr><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul><li>显示和渲染Web页面</li><li>直接使用html文件（网络上或本地assets中）作布局</li><li>可和JavaScript交互调用</li></ul><blockquote><p>WebView控件功能强大，除了具有一般View的属性和设置外，还可以对url请求、页面加载、渲染、页面交互进行强大的处理。</p></blockquote><hr><h4 id="使用介绍"><a href="#使用介绍" class="headerlink" title="使用介绍"></a>使用介绍</h4><p>一般来说Webview可单独使用，可联合其工具类一起使用，所以接下来，我会介绍:</p><ul><li>Webview类自身的常见方法</li><li>Webview的最常用的工具类: WebSettings类、WebViewClient类、WebChromeClient类</li><li>Android 和 Js的交互</li></ul><h5 id="Webview类常用方法"><a href="#Webview类常用方法" class="headerlink" title="Webview类常用方法"></a>Webview类常用方法</h5><p>加载url</p><p>加载方式根据资源分为三种</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式1. 加载一个网页: </span></span><br><span class="line">webView.loadUrl(<span class="string">&quot;http://www.google.com/&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式2: 加载apk包中的html页面(创建assets文件)</span></span><br><span class="line">webView.loadUrl(<span class="string">&quot;file:///android_asset/test.html&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式3: 加载手机本地的html页面</span></span><br><span class="line">webView.loadUrl(<span class="string">&quot;content://com.android.htmlfileprovider/sdcard/test.html&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式4:  加载 HTML 页面的一小段内容</span></span><br><span class="line">WebView.loadData(String data, String mimeType, String encoding)</span><br><span class="line"><span class="comment">// 参数说明: </span></span><br><span class="line"><span class="comment">// 参数1: 需要截取展示的内容</span></span><br><span class="line"><span class="comment">// 内容里不能出现 ’#’, ‘%’, ‘\’ , ‘?’ 这四个字符，若出现了需用 %23, %25, %27, %3f 对应来替代，否则会出现异常</span></span><br><span class="line"><span class="comment">// 参数2: 展示内容的类型</span></span><br><span class="line"><span class="comment">// 参数3: 字节码</span></span><br></pre></td></tr></table></figure><h5 id="WebView的状态"><a href="#WebView的状态" class="headerlink" title="WebView的状态"></a>WebView的状态</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//激活WebView为活跃状态，能正常执行网页的响应</span><br><span class="line">webView.onResume() ；</span><br><span class="line"></span><br><span class="line">//当页面被失去焦点被切换到后台不可见状态，需要执行onPause</span><br><span class="line">//通过onPause动作通知内核暂停所有的动作，比如DOM的解析、plugin的执行、JavaScript执行。</span><br><span class="line">webView.onPause()；</span><br><span class="line"></span><br><span class="line">//当应用程序(存在webview)被切换到后台时，这个方法不仅仅针对当前的webview而是全局的全应用程序的webview</span><br><span class="line">//它会暂停所有webview的layout，parsing，javascripttimer。降低CPU功耗。</span><br><span class="line">webView.pauseTimers()</span><br><span class="line">//恢复pauseTimers状态</span><br><span class="line">webView.resumeTimers()；</span><br><span class="line"></span><br><span class="line">//销毁Webview</span><br><span class="line">//在关闭了Activity时，如果Webview的音乐或视频，还在播放。就必须销毁Webview</span><br><span class="line">//但是注意: webview调用destory时,webview仍绑定在Activity上</span><br><span class="line">//这是由于自定义webview构建时传入了该Activity的context对象</span><br><span class="line">//因此需要先从父容器中移除webview,然后再销毁webview:</span><br><span class="line">rootLayout.removeView(webView); </span><br><span class="line">webView.destroy();</span><br></pre></td></tr></table></figure><h5 id="关于前进-x2F-后退网页"><a href="#关于前进-x2F-后退网页" class="headerlink" title="关于前进 &#x2F; 后退网页"></a>关于前进 &#x2F; 后退网页</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是否可以后退</span></span><br><span class="line">Webview.canGoBack() </span><br><span class="line"><span class="comment">//后退网页</span></span><br><span class="line">Webview.goBack()</span><br><span class="line"></span><br><span class="line"><span class="comment">//是否可以前进                   </span></span><br><span class="line">Webview.canGoForward()</span><br><span class="line"><span class="comment">//前进网页</span></span><br><span class="line">Webview.goForward()</span><br><span class="line"></span><br><span class="line"><span class="comment">//以当前的index为起始点前进或者后退到历史记录中指定的steps</span></span><br><span class="line"><span class="comment">//如果steps为负数则为后退，正数则为前进</span></span><br><span class="line">Webview.goBackOrForward(intsteps) </span><br></pre></td></tr></table></figure><p>常见用法: Back键控制网页后退</p><ul><li>问题: 在不做任何处理前提下 ，浏览网页时点击系统的”Back”键,整个 Browser 会调用 finish()而结束自身</li><li>目标: 点击返回后，是网页回退而不是推出浏览器</li><li>解决方案: 在当前Activity中处理并消费掉该 Back 事件</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onKeyDown</span><span class="params">(<span class="type">int</span> keyCode, KeyEvent event)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> ((keyCode == KEYCODE_BACK) &amp;&amp; mWebView.canGoBack()) &#123; </span><br><span class="line">        mWebView.goBack();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">super</span>.onKeyDown(keyCode, event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="清除缓存数据"><a href="#清除缓存数据" class="headerlink" title="清除缓存数据"></a>清除缓存数据</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//清除网页访问留下的缓存</span></span><br><span class="line"><span class="comment">//由于内核缓存是全局的因此这个方法不仅仅针对webview而是针对整个应用程序.</span></span><br><span class="line">Webview.clearCache(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//清除当前webview访问的历史记录</span></span><br><span class="line"><span class="comment">//只会webview访问历史记录里的所有记录除了当前访问记录</span></span><br><span class="line">Webview.clearHistory()；</span><br><span class="line"></span><br><span class="line"><span class="comment">//这个api仅仅清除自动完成填充的表单数据，并不会清除WebView存储到本地的数据</span></span><br><span class="line">Webview.clearFormData()；</span><br></pre></td></tr></table></figure><h4 id="常用工具类"><a href="#常用工具类" class="headerlink" title="常用工具类"></a>常用工具类</h4><h5 id="WebSettings类"><a href="#WebSettings类" class="headerlink" title="WebSettings类"></a>WebSettings类</h5><ul><li>作用: 对WebView进行配置和管理</li><li>配置步骤 &amp; 常见方法:</li></ul><p><strong>配置步骤1: 添加访问网络权限</strong>（AndroidManifest.xml）</p><blockquote><p>这是前提！这是前提！这是前提！</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置步骤2: 生成一个WebView组件（有两种方式）</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式1: 直接在在Activity中生成</span></span><br><span class="line"><span class="type">WebView</span> <span class="variable">webView</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WebView</span>(<span class="built_in">this</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法2: 在Activity的layout文件里添加webview控件: </span></span><br><span class="line"><span class="type">WebView</span> <span class="variable">webview</span> <span class="operator">=</span> (WebView) findViewById(R.id.webView1);</span><br></pre></td></tr></table></figure><p><strong>配置步骤3: 进行配置-利用WebSettings子类</strong>（常见方法）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明WebSettings子类</span></span><br><span class="line"><span class="type">WebSettings</span> <span class="variable">webSettings</span> <span class="operator">=</span> webView.getSettings();</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果访问的页面中要与Javascript交互，则webview必须设置支持Javascript</span></span><br><span class="line">webSettings.setJavaScriptEnabled(<span class="literal">true</span>);  </span><br><span class="line"><span class="comment">// 若加载的 html 里有JS 在执行动画等操作，会造成资源浪费（CPU、电量）</span></span><br><span class="line"><span class="comment">// 在 onStop 和 onResume 里分别把 setJavaScriptEnabled() 给设置成 false 和 true 即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//支持插件</span></span><br><span class="line">webSettings.setPluginsEnabled(<span class="literal">true</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">//设置自适应屏幕，两者合用</span></span><br><span class="line">webSettings.setUseWideViewPort(<span class="literal">true</span>); <span class="comment">//将图片调整到适合webview的大小 </span></span><br><span class="line">webSettings.setLoadWithOverviewMode(<span class="literal">true</span>); <span class="comment">// 缩放至屏幕的大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//缩放操作</span></span><br><span class="line">webSettings.setSupportZoom(<span class="literal">true</span>); <span class="comment">//支持缩放，默认为true。是下面那个的前提。</span></span><br><span class="line">webSettings.setBuiltInZoomControls(<span class="literal">true</span>); <span class="comment">//设置内置的缩放控件。若为false，则该WebView不可缩放</span></span><br><span class="line">webSettings.setDisplayZoomControls(<span class="literal">false</span>); <span class="comment">//隐藏原生的缩放控件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//其他细节操作</span></span><br><span class="line">webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK); <span class="comment">//关闭webview中缓存 </span></span><br><span class="line">webSettings.setAllowFileAccess(<span class="literal">true</span>); <span class="comment">//设置可以访问文件 </span></span><br><span class="line">webSettings.setJavaScriptCanOpenWindowsAutomatically(<span class="literal">true</span>); <span class="comment">//支持通过JS打开新窗口 </span></span><br><span class="line">webSettings.setLoadsImagesAutomatically(<span class="literal">true</span>); <span class="comment">//支持自动加载图片</span></span><br><span class="line">webSettings.setDefaultTextEncodingName(<span class="string">&quot;utf-8&quot;</span>);<span class="comment">//设置编码格式</span></span><br></pre></td></tr></table></figure><p><strong>常见用法: 设置WebView缓存</strong></p><ul><li>当加载 html 页面时，WebView会在&#x2F;data&#x2F;data&#x2F;包名目录下生成 database 与 cache 两个文件夹</li><li>请求的 URL记录保存在 WebViewCache.db，而 URL的内容是保存在 WebViewCache 文件夹下</li><li>是否启用缓存:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//优先使用缓存: </span></span><br><span class="line">WebView.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK); </span><br><span class="line"><span class="comment">//缓存模式如下: </span></span><br><span class="line">    <span class="comment">//LOAD_CACHE_ONLY: 不使用网络，只读取本地缓存数据</span></span><br><span class="line">    <span class="comment">//LOAD_DEFAULT: （默认）根据cache-control决定是否从网络上取数据。</span></span><br><span class="line">    <span class="comment">//LOAD_NO_CACHE: 不使用缓存，只从网络获取数据.</span></span><br><span class="line">    <span class="comment">//LOAD_CACHE_ELSE_NETWORK，只要本地有，无论是否过期，或者no-cache，都使用缓存中的数据。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//不使用缓存: </span></span><br><span class="line">WebView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);</span><br></pre></td></tr></table></figure><ul><li>结合使用（离线加载）</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (NetStatusUtil.isConnected(getApplicationContext())) &#123;</span><br><span class="line">    webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);<span class="comment">//根据cache-control决定是否从网络上取数据。</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);<span class="comment">//没网，则从本地获取，即离线加载</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">webSettings.setDomStorageEnabled(<span class="literal">true</span>); <span class="comment">// 开启 DOM storage API 功能</span></span><br><span class="line">webSettings.setDatabaseEnabled(<span class="literal">true</span>);   <span class="comment">//开启 database storage API 功能</span></span><br><span class="line">webSettings.setAppCacheEnabled(<span class="literal">true</span>);<span class="comment">//开启 Application Caches 功能</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">cacheDirPath</span> <span class="operator">=</span> getFilesDir().getAbsolutePath() + APP_CACAHE_DIRNAME;</span><br><span class="line">webSettings.setAppCachePath(cacheDirPath); <span class="comment">//设置  Application Caches 缓存目录</span></span><br></pre></td></tr></table></figure><p>注意:每个 Application 只调用一次 WebSettings.setAppCachePath()，WebSettings.setAppCacheMaxSize()</p><h5 id="WebViewClient类"><a href="#WebViewClient类" class="headerlink" title="WebViewClient类"></a>WebViewClient类</h5><ul><li>作用: 处理各种通知 &amp; 请求事件</li><li>常见方法:</li></ul><p><strong>常见方法1: shouldOverrideUrlLoading()</strong></p><ul><li>作用: 打开网页时不调用系统浏览器， 而是在本WebView中显示；在网页上的所有加载都经过这个方法,这个函数我们可以做很多操作。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//步骤1. 定义Webview组件</span></span><br><span class="line"><span class="type">Webview</span> <span class="variable">webview</span> <span class="operator">=</span> (WebView) findViewById(R.id.webView1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//步骤2. 选择加载方式</span></span><br><span class="line">  <span class="comment">//方式1. 加载一个网页: </span></span><br><span class="line">  webView.loadUrl(<span class="string">&quot;http://www.google.com/&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//方式2: 加载apk包中的html页面</span></span><br><span class="line">  webView.loadUrl(<span class="string">&quot;file:///android_asset/test.html&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//方式3: 加载手机本地的html页面</span></span><br><span class="line">   webView.loadUrl(<span class="string">&quot;content://com.android.htmlfileprovider/sdcard/test.html&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//步骤3. 复写shouldOverrideUrlLoading()方法，使得打开网页时不调用系统浏览器， 而是在本WebView中显示</span></span><br><span class="line">    webView.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>()&#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">shouldOverrideUrlLoading</span><span class="params">(WebView view, String url)</span> &#123;</span><br><span class="line">          view.loadUrl(url);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p><strong>常见方法2: onPageStarted()</strong></p><ul><li>作用: 开始载入页面调用的，我们可以设定一个loading的页面，告诉用户程序在等待网络响应。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  webView.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">onPageStarted</span><span class="params">(WebView view, String url, Bitmap favicon)</span> &#123;</span><br><span class="line">       <span class="comment">//设定加载开始的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>常见方法3: onPageFinished()</strong></p><ul><li>作用: 在页面加载结束时调用。我们可以关闭loading 条，切换程序动作。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  webView.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPageFinished</span><span class="params">(WebView view, String url)</span> &#123;</span><br><span class="line">       <span class="comment">//设定加载结束的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>常见方法4: onLoadResource()</strong></p><ul><li>作用: 在加载页面资源时会调用，每一个资源（比如图片）的加载都会调用一次。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  webView.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onLoadResource</span><span class="params">(WebView view, String url)</span> &#123;</span><br><span class="line">       <span class="comment">//设定加载资源的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>常见方法5: onReceivedError（）</strong></p><ul><li>作用: 加载页面的服务器出现错误时（如404）调用。</li></ul><blockquote><p>App里面使用webview控件的时候遇到了诸如404这类的错误的时候，若也显示浏览器里面的那种错误提示页面就显得很丑陋了，那么这个时候我们的app就需要加载一个本地的错误提示页面，即webview如何加载一个本地的页面</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//步骤1: 写一个html文件（error_handle.html），用于出错时展示给用户看的提示页面</span></span><br><span class="line"><span class="comment">//步骤2: 将该html文件放置到代码根目录的assets文件夹下</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//步骤3: 复写WebViewClient的onRecievedError方法</span></span><br><span class="line"><span class="comment">//该方法传回了错误码，根据错误类型可以进行不同的错误分类处理</span></span><br><span class="line">    webView.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>()&#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onReceivedError</span><span class="params">(WebView view, <span class="type">int</span> errorCode, String description, String failingUrl)</span>&#123;</span><br><span class="line"><span class="keyword">switch</span>(errorCode)</span><br><span class="line">                &#123;</span><br><span class="line">                <span class="keyword">case</span> HttpStatus.SC_NOT_FOUND:</span><br><span class="line">                    view.loadUrl(<span class="string">&quot;file:///android_assets/error_handle.html&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p><strong>常见方法6: onReceivedSslError()</strong></p><ul><li>作用: 处理https请求</li></ul><blockquote><p>webView默认是不处理https请求的，页面显示空白，需要进行如下设置:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">webView.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>() &#123;  </span><br><span class="line">        <span class="meta">@Override</span>  </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onReceivedSslError</span><span class="params">(WebView view, SslErrorHandler handler, SslError error)</span> &#123;  </span><br><span class="line">            handler.proceed();    <span class="comment">//表示等待证书响应</span></span><br><span class="line">        <span class="comment">// handler.cancel();      //表示挂起连接，为默认方式</span></span><br><span class="line">        <span class="comment">// handler.handleMessage(null);    //可做其他处理</span></span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;);  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 特别注意: 5.1以上默认禁止了https和http混用，以下方式是开启</span></span><br><span class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) &#123;</span><br><span class="line">mWebView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="WebChromeClient类"><a href="#WebChromeClient类" class="headerlink" title="WebChromeClient类"></a>WebChromeClient类</h5><ul><li>作用: 辅助 WebView 处理 Javascript 的对话框,网站图标,网站标题等等。</li><li>常见使用:</li></ul><p><strong>常见方法1: onProgressChanged（）</strong></p><ul><li>作用: 获得网页的加载进度并显示</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> <span class="title class_">WebChromeClient</span>()&#123;</span><br><span class="line"></span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onProgressChanged</span><span class="params">(WebView view, <span class="type">int</span> newProgress)</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (newProgress &lt; <span class="number">100</span>) &#123;</span><br><span class="line">              <span class="type">String</span> <span class="variable">progress</span> <span class="operator">=</span> newProgress + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">              progress.setText(progress);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p><strong>常见方法2: onReceivedTitle（）</strong></p><ul><li>作用: 获取Web页中的标题</li></ul><blockquote><p>每个网页的页面都有一个标题，比如<a target="_blank" rel="noopener external nofollow noreferrer" href="https://links.jianshu.com/go?to=http://www.baidu.com">www.baidu.com</a>这个页面的标题即”百度一下，你就知道”，那么如何知道当前webview正在加载的页面的title并进行设置呢？</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> <span class="title class_">WebChromeClient</span>()&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onReceivedTitle</span><span class="params">(WebView view, String title)</span> &#123;</span><br><span class="line">       titleview.setText(title)；</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>常见方法3: onJsAlert（）</strong></p><ul><li>作用: 支持javascript的警告框</li></ul><blockquote><p>一般情况下在 Android 中为 Toast，在文本里面加入\n就可以换行</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> <span class="title class_">WebChromeClient</span>() &#123;</span><br><span class="line">          </span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onJsAlert</span><span class="params">(WebView view, String url, String message, <span class="keyword">final</span> JsResult result)</span>  &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(MainActivity.<span class="built_in">this</span>)</span><br><span class="line">            .setTitle(<span class="string">&quot;JsAlert&quot;</span>)</span><br><span class="line">            .setMessage(message)</span><br><span class="line">            .setPositiveButton(<span class="string">&quot;OK&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialog, <span class="type">int</span> which)</span> &#123;</span><br><span class="line">                    result.confirm();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .setCancelable(<span class="literal">false</span>)</span><br><span class="line">            .show();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p><strong>常见方法4: onJsConfirm（）</strong></p><ul><li>作用: 支持javascript的确认框</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> <span class="title class_">WebChromeClient</span>() &#123;</span><br><span class="line">      </span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onJsConfirm</span><span class="params">(WebView view, String url, String message, <span class="keyword">final</span> JsResult result)</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(MainActivity.<span class="built_in">this</span>)</span><br><span class="line">            .setTitle(<span class="string">&quot;JsConfirm&quot;</span>)</span><br><span class="line">            .setMessage(message)</span><br><span class="line">            .setPositiveButton(<span class="string">&quot;OK&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialog, <span class="type">int</span> which)</span> &#123;</span><br><span class="line">                    result.confirm();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .setNegativeButton(<span class="string">&quot;Cancel&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialog, <span class="type">int</span> which)</span> &#123;</span><br><span class="line">                    result.cancel();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .setCancelable(<span class="literal">false</span>)</span><br><span class="line">            .show();</span><br><span class="line"><span class="comment">// 返回布尔值: 判断点击时确认还是取消</span></span><br><span class="line"><span class="comment">// true表示点击了确认；false表示点击了取消；</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">          </span><br></pre></td></tr></table></figure><p><strong>常见方法5: onJsPrompt（）</strong></p><ul><li>作用: 支持javascript输入框</li></ul><blockquote><p>点击确认返回输入框中的值，点击取消返回 null。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">webview.setWebChromeClient(<span class="keyword">new</span> <span class="title class_">WebChromeClient</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onJsPrompt</span><span class="params">(WebView view, String url, String message, String defaultValue, <span class="keyword">final</span> JsPromptResult result)</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">EditText</span> <span class="variable">et</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EditText</span>(MainActivity.<span class="built_in">this</span>);</span><br><span class="line">    et.setText(defaultValue);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">AlertDialog</span>.Builder(MainActivity.<span class="built_in">this</span>)</span><br><span class="line">            .setTitle(message)</span><br><span class="line">            .setView(et)</span><br><span class="line">            .setPositiveButton(<span class="string">&quot;OK&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialog, <span class="type">int</span> which)</span> &#123;</span><br><span class="line">                    result.confirm(et.getText().toString());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .setNegativeButton(<span class="string">&quot;Cancel&quot;</span>, <span class="keyword">new</span> <span class="title class_">DialogInterface</span>.OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(DialogInterface dialog, <span class="type">int</span> which)</span> &#123;</span><br><span class="line">                    result.cancel();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .setCancelable(<span class="literal">false</span>)</span><br><span class="line">            .show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">          </span><br></pre></td></tr></table></figure><h4 id="WebView与JavaScript的交互"><a href="#WebView与JavaScript的交互" class="headerlink" title="WebView与JavaScript的交互"></a>WebView与JavaScript的交互</h4><p>具体请看我写的文章: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/345f4d8a5cfa">最全面 &amp; 最详细的 Android WebView与JS的交互方式 汇总</a></p><h5 id="注意事项-如何避免WebView内存泄露？"><a href="#注意事项-如何避免WebView内存泄露？" class="headerlink" title="注意事项: 如何避免WebView内存泄露？"></a>注意事项: 如何避免WebView内存泄露？</h5><p>不在xml中定义 Webview ，而是在需要的时候在Activity中创建，并且Context使用 getApplicationgContext()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LinearLayout.<span class="type">LayoutParams</span> <span class="variable">params</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinearLayout</span>.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);</span><br><span class="line">mWebView = <span class="keyword">new</span> <span class="title class_">WebView</span>(getApplicationContext());</span><br><span class="line">mWebView.setLayoutParams(params);</span><br><span class="line">mLayout.addView(mWebView);</span><br></pre></td></tr></table></figure><p>在 Activity 销毁（ WebView ）的时候，先让 WebView 加载null内容，然后移除 WebView，再销毁 WebView，最后置空。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onDestroy</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (mWebView != <span class="literal">null</span>) &#123;</span><br><span class="line">        mWebView.loadDataWithBaseURL(<span class="literal">null</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;text/html&quot;</span>, <span class="string">&quot;utf-8&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        mWebView.clearHistory();</span><br><span class="line"></span><br><span class="line">        ((ViewGroup) mWebView.getParent()).removeView(mWebView);</span><br><span class="line">        mWebView.destroy();</span><br><span class="line">        mWebView = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">super</span>.onDestroy();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h5 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h5><ul><li>目标: 实现显示”<a target="_blank" rel="noopener external nofollow noreferrer" href="https://links.jianshu.com/go?to=http://www.baidu.com">www.baidu.com</a>“、获取其标题、提示加载开始 &amp; 结束和获取加载进度</li><li>具体实现:</li></ul><p>步骤1: 添加访问网络权限</p><blockquote><p>这是前提！这是前提！这是前提！</p></blockquote><p><em>AndroidManifest.xml</em></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>步骤2: 主布局<br><em>activity_main.xml</em></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingBottom</span>=<span class="string">&quot;@dimen/activity_vertical_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingLeft</span>=<span class="string">&quot;@dimen/activity_horizontal_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingRight</span>=<span class="string">&quot;@dimen/activity_horizontal_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingTop</span>=<span class="string">&quot;@dimen/activity_vertical_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;com.example.carson_ho.webview_demo.MainActivity&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 获取网站的标题--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/title&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--开始加载提示--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/text_beginLoading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_below</span>=<span class="string">&quot;@+id/title&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--获取加载进度--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_below</span>=<span class="string">&quot;@+id/text_beginLoading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/text_Loading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--结束加载提示--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_below</span>=<span class="string">&quot;@+id/text_Loading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/text_endLoading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!--显示网页区域--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">WebView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/webView1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_below</span>=<span class="string">&quot;@+id/text_endLoading&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;fill_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;fill_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;10dp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>步骤3: 根据需要实现的功能从而使用相应的子类及其方法（注释很清楚了）</strong><br><em>MainActivity.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.carson_ho.webview_demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.graphics.Bitmap;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.view.KeyEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.webkit.WebChromeClient;</span><br><span class="line"><span class="keyword">import</span> android.webkit.WebSettings;</span><br><span class="line"><span class="keyword">import</span> android.webkit.WebView;</span><br><span class="line"><span class="keyword">import</span> android.webkit.WebViewClient;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> &#123;</span><br><span class="line">    WebView mWebview;</span><br><span class="line">    WebSettings mWebSettings;</span><br><span class="line">    TextView beginLoading,endLoading,loading,mtitle;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        mWebview = (WebView) findViewById(R.id.webView1);</span><br><span class="line">        beginLoading = (TextView) findViewById(R.id.text_beginLoading);</span><br><span class="line">        endLoading = (TextView) findViewById(R.id.text_endLoading);</span><br><span class="line">        loading = (TextView) findViewById(R.id.text_Loading);</span><br><span class="line">        mtitle = (TextView) findViewById(R.id.title);</span><br><span class="line"></span><br><span class="line">        mWebSettings = mWebview.getSettings();</span><br><span class="line"></span><br><span class="line">        mWebview.loadUrl(<span class="string">&quot;http://www.baidu.com/&quot;</span>);</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">        <span class="comment">//设置不用系统浏览器打开,直接显示在当前Webview</span></span><br><span class="line">        mWebview.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">shouldOverrideUrlLoading</span><span class="params">(WebView view, String url)</span> &#123;</span><br><span class="line">                view.loadUrl(url);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置WebChromeClient类</span></span><br><span class="line">        mWebview.setWebChromeClient(<span class="keyword">new</span> <span class="title class_">WebChromeClient</span>() &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取网站标题</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onReceivedTitle</span><span class="params">(WebView view, String title)</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;标题在这里&quot;</span>);</span><br><span class="line">                mtitle.setText(title);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取加载进度</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onProgressChanged</span><span class="params">(WebView view, <span class="type">int</span> newProgress)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (newProgress &lt; <span class="number">100</span>) &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">progress</span> <span class="operator">=</span> newProgress + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">                    loading.setText(progress);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newProgress == <span class="number">100</span>) &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">progress</span> <span class="operator">=</span> newProgress + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">                    loading.setText(progress);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置WebViewClient类</span></span><br><span class="line">        mWebview.setWebViewClient(<span class="keyword">new</span> <span class="title class_">WebViewClient</span>() &#123;</span><br><span class="line">            <span class="comment">//设置加载前的函数</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPageStarted</span><span class="params">(WebView view, String url, Bitmap favicon)</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;开始加载了&quot;</span>);</span><br><span class="line">                beginLoading.setText(<span class="string">&quot;开始加载了&quot;</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//设置结束加载函数</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPageFinished</span><span class="params">(WebView view, String url)</span> &#123;</span><br><span class="line">                endLoading.setText(<span class="string">&quot;结束加载了&quot;</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//点击返回上一页面而不是退出浏览器</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onKeyDown</span><span class="params">(<span class="type">int</span> keyCode, KeyEvent event)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; mWebview.canGoBack()) &#123;</span><br><span class="line">            mWebview.goBack();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.onKeyDown(keyCode, event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//销毁Webview</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onDestroy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (mWebview != <span class="literal">null</span>) &#123;</span><br><span class="line">            mWebview.loadDataWithBaseURL(<span class="literal">null</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;text/html&quot;</span>, <span class="string">&quot;utf-8&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">            mWebview.clearHistory();</span><br><span class="line"></span><br><span class="line">            ((ViewGroup) mWebview.getParent()).removeView(mWebview);</span><br><span class="line">            mWebview.destroy();</span><br><span class="line">            mWebview = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">super</span>.onDestroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="Demo地址"><a href="#Demo地址" class="headerlink" title="Demo地址"></a>Demo地址</h6><p>源代码: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://links.jianshu.com/go?to=https://github.com/Carson-Ho/Webview_Cache">Carson_Ho的Github-WebviewDemo</a></p><hr><h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><ul><li>本文全面介绍了 <code>Webview</code>，总结如下</li></ul><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/944365-6e249d5a3cc7d343.png">https://upload-images.jianshu.io/upload_images/944365-6e249d5a3cc7d343.png</a></p><pre><code>示意图
</code></pre><p>链接: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/3c94ae673e2a">https://www.jianshu.com/p/3c94ae673e2a</a></p><h3 id="Toast"><a href="#Toast" class="headerlink" title="Toast"></a>Toast</h3><p>使用Toast来显示消息提示框非常简单，只需要一下三个步骤:</p><p>创建一个Toast对象。通常有两种方法: 一种是使用构造方式进行创建；</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Toast toast=new Toast(this);</span><br></pre></td></tr></table></figure><p>另一种是调用Toast类的makeText()方法创建。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Toast toast=Toast.makeText(this,&quot;要显示的内容&quot;,Toast.LENGTH_SHORT);</span><br></pre></td></tr></table></figure><p>调用Toast类提供的方法来设置该消息提示框的对齐方式、页边距、显示的内容等等。</p><p>常用的方法如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用于设置消息提示框持续的时间，参数通常使用Toast.LENGTH_LONG或Toast.LENGTH_SHORT</span></span><br><span class="line">setDuration(<span class="type">int</span> duration) </span><br><span class="line"></span><br><span class="line"><span class="comment">//用于设置消息提示框的位置，参数grivaty用于指定对齐方式: xOffset和yOffset用于指定具体的偏移值</span></span><br><span class="line">setGravity(<span class="type">int</span> gravity,<span class="type">int</span> xOffset,<span class="type">int</span> yOffset) </span><br><span class="line"></span><br><span class="line"><span class="comment">//用于设置消息提示的页边距</span></span><br><span class="line">setMargin(<span class="type">float</span> horizontalMargin,<span class="type">float</span> verticalMargin) </span><br><span class="line"></span><br><span class="line"><span class="comment">//用于设置要显示的文本内容</span></span><br><span class="line">setText(CharSequence s) </span><br><span class="line"></span><br><span class="line"><span class="comment">//用于设置将要在提示框中显示的视图</span></span><br><span class="line">setView(View view) </span><br></pre></td></tr></table></figure><h3 id="AlertDialog"><a href="#AlertDialog" class="headerlink" title="AlertDialog"></a>AlertDialog</h3><h4 id="AlertDialog的六种实现方式"><a href="#AlertDialog的六种实现方式" class="headerlink" title="AlertDialog的六种实现方式"></a>AlertDialog的六种实现方式</h4><p>1、创建AlertDialog.Builder对象</p><p>2、调用Builder对象的setTitle方法设置标题，setIcon方法设置图标</p><p>3、调用Builder相关方法如setMessage方法、setItems方法、setSingleChoiceItems方法、setMultiChoiceItems方法、setAdapter方法、setView方法设置不同类型的对话框内容。</p><p>4、调用setPositiveButton、setNegativeButton、setNeutralButton设置多个按钮</p><p>5、调用Builder对象的create()方法创建AlertDialog对象</p><p>6、调用AlertDialog对象的show()方法将对话框显示出来</p><h5 id="创建AlertDialog-Builder对象"><a href="#创建AlertDialog-Builder对象" class="headerlink" title="创建AlertDialog.Builder对象"></a>创建AlertDialog.Builder对象</h5><blockquote><p>import android.support.v7.app.AppCompatActivity;</p><p>import android.support.v7.app.ApplyDialog;</p></blockquote><p>实例化对象的方法:</p><p>AlertDialog.Builder builder &#x3D;newAlertDialog.Builder(this);&#x2F;&#x2F;实例化</p><h5 id="调用Builder对象的setTitle方法设置标题，setIcon方法设置图标"><a href="#调用Builder对象的setTitle方法设置标题，setIcon方法设置图标" class="headerlink" title="调用Builder对象的setTitle方法设置标题，setIcon方法设置图标"></a>调用Builder对象的setTitle方法设置标题，setIcon方法设置图标</h5><blockquote><p>builder.setTitle(“Material Design Dialog”);</p><p>builder.setIcon(R.mipmap.ic_launcher);</p></blockquote><h5 id="调用Builder不同方法设置不同类型的对话框内容。"><a href="#调用Builder不同方法设置不同类型的对话框内容。" class="headerlink" title="调用Builder不同方法设置不同类型的对话框内容。"></a>调用Builder不同方法设置不同类型的对话框内容。</h5><p>1.setMessage() 设置对话框内容为简单文本内容</p><blockquote><p>builder.setMessage(“Hello World”);</p></blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/9724079-98e8da21451f7a88.png">https://upload-images.jianshu.io/upload_images/9724079-98e8da21451f7a88.png</a></p><p>简单文本弹窗</p><p><strong>2.setItems() 设置文本框内容为简单列表项</strong></p><blockquote><p>finalString [] Items &#x3D; {“google”,”twitter”,”line”,”QQ”,”weixin”};</p><p>builder.setItems(Items, null);</p></blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/9724079-e5e61ba0aa6ccdb6.png">https://upload-images.jianshu.io/upload_images/9724079-e5e61ba0aa6ccdb6.png</a></p><p>简单列表项弹窗</p><p><strong>3.setSingleChoiceItems() 设置对话框内容为单选列表项</strong></p><blockquote><p>finalString [] Items &#x3D; {“google”,”twitter”,”line”,”QQ”,”weixin”};</p><p>builder.setSingleChoiceItems(Items, 0,null); &#x2F;&#x2F;0 为默认选中哪个</p></blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/9724079-27a69dc9adfa9cba.png">https://upload-images.jianshu.io/upload_images/9724079-27a69dc9adfa9cba.png</a></p><p>单选列表项弹窗</p><p><strong>4.setMultiChoiceItems() 设置对话框内容为多选项列表</strong></p><blockquote><p>finalString [] Items &#x3D; {“google”,”twitter”,”line”,”QQ”,”weixin”};</p><p>builder.setMultiChoiceItems(Items, new boolean[]{true, false, false, false, false},null); &#x2F;&#x2F;设置一个数组代表是否勾选</p></blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/9724079-6838f7c6c7d7eb0d.png">https://upload-images.jianshu.io/upload_images/9724079-6838f7c6c7d7eb0d.png</a></p><p>多选列表项弹窗</p><p><strong>5.setAdapter() 设置对话框内容为自定义列表项</strong></p><blockquote><p>finalString [] Items &#x3D; {“google”,”twitter”,”line”,”QQ”,”weixin”};</p><p>builder.setAdapter(newArrayAdapter(MainActivity.this,android.R.layout.activity_list_item,android.R.id.text1,Items),null);&#x2F;&#x2F;此处涉及到系统自带布局和自定义布局，以后详述，此处使用系统自带布局activity_list_item为一个列表布局）</p></blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/9724079-0215d85ceea3059a.png">https://upload-images.jianshu.io/upload_images/9724079-0215d85ceea3059a.png</a></p><p>自定义列表项弹窗</p><p><strong>6.setView() 设置对话框为自定义View</strong></p><blockquote><p>Viewview &#x3D;View.inflate(MainActivity.this,R.layout.login,null);</p><p>builder.setView(view);</p></blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/9724079-662b1a888760dd8c.png">https://upload-images.jianshu.io/upload_images/9724079-662b1a888760dd8c.png</a></p><p>自定义View弹窗</p><h5 id="调用setPositiveButton、setNegativeButton、setNeutralButton设置多个按钮"><a href="#调用setPositiveButton、setNegativeButton、setNeutralButton设置多个按钮" class="headerlink" title="调用setPositiveButton、setNegativeButton、setNeutralButton设置多个按钮"></a>调用setPositiveButton、setNegativeButton、setNeutralButton设置多个按钮</h5><p>三个按钮跟普通按钮没有什么区别，只是名字有不同，从上到下分别代表确定，否定，和中立</p><blockquote><p>builder.setPositiveButton(“确定”, null);</p><p>builder.setNegativeButton(“取消”, null);</p><p>builder.setNeutralButton(“跳过”,null);</p></blockquote><h5 id="调用Builder对象的create-方法创建AlertDialog对象"><a href="#调用Builder对象的create-方法创建AlertDialog对象" class="headerlink" title="调用Builder对象的create()方法创建AlertDialog对象"></a>调用Builder对象的create()方法创建AlertDialog对象</h5><blockquote><p>builder.create();</p></blockquote><h5 id="调用AlertDialog对象的show-方法将对话框显示出来"><a href="#调用AlertDialog对象的show-方法将对话框显示出来" class="headerlink" title="调用AlertDialog对象的show()方法将对话框显示出来"></a>调用AlertDialog对象的show()方法将对话框显示出来</h5><blockquote><p>builder.show();</p></blockquote><p>链接: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/d3874b8e3ee5">https://www.jianshu.com/p/d3874b8e3ee5</a></p><h3 id="ProgressBar与ProgressDialog"><a href="#ProgressBar与ProgressDialog" class="headerlink" title="ProgressBar与ProgressDialog"></a>ProgressBar与ProgressDialog</h3><h4 id="ProgressBar"><a href="#ProgressBar" class="headerlink" title="ProgressBar"></a>ProgressBar</h4><p>ProgressBar是Android下的进度条，也是为数不多的直接继承于View类的控件,直接子类有AbsSeekBar和ContentLoadingProgressBar，其中AbsSeekBar的子类有SeekBar和RatingBar</p><h5 id="ProgressBar的使用注意"><a href="#ProgressBar的使用注意" class="headerlink" title="ProgressBar的使用注意:"></a>ProgressBar的使用注意:</h5><ul><li>1、ProgressBar有两个进度，一个是android:progress，另一个是android:secondaryProgress。后者主要是为缓存需要所涉及的，比如在看网络视频时候都会有一个缓存的进度条以及还要一个播放的进度，在这里缓存的进度就可以是android:secondaryProgress，而播放进度就是android:progress。</li><li>2、ProgressBar分为确定的和不确定的，上面说的播放进度、缓存等就是确定的。相反地，不确定的就是不清楚、不确定一个操作需要多长时间来完成，这个时候就需要用的不确定的ProgressBar了。这个是由属性android:indeterminate来控制的，如果设置为true的话，那么ProgressBar就可能是圆形的滚动条或者水平的滚动条（由样式决定）。默认情况下，如果是水平进度条，那么就是确定的。</li><li>3、ProgressBar的样式设定其实有两种方式，在API文档中说明的方式如下:<ul><li>Widget.ProgressBar.Horizontal</li><li>Widget.ProgressBar.Small</li><li>Widget.ProgressBar.Large</li><li>Widget.ProgressBar.Inverse</li><li>Widget.ProgressBar.Small.Inverse</li><li>Widget.ProgressBar.Large.Inverse</li></ul></li></ul><p>使用的时候可以这样: style&#x3D;”@android:style&#x2F;Widget.ProgressBar.Small”。另外还有一种方式就是使用系统的attr，上面的方式是系统的style:</p><ul><li>style&#x3D;”?android:attr&#x2F;progressBarStyle”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleHorizontal”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleInverse”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleLarge”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleLargeInverse”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleSmall”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleSmallInverse”</li><li>style&#x3D;”?android:attr&#x2F;progressBarStyleSmallTitle”</li></ul><h5 id="ProgressBar几种比较常用的属性"><a href="#ProgressBar几种比较常用的属性" class="headerlink" title="ProgressBar几种比较常用的属性:"></a>ProgressBar几种比较常用的属性:</h5><p>布局中设置:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">android:progress=<span class="string">&quot;50&quot;</span>——第一显示进度</span><br><span class="line">android:secondaryProgress=<span class="string">&quot;80&quot;</span>——第二显示进度</span><br><span class="line">android:indeterminate=<span class="string">&quot;true&quot;</span>——设置是否精确显示，<span class="literal">true</span>表示不精确显示进度，<span class="literal">false</span>表示精确显示进度</span><br></pre></td></tr></table></figure><p>使用Java代码设置:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setProgress(<span class="type">int</span>) <span class="comment">//设置第一进度</span></span><br><span class="line">setSecondaryProgress(<span class="type">int</span>) <span class="comment">//设置第二进度</span></span><br><span class="line">getProgress() <span class="comment">//获取第一进度</span></span><br><span class="line">getSecondaryProgress() <span class="comment">//获取第二进度</span></span><br><span class="line">incrementProgressBy(<span class="type">int</span>) <span class="comment">//增加或减少第一进度</span></span><br><span class="line">incrementSecondaryProgressBy(<span class="type">int</span>) <span class="comment">//增加或减少第二进度</span></span><br><span class="line">getMax() <span class="comment">//获取最大进度</span></span><br></pre></td></tr></table></figure><h5 id="ProgressBar常见的几种样式"><a href="#ProgressBar常见的几种样式" class="headerlink" title="ProgressBar常见的几种样式"></a>ProgressBar常见的几种样式</h5><ul><li>横向progressBarStyleHorizontal</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="type">ProgressBar</span></span><br><span class="line">        style<span class="operator">=</span><span class="string">&quot;?android:attr/progressBarStyleHorizontal&quot;</span></span><br><span class="line">        android:layout_width<span class="operator">=</span><span class="string">&quot;240dp&quot;</span></span><br><span class="line">        android:layout_height<span class="operator">=</span><span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_gravity<span class="operator">=</span><span class="string">&quot;center_horizontal&quot;</span></span><br><span class="line">        android:layout_marginTop<span class="operator">=</span><span class="string">&quot;10dp&quot;</span></span><br><span class="line">        android:max<span class="operator">=</span><span class="string">&quot;100&quot;</span></span><br><span class="line">        android:progress<span class="operator">=</span><span class="string">&quot;50&quot;</span> <span class="operator">/&gt;</span></span><br></pre></td></tr></table></figure><p>效果图:</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/8077710-64c9683e319a801a.png">https://upload-images.jianshu.io/upload_images/8077710-64c9683e319a801a.png</a></p><ul><li>横向Widget.ProgressBar.Horizontal</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="type">ProgressBar</span></span><br><span class="line">        style<span class="operator">=</span><span class="string">&quot;@android:style/Widget.ProgressBar.Horizontal&quot;</span></span><br><span class="line">        android:layout_width<span class="operator">=</span><span class="string">&quot;240dp&quot;</span></span><br><span class="line">        android:layout_height<span class="operator">=</span><span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_gravity<span class="operator">=</span><span class="string">&quot;center_horizontal&quot;</span></span><br><span class="line">        android:layout_marginTop<span class="operator">=</span><span class="string">&quot;10dp&quot;</span></span><br><span class="line">        android:max<span class="operator">=</span><span class="string">&quot;100&quot;</span></span><br><span class="line">        android:progress<span class="operator">=</span><span class="string">&quot;50&quot;</span> <span class="operator">/&gt;</span></span><br></pre></td></tr></table></figure><p>效果图:</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/8077710-7e11fecb254949e5.png">https://upload-images.jianshu.io/upload_images/8077710-7e11fecb254949e5.png</a></p><ul><li>圆形:progressBarStyleLarge</li></ul><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">        android:layout_gravity=<span class="string">&quot;center_horizontal&quot;</span></span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;10dp&quot;</span></span><br><span class="line">        android:<span class="type">id</span>=<span class="string">&quot;@+id/progressBar1&quot;</span></span><br><span class="line">        style=<span class="string">&quot;?android:attr/progressBarStyleLarge&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">         /&gt;</span><br></pre></td></tr></table></figure><p>效果图:</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/8077710-85316f164892ab66.png">https://upload-images.jianshu.io/upload_images/8077710-85316f164892ab66.png</a></p><ul><li>圆形:普通</li></ul><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">       android:layout_marginTop=<span class="string">&quot;10dp&quot;</span></span><br><span class="line">       android:<span class="type">id</span>=<span class="string">&quot;@+id/progressBar2&quot;</span></span><br><span class="line">       android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">       android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        /&gt;</span><br></pre></td></tr></table></figure><p>效果图:</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/8077710-99788da628dd73d9.png">https://upload-images.jianshu.io/upload_images/8077710-99788da628dd73d9.png</a></p><ul><li>圆形:progressBarStyleSmall</li></ul><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">        android:layout_marginTop=<span class="string">&quot;10dp&quot;</span></span><br><span class="line">        android:layout_gravity=<span class="string">&quot;center_horizontal&quot;</span></span><br><span class="line">        android:<span class="type">id</span>=<span class="string">&quot;@+id/progressBar3&quot;</span></span><br><span class="line">        style=<span class="string">&quot;?android:attr/progressBarStyleSmall&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">         /&gt;</span><br></pre></td></tr></table></figure><p>效果图:</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/8077710-15f5cdfbcb9bd6f0.png">https://upload-images.jianshu.io/upload_images/8077710-15f5cdfbcb9bd6f0.png</a></p><h6 id="自定义进度条修改进度的颜色"><a href="#自定义进度条修改进度的颜色" class="headerlink" title="自定义进度条修改进度的颜色"></a>自定义进度条修改进度的颜色</h6><p>在布局文件中的style属性就是设置进度条样式的</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">&quot;?android:attr/progressBarStyleHorizontal&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>实际上面的背景文件是位于@android:style&#x2F;Widget.ProgressBar.Horizontal，既上面的布局可以写成</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">&quot;@android:style/Widget.ProgressBar.Horizontal&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>查看系统中的水平进度条风格文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;Widget.ProgressBar.Horizontal&quot;</span>&gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;indeterminateOnly&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;progressDrawable&quot;</span>&gt;</span>@drawable/progress_horizontal<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;indeterminateDrawable&quot;</span>&gt;</span>@drawable/progress_indeterminate_horizontal<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;minHeight&quot;</span>&gt;</span>20dip<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;maxHeight&quot;</span>&gt;</span>20dip<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;mirrorForRtl&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上面的android:progressDrawable属性是设置进度条背景，进入查看</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Copyright (C) 2008 The Android Open Source Project</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span><br><span class="line"><span class="comment">     you may not use this file except in compliance with the License.</span></span><br><span class="line"><span class="comment">     You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">          http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment">     distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment">     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment">     See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment">     limitations under the License.</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/background&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;5dip&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">&quot;#ff9d9e9d&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">&quot;#ff5a5d5a&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">&quot;#ff747674&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/secondaryProgress&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;5dip&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:startColor</span>=<span class="string">&quot;#80ffd300&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:centerColor</span>=<span class="string">&quot;#80ffb600&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:endColor</span>=<span class="string">&quot;#a0ffcb00&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">                /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/progress&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;5dip&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:startColor</span>=<span class="string">&quot;#ffffd300&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:centerColor</span>=<span class="string">&quot;#ffffb600&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:endColor</span>=<span class="string">&quot;#ffffcb00&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">                /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>可以看到，上面文件中的3个item标签分别是设置: 进度条、第二进度条、第一进度条的背景色。这里我们在drawable文件夹下新建一个pb_pd_sp_blog.xml文件，将上面的代码复制进来，并修改背景色。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 进度条背景色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/background&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;5dip&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:startColor</span>=<span class="string">&quot;#ff9d9e9d&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:centerColor</span>=<span class="string">&quot;#ff5a5d5a&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:endColor</span>=<span class="string">&quot;#ff747674&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">                /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 第二进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/secondaryProgress&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;5dip&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">&quot;#b9a4ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">&quot;#c6b7ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">&quot;#c3b2ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 第二进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/progress&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;5dip&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">&quot;#57e8ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">&quot;#74ebff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">&quot;#8eefff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>https:&#x2F;&#x2F;&#x2F;&#x2F;upload-images.jianshu.io&#x2F;upload_images&#x2F;8077710-577bc82764f7413e.png</p><h6 id="自定义进度条多种属性"><a href="#自定义进度条多种属性" class="headerlink" title="自定义进度条多种属性"></a>自定义进度条多种属性</h6><p>我们不但可以修改进度的颜色,也可以修改其他属性我们可以自定义实现如下效果<br>布局中的属性设置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="type">ProgressBar</span></span><br><span class="line">        style<span class="operator">=</span><span class="string">&quot;@android:style/Widget.ProgressBar.Horizontal&quot;</span></span><br><span class="line">        android:layout_width<span class="operator">=</span><span class="string">&quot;240dp&quot;</span></span><br><span class="line">        android:layout_height<span class="operator">=</span><span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">        android:layout_gravity<span class="operator">=</span><span class="string">&quot;center_horizontal&quot;</span></span><br><span class="line">        android:layout_marginTop<span class="operator">=</span><span class="string">&quot;10dp&quot;</span></span><br><span class="line">        android:max<span class="operator">=</span><span class="string">&quot;100&quot;</span></span><br><span class="line">        android:progress<span class="operator">=</span><span class="string">&quot;100&quot;</span></span><br><span class="line">        android:maxHeight<span class="operator">=</span><span class="string">&quot;12dp&quot;</span></span><br><span class="line">        android:minHeight<span class="operator">=</span><span class="string">&quot;12dp&quot;</span></span><br><span class="line">        android:progressDrawable<span class="operator">=</span><span class="string">&quot;@drawable/pb_pd_sp_download&quot;</span> <span class="operator">/&gt;</span></span><br></pre></td></tr></table></figure><p>drawable文件夹下的pb_pd_sp_downloadxml定义</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 进度条背景色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/background&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;6dp&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">solid</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:color</span>=<span class="string">&quot;@color/c_ffffff&quot;</span></span></span><br><span class="line"><span class="tag">                /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">size</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:height</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">                /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">stroke</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:width</span>=<span class="string">&quot;2dp&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:color</span>=<span class="string">&quot;@color/c_c4e9ff&quot;</span></span></span><br><span class="line"><span class="tag">                /&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- &lt;gradient</span></span><br><span class="line"><span class="comment">                android:startColor=&quot;#ff9d9e9d&quot;</span></span><br><span class="line"><span class="comment">                android:centerColor=&quot;#ff5a5d5a&quot;</span></span><br><span class="line"><span class="comment">                android:centerY=&quot;0.75&quot;</span></span><br><span class="line"><span class="comment">                android:endColor=&quot;#ff747674&quot;</span></span><br><span class="line"><span class="comment">                android:angle=&quot;270&quot;</span></span><br><span class="line"><span class="comment">                /&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 第二进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/secondaryProgress&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;6dp&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">&quot;#b9a4ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">&quot;#c6b7ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerY</span>=<span class="string">&quot;0.75&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">&quot;#c3b2ff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">&quot;270&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">size</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:height</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 第一进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">&quot;@android:id/progress&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">&quot;6dp&quot;</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;solid</span></span><br><span class="line"><span class="comment">                    android:color=&quot;@color/c_0061dd&quot;</span></span><br><span class="line"><span class="comment">                    /&gt;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">&quot;@color/c_5cacff&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">&quot;@color/c_0061dd&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">&quot;@color/c_0061dd&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">&quot;45&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">size</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:height</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">stroke</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:width</span>=<span class="string">&quot;2dp&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:color</span>=<span class="string">&quot;@android:color/transparent&quot;</span></span></span><br><span class="line"><span class="tag">                    /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;gradient</span></span><br><span class="line"><span class="comment">                    android:startColor=&quot;#57e8ff&quot;</span></span><br><span class="line"><span class="comment">                    android:centerColor=&quot;#74ebff&quot;</span></span><br><span class="line"><span class="comment">                    android:centerY=&quot;0.75&quot;</span></span><br><span class="line"><span class="comment">                    android:endColor=&quot;#8eefff&quot;</span></span><br><span class="line"><span class="comment">                    android:angle=&quot;270&quot;</span></span><br><span class="line"><span class="comment">                    /&gt;--&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果图:</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/8077710-e7863485c7666ac9.png">https://upload-images.jianshu.io/upload_images/8077710-e7863485c7666ac9.png</a><br>链接: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/f613571addb5">https://www.jianshu.com/p/f613571addb5</a></p><h4 id="ProgressDialog"><a href="#ProgressDialog" class="headerlink" title="ProgressDialog"></a>ProgressDialog</h4><p>ProgressDialog的创建方式有两种，一种是new ProgressDialog，一种是调用ProgressDialog的静态方法show()创建并显示，这种进度条只能是圆形条。</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://upload-images.jianshu.io/upload_images/11881598-4513061544a34ed3.png">https://upload-images.jianshu.io/upload_images/11881598-4513061544a34ed3.png</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ProgressDialog</span> <span class="variable">dialog</span> <span class="operator">=</span> ProgressDialog.show(<span class="built_in">this</span>, <span class="string">&quot;提示&quot;</span>, <span class="string">&quot;正在登陆中…&quot;</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h5 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h5><ul><li>setProgressStyle: 设置进度条风格，风格为圆形，旋转的。</li><li>setTitlt: 设置标题</li><li>setMessage: 设置提示信息；</li><li>setIcon: 设置标题图标；</li><li>setIndeterminate: 设置ProgressDialog 的进度条是否不明确；这个属性对于ProgressDailog默认的转轮模式没有实际意义，默认下设置为true，它仅仅对带有ProgressBar的Dialog有作用。修改这个属性为false后可以实时更新进度条的进度。</li><li>setCancelable: 设置ProgressDialog 是否可以按返回键取消；</li><li>cancelListner:当前Dialog强制取消之后将会被执行，通常用来清理未完成的任务。</li><li>setButton: 设置ProgressDialog 的一个Button（需要监听Button事件）；</li><li>show: 显示ProgressDialog。</li><li>cancel: 删除progressdialog</li><li>dismiss: 删除progressdialog 作用和cancel相同</li><li>setMax(int)、getMax: 设置最大进度条的值</li><li>setProgress(int)、getProgress: 更新进度条，当然一般都需要Handler的结合来更新进度条</li><li>incrementProgressBy(int)增加进度条</li><li>setProgressDrawable: 设置progress发生变化时的进度指示条的背景图</li></ul><p>链接: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/a9855cdc4712">https://www.jianshu.com/p/a9855cdc4712</a></p><h4 id="延伸-自定义Dialog"><a href="#延伸-自定义Dialog" class="headerlink" title="延伸: 自定义Dialog"></a>延伸: 自定义Dialog</h4><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/sakurakider/article/details/80735400">https://blog.csdn.net/sakurakider/article/details/80735400</a></p><h4 id="PopupWindow"><a href="#PopupWindow" class="headerlink" title="PopupWindow"></a>PopupWindow</h4><h5 id="PopupWindow的相关函数"><a href="#PopupWindow的相关函数" class="headerlink" title="PopupWindow的相关函数"></a>PopupWindow的相关函数</h5><h6 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数:"></a>构造函数:</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法一: </span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PopupWindow</span> <span class="params">(Context context)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法二: </span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PopupWindow</span><span class="params">(View contentView)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法三: </span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PopupWindow</span><span class="params">(View contentView, <span class="type">int</span> width, <span class="type">int</span> height)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法四: </span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PopupWindow</span><span class="params">(View contentView, <span class="type">int</span> width, <span class="type">int</span> height, <span class="type">boolean</span> focusable)</span></span><br></pre></td></tr></table></figure><p>首要注意: 看这里有四个构造函数，但要生成一个PopupWindow最基本的三个条件是一定要设置的: View contentView，int width, int height ；少任意一个就不可能弹出来PopupWindow！！！！</p><p>所以，如果使用方法一来构造PopupWindow，那完整的构造代码应该是这样的:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">View</span> <span class="variable">contentView</span> <span class="operator">=</span> LayoutInflater.from(MainActivity.<span class="built_in">this</span>).inflate(R.layout.popuplayout, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">PopupWindwo</span> <span class="variable">popWnd</span> <span class="operator">=</span> PopupWindow (context);</span><br><span class="line"></span><br><span class="line">popWnd.setContentView(contentView);</span><br><span class="line"></span><br><span class="line">popWnd.setWidth(ViewGroup.LayoutParams.WRAP_CONTENT);</span><br><span class="line"></span><br><span class="line">popWnd.setHeight(ViewGroup.LayoutParams.WRAP_CONTENT);</span><br></pre></td></tr></table></figure><p>有关为什么一定要设置width和height的原因，我们后面会讲，这里说一下为什么样强制设置contentView；很简单的原因是因为PopupWindow没有默认布局，它不会像AlertDialog那样只setTitle,就能弹出来一个框。PopupWindow是没有默认布局的，它的布局只有通过我们自己设置才行。由于方法三中，含有了这三个必备条件，不用单独设置contentview或者width、height，所以构造方法三是用的最多的一个构造方法。<br>最后，方法四中的focusable变量不是必须的，有关它的方法和意义，我们会在下一篇中细讲。</p><h6 id="显示函数"><a href="#显示函数" class="headerlink" title="显示函数"></a>显示函数</h6><p>显示函数主要使用下面三个:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//相对某个控件的位置（正左下方），无偏移</span></span><br><span class="line">showAsDropDown(View anchor): </span><br><span class="line"></span><br><span class="line"><span class="comment">//相对某个控件的位置，有偏移;xoff表示x轴的偏移，正值表示向左，负值表示向右；yoff表示相对y轴的偏移，正值是向下，负值是向上；</span></span><br><span class="line">showAsDropDown(View anchor, <span class="type">int</span> xoff, <span class="type">int</span> yoff): </span><br><span class="line"></span><br><span class="line"><span class="comment">//相对于父控件的位置（例如正中央Gravity.CENTER，下方Gravity.BOTTOM等），可以设置偏移或无偏移</span></span><br><span class="line">showAtLocation(View parent, <span class="type">int</span> gravity, <span class="type">int</span> x, <span class="type">int</span> y): </span><br></pre></td></tr></table></figure><p>这里有两种显示方式:<br>1、显示在某个指定控件的下方<br>showAsDropDown(View anchor):<br>showAsDropDown(View anchor, int xoff, int yoff)；<br>2、指定父视图，显示在父控件的某个位置（Gravity.TOP,Gravity.RIGHT等）<br>showAtLocation(View parent, int gravity, int x, int y)；</p><h6 id="其它函数"><a href="#其它函数" class="headerlink" title="其它函数"></a>其它函数</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dismiss</span><span class="params">()</span></span><br><span class="line"><span class="comment">//另外几个函数，这里不讲其意义，下篇细讲</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFocusable</span><span class="params">(<span class="type">boolean</span> focusable)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTouchable</span><span class="params">(<span class="type">boolean</span> touchable)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOutsideTouchable</span><span class="params">(<span class="type">boolean</span> touchable)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBackgroundDrawable</span><span class="params">(Drawable background)</span></span><br></pre></td></tr></table></figure><p>这几个函数里，这篇只会用到dismiss()，用于不需要的时候，将窗体隐藏掉。</p><h2 id="基本组件"><a href="#基本组件" class="headerlink" title="基本组件"></a>基本组件</h2><h3 id="Activity"><a href="#Activity" class="headerlink" title="Activity"></a>Activity</h3><h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><h5 id="典型情况下生命周期"><a href="#典型情况下生命周期" class="headerlink" title="典型情况下生命周期"></a>典型情况下生命周期</h5><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://img-blog.csdn.net/20180610102358370">https://img-blog.csdn.net/20180610102358370</a></p><p>（1）onCreate: 表示Activity正在被创建，做一些初始化动作，只在创建时调用一次。<br>（2）onStart: 表示Activity正在被启动，这时Activity已经可见，但不在前台，用户看不到也无法交互。<br>（3）onResume: 表示Activity已经可见，并出现在前台开始活动。<br>（4）onPause: 表示Activity正在停止，做一些快速的轻量级回收任务。因为新Activity的onResume方法要等当前Activity的onPause方法调用之后才会调用。此时用户回到原Activity的话，onResume方法会被调用，但在onPause方法停留时间极短，用户很难重现这一场景。当前Activity被部分遮挡时，如弹出一个弹窗，onPause方法被调用，onStop方法不被调用（这一情况经验证，没有看到onPause被调用）。<br>（5）onStop: 表示Activity即将停止，做一些快速的轻量级回收任务。Activity采用透明主题时，onStop方法不会被调用。<br>（6）onDestroy: 表示Activity即将被销毁，做一些回收工作和最终的资源释放，只调用一次。<br>（7）onRestart: 表示Activity正在重新启动，一般是在Activity从不可见变为可见时调用。区别于onStart方法，否则不能知道是正常流程还是从onPause方法恢复的。一般是用户行为导致的，如按Home键返回桌面，或者打开了一个新的Activity，然后又切换回原来的Activity。</p><p>（1）运行状态<br>当一个活动处于返回栈栈顶时，它就处于运行状态。极端情况下系统才会回收这种状态的活动，因为回收运行状态的活动，将会带来极差的用户体验。<br>（2）暂停状态<br>当一个活动不处于栈顶，且部分可见时（如在它之上有一个对话框显示），它处于暂停状态。一般情况下系统也是不愿意回收暂停状态的活动的，因为它仍旧部分可见，回收它，也会造成极差的用户体验。<br>（3）停止状态<br>当一个活动不处于栈顶，且完全不可见时，进入停止状态。这时系统仍然会为这种活动保存相应的状态和成员变量，但这是不安全的，因为当需要内存时，暂停状态的活动随时可能被回收。<br>（4）销毁状态<br>　　当一个活动被移除返回栈后，它就进入了销毁状态。系统最倾向于回收这种状态的活动，以保证内存充足。</p><p>（1）完整生存期<br>活动在onCreate()到onDestroy()方法之间所经历的，就是完整生存期。一般情况下，一个活动会在onCreate()方法中完成各种初始化操作，在onDestroy()方法中完成释放内存的操作。<br>（2）可见生存期<br>活动在onStart()方法和onStop()方法之间所经历的，就是可见生存期。在可见生存期内，活动对于用户总是可见的，即使有可能无法和用户交互。我们可以通过这两个方法，合理地管理那些对用户可见的资源，如在onStart()方法中对资源进行加载，在onStop()方法中，对资源进行释放，从而保证处于停止状态的活动不会占用过多内存。<br>（3）前台生存期<br>活动在onResume()到onPause()之间的所经历的，就是前台生存期。在前台生存期内，活动总是处于运行状态，是可以与用户交互的。</p><p>standard模式正常回调过程:<br>onCreate –&gt; onStart –&gt; onResume –&gt; Activity运行 –&gt; onPause –&gt; onStop –&gt; onDestroy</p><p>onCreat-onDestroy对:<br>在Activity创建和销毁时调用，只调用一次。</p><p>onStart-onStop对:<br>可见不在前台时调用onStart方法，不可见且不在前台时调用onStop方法。随着用户操作或者屏幕亮灭，这两个方法可能会被多次调用。在onStop状态，让Activity重新回到前台，如果应用没有因为内存不足被杀死，那么调用<br>onRestart-&gt; onStart-&gt;onResume-&gt;Activity运行。如果应用进程被系统杀死了，那么要从onCreate方法重新开始。</p><p>onResume-onPause对:<br>可见且在前台时调onResume方法，可见不在前台时调onPause方法。随着用户操作或者屏幕亮灭，这两个方法可能会被多次调用。在onPause状态，让Activity重新回到前台，那么只调用onResume方法，即onResume-&gt;Activity运行。</p><p>惯性:<br>onCreate-&gt;onStart-&gt;onResume-&gt;Activity运行，会按顺序执行到Activity运行。停止时会执行onPause-&gt;onStop，onDestroy方法用户操作时调用。（questionNo: onDestroy方法在结束进程时会调用吗？是惯性到onDestroy吗？answer: 手动结束应用进程时，会onPause-&gt;onStop，但不会调用onDestroy方法。 ）</p><p>详情: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/hystudio_lzu/article/details/80629571">https://blog.csdn.net/hystudio_lzu/article/details/80629571</a></p><h3 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h3><h4 id="Fragement-概述"><a href="#Fragement-概述" class="headerlink" title="Fragement 概述"></a>Fragement 概述</h4><p>Fragement 与 Activity 生命周期关系 : Fragement 嵌入到 Activity 组件中才可以使用, 其生命周期与 Activity 生命周期相关.</p><p>stop 与 destroy 状态 : Activity 暂停 或者 销毁的时候, 其内部嵌入的所有的 Fragement 也会执行 暂停 或者 销毁 操作;</p><p>活动状态: 只有当 Activity 处于活动状态的时候, 我们才能操作 Fragement;</p><p>Fragement 特征 :</p><ul><li>Fragement 与 Activity 交互 : Fragement 调用 getActivity() 获取其 所嵌入的 Activity, Activity 获取 FragementManager 的findFragementById() 或 findFragementByTag() 获取 Fragement;</li><li>Activity 增删 Fragement : Activity 调用 Fragement 的 add(), remove(), replace() 等方法 添加 删除 替换 Fragement;</li><li>Fragement 与 Activity 对应关系 : 一个 Activity 中可以嵌入多个 Fragement, 一个 Fragement 可以嵌入多个 Activity;</li></ul><p>-生命周期受 Activity 影响: Fragement 的生命周期 受 Activity 生命周期控制;</p><p>Fragement 作用 : Fragement 是为了 Android 中 平台电脑 UI 设计, 开发者不用设计 非常负责的 界面, 只需要设计好模块, 对UI 组件进行分组和 模块化的设计和开发, 简化了 UI 组件;</p><p>Fragement 可复用性 : 同一个 app 应用, 可以在不同的 Activity 中加载同一个 Fragement;</p><h5 id="Fragement-类-和-方法介绍"><a href="#Fragement-类-和-方法介绍" class="headerlink" title="Fragement 类 和 方法介绍"></a>Fragement 类 和 方法介绍</h5><h6 id="Fragement-相关类介绍"><a href="#Fragement-相关类介绍" class="headerlink" title="Fragement 相关类介绍"></a>Fragement 相关类介绍</h6><p>Fragement 子类 :</p><p>DialogFragement : 对话框界面的 Fragement, 显示一个浮动的对话框, 这个对话框可以方便的与 Activity 进行交互, Activity 可以管理这个 Fragment;</p><ul><li>ListFragement : 列表界面的 Fragement, 显示一个条目列表, 该列表可以设置一个适配器, 提供了许多管理 列表的函数;</li><li>PerformanceFragement : 选项设置界面的 Fragement, 该Fragment 创建 类似与 设置 应用程序时很管用;</li><li>WebViewFragement : WebView 界面的 Fragement;</li></ul><h6 id="Fragement-生命周期相关方法介绍"><a href="#Fragement-生命周期相关方法介绍" class="headerlink" title="Fragement 生命周期相关方法介绍"></a>Fragement 生命周期相关方法介绍</h6><p>onCreate() :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onCreate(Bundle savedInstanceState) </span><br></pre></td></tr></table></figure><ul><li>回调时机 : 在创建 Fragement 的时候回调;</li><li>参数解析 : Bundle savedInstance, 用于保存 Fragment 参数 , Fragement 也可以 重写 onSaveInstanceState(Bundle outState) 方法, 保存Fragement状态;</li><li>执行的动作 : 获取 Frgement 显示的内容, 以及 启动Fragment 传入的参数 , 调用 getArguments() 获取键值对;</li></ul><p>onCreateView() :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState); </span><br></pre></td></tr></table></figure><ul><li>回调时机 : Fragement 绘制界面组件 的时候回调, 该方法返回 View, 这个View就是 Fragement 本身;</li><li>参数解析 : inflater 布局加载器, 是上下文传入, 不用自己创建; container 加载组件的父容器;</li><li>执行的操作 : 使用 inflate 布局加载器 加载布局文件, 并未组件设置显示的值 ;</li></ul><p>onPause() :</p><ul><li>回调时机 : Fragement 暂停的时候, 即进入后台的时候 回调;</li></ul><h4 id="Fragment-创建"><a href="#Fragment-创建" class="headerlink" title="Fragment 创建"></a>Fragment 创建</h4><p>Fragment 创建 :</p><ul><li>参数准备 : 创建一个 Bundle 对象, 并向其中设置参数 :</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Bundle bundle = new Bundle();  </span><br><span class="line">bundle.putString(&quot;key&quot;, &quot;value&quot;); </span><br></pre></td></tr></table></figure><ul><li>创建 Fragment 对象 : 使用 new MyFragment() 创建对象, 并 调用 myFragment.setArguments(bundle) 方法传入参数;</li></ul><ol><li>MyFragment myFragment &#x3D; <strong>new</strong> MyFragment();</li><li>myFragment.setArguments(bundle);</li></ol><p>Fragment嵌入Activity方式 : Fragment 添加到 Activity 中才能显示, 以下是将 Fragment 嵌入 Activity 的方式;</p><ul><li>布局文件嵌入 : 在布局文件中 使用 <code>&lt;Fragment /&gt;</code> 元素, 通过定义 android:name &#x3D; “com.example.MyFragment” 属性指定 Fragment 类;</li><li>代码方式嵌入 : 调用 FragmentTransaction 对象的 add() 方法向 Activity 中添加 Fragment;</li></ul><h5 id="Fragment-与-Activity-通信"><a href="#Fragment-与-Activity-通信" class="headerlink" title="Fragment 与 Activity 通信"></a>Fragment 与 Activity 通信</h5><p>Fragment 获取 Activity : 调用 Fragment 对象的 getActivity()方法, 即可获取 Fragment 嵌入的 Activity 对象;</p><p>Activity 获取 Fragment :</p><ul><li>Fragment 属性 : 在布局文件中, 可以为 <code>&lt;Fragment /&gt;</code> 元素指定 android:id 和 android:tag 属性;</li><li>获取方法 : 调用 Activity 的 findFragmentById(int id) 或者 findFragmentByTag(String tag)方法;</li></ul><p>Fragment 向 Activity 传递数据 : 将 Activity 当作 接口子类对象 , Fragment 中调用 Activity 中的接口方法;</p><ul><li>Fragment 定义接口 : 在 Fragment 内部定义一个 Callback 接口 ;</li><li>Activity 实现该接口 : MyActivity extends Activity implement MyFragment.Callback ;</li><li>Fragment 中获取该接口对象 : 在Fragment 中定义一个 Callback 全局变量, 然后在 onAttach(Activity activity) 方法中, 将 activity 强转为 Callback 对象 ;</li><li>调用接口方法 : 上面获取了 Callback 对象, 即Activity对象, 调用 Activity 中的 接口方法 , 就能在 Fragment 中调用 Activity 对应的方法了;</li></ul><p>Activity 向 Fragment 传递数据 :</p><ul><li>创建 Bundle 数据包 : 创建一个 Bundle 对象, 把要存放的键值对 放到这个对象中;</li><li>设置 Bundle 对象给 Fragment : 调用 Fragment 对象的 setArguments(Bundle bundle) 方法, 将 Bundle 对象设置给 Fragment;</li></ul><h4 id="Fragment-事务管理"><a href="#Fragment-事务管理" class="headerlink" title="Fragment 事务管理"></a>Fragment 事务管理</h4><p>FragmentManager 功能 : FragmentManager 对象 可以通过 activity.getFragmentManager()获取;</p><ul><li>获取指定 Fragment : 通过 findFragmentById() 或者 findFragmentByTag() 方法获取指定 Fragment;</li><li>弹出栈 : 通过调用 popBackStack(), 将 Fragment 从后台的 栈 中弹出;</li><li>监听栈 : 通过调用 addOnBackStackChangeListener 注册监听器, 监听 后台栈变化;</li></ul><p>FragmentTransaction 对象获取途径 :</p><ul><li>获取 FragmentManager 对象 : 调用 Activity 的 getFragmentManager() 获取 FragmentManager 对象;</li><li>获取 FragmentTansaction 对象 : 调用 FragmentManager 对象的 beginTransaction() 方法获取 FragmentTransaction 对象;</li></ul><p>FragmentTransaction(Fragment 事务)作用 : 对 Fragement 进行 增, 删 , 改 操作需要 FragmentTransaction 对象进行操作, 开启 这个事务, 获取 事务对象, 然后执行对 Fragment 的操作, 最后提交事务;</p><ul><li>开启事务 : 调用 Fragement 对象的 beginTransaction() 方法可以获取 FragementTransaction 对象;</li><li>操作碎片 : FragmentTransaction 对象 中 包含了 add(), remove(), replace() 等方法;</li><li>提交操作 : 当执行完 Fragement 的操作之后, 可以调用 FragementTransaction 对象的 commit() 方法提交修改;</li></ul><p>addToBackStack()方法作用 : 该方法是 FragementTransaction 的方法, 在提交事务前调用该方法, 可以将 事务中执行的操作 添加到 back 栈中, 用户按下 回退键, 修改过的 Fragement 会 回退到 事务执行之前的状态 ;</p><h5 id="Fragment-生命周期"><a href="#Fragment-生命周期" class="headerlink" title="Fragment 生命周期"></a>Fragment 生命周期</h5><h6 id="Fragment-状态"><a href="#Fragment-状态" class="headerlink" title="Fragment 状态"></a>Fragment 状态</h6><p>活动状态 : Fragment 处于前台, 可见 , 可以获取焦点 ;</p><p>暂停状态 : Fragment 嵌入的Activity 也处于暂停状态, 即 Fragment 处于后台, 可见 , 失去焦点 ;</p><p>停止状态 : Fragement 嵌入的 Activity 处于停止状态, 不可见 , 失去焦点 ;</p><p>销毁状态 : Fragement 所在的 Activity 被销毁, 执行了 onDestroy() 方法, 此时 Fragement 被 完全删除 ;</p><h6 id="Fragement-生命周期相关方法"><a href="#Fragement-生命周期相关方法" class="headerlink" title="Fragement 生命周期相关方法"></a>Fragement 生命周期相关方法</h6><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://img-blog.csdn.net/20140802132139900">https://img-blog.csdn.net/20140802132139900</a></p><p>红色方法 与 Activity 相对应, 蓝色方法 是 自身对应的方法, 棕色方法 单独对应;</p><p>onAttach() : 嵌入, Fragement 被嵌入到 Activity 时回调该方法, 只会调用一次;</p><p>onCreate() : 创建, Fragement 创建的时候回调该方法, 只会回调一次;</p><p>onCreateView() : 绘制, 在 Fragement 绘制的时候回调该方法, 该方法会返回 绘制的 View 组件;</p><p>onActivityCreated() : 界面创建, Fragement 所嵌入的 Activity 创建完成回调该方法;</p><p>onStart() : 启动, Fragement 启动时回调, 此时Fragement可见;</p><p>onResume() : 激活, Fragement 进入前台, 可获取焦点时激活;</p><p>onPause() : 暂停, Fragement 进入后台, 不可获取焦点时激活;</p><p>onStop() : 停止, Fragement 不可见时回调;</p><p>onestroyView() : 销毁组件, 销毁 Fragement 绘制的 View 组件时回调;</p><p>onDestroy() : 销毁, 销毁 Fragement 回调;</p><p>onDetach() : 移除, Fragement 从 Activity 中移除的时候回调;</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/dai_zhenliang/article/details/38554273">https://blog.csdn.net/dai_zhenliang/article/details/38554273</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://zykj.js.org">ZYKJ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://zykj.js.org/posts/5d018fb1/">https://zykj.js.org/posts/5d018fb1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zykj.js.org" target="_blank">ZYKJ's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Android/">Android</a></div><div class="post_share"><div class="social-share" data-image="https://tva1.sinaimg.cn/large/0072Vf1pgy1foxkic3ld0j31hc0u07rx.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://gcore.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li><li class="reward-item"><a href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/42ed6352/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva2.sinaimg.cn/large/0072Vf1pgy1fodqpglwr2j312w0rnx6p.jpg" onerror='onerror=null,src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue仿蘑菇街项目</div></div></a></div><div class="next-post pull-right"><a href="/posts/4e1c7631/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva4.sinaimg.cn/large/0072Vf1pgy1foxkfbw72ej31hc0u0gyy.jpg" onerror='onerror=null,src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">那些年我看的动漫</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div><div id="comment-switch"><span class="first-comment">Twikoo</span><span class="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="toc-number">1.</span> <span class="toc-text">页面布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">布局的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LinearLayout-%E7%BA%BF%E6%80%A7%E5%B8%83%E5%B1%80"><span class="toc-number">1.1.1.</span> <span class="toc-text">LinearLayout 线性布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Relative-Layout-%E7%9B%B8%E5%AF%B9%E5%B8%83%E5%B1%80"><span class="toc-number">1.1.2.</span> <span class="toc-text">Relative Layout 相对布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FrameLayout-%E5%B8%A7%E5%B8%83%E5%B1%80"><span class="toc-number">1.1.3.</span> <span class="toc-text">FrameLayout 帧布局</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%8E%A7%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">基本控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TextView"><span class="toc-number">2.1.</span> <span class="toc-text">TextView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Button"><span class="toc-number">2.2.</span> <span class="toc-text">Button</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E5%90%8E%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2%E6%94%B9%E5%8F%98"><span class="toc-number">2.2.2.</span> <span class="toc-text">实现点击后字体颜色改变</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%92%AE%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.3.</span> <span class="toc-text">按钮点击事件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">内部类实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.3.2.</span> <span class="toc-text">匿名内部类实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Activity%E6%9C%AC%E8%BA%AB%E5%AE%9E%E7%8E%B0%E4%BA%8B%E4%BB%B6%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.2.3.3.</span> <span class="toc-text">Activity本身实现事件接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EditText"><span class="toc-number">2.3.</span> <span class="toc-text">EditText</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-2"><span class="toc-number">2.3.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">2.3.2.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RadioButton%E5%92%8CRadioGroup"><span class="toc-number">2.4.</span> <span class="toc-text">RadioButton和RadioGroup</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RadioGroup%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.1.</span> <span class="toc-text">RadioGroup基本属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RadioButton%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.2.</span> <span class="toc-text">RadioButton基本属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CheckBox"><span class="toc-number">2.5.</span> <span class="toc-text">CheckBox</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-3"><span class="toc-number">2.5.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ImageView"><span class="toc-number">2.6.</span> <span class="toc-text">ImageView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-4"><span class="toc-number">2.6.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87"><span class="toc-number">2.6.2.</span> <span class="toc-text">导入网络图片</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ListView"><span class="toc-number">2.7.</span> <span class="toc-text">ListView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-5"><span class="toc-number">2.7.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GridView"><span class="toc-number">2.8.</span> <span class="toc-text">GridView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-6"><span class="toc-number">2.8.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ScrollView%E4%B8%8EHorizontalScrollView"><span class="toc-number">2.9.</span> <span class="toc-text">ScrollView与HorizontalScrollView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-7"><span class="toc-number">2.9.1.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RecyclerView"><span class="toc-number">2.10.</span> <span class="toc-text">RecyclerView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RecyclerView-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">2.10.1.</span> <span class="toc-text">RecyclerView 的基本用法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView"><span class="toc-number">2.11.</span> <span class="toc-text">WebView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">2.11.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">2.11.2.</span> <span class="toc-text">作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.11.3.</span> <span class="toc-text">使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Webview%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.11.3.1.</span> <span class="toc-text">Webview类常用方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#WebView%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">2.11.3.2.</span> <span class="toc-text">WebView的状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%89%8D%E8%BF%9B-x2F-%E5%90%8E%E9%80%80%E7%BD%91%E9%A1%B5"><span class="toc-number">2.11.3.3.</span> <span class="toc-text">关于前进 &#x2F; 后退网页</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E7%BC%93%E5%AD%98%E6%95%B0%E6%8D%AE"><span class="toc-number">2.11.3.4.</span> <span class="toc-text">清除缓存数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">2.11.4.</span> <span class="toc-text">常用工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#WebSettings%E7%B1%BB"><span class="toc-number">2.11.4.1.</span> <span class="toc-text">WebSettings类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#WebViewClient%E7%B1%BB"><span class="toc-number">2.11.4.2.</span> <span class="toc-text">WebViewClient类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#WebChromeClient%E7%B1%BB"><span class="toc-number">2.11.4.3.</span> <span class="toc-text">WebChromeClient类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WebView%E4%B8%8EJavaScript%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="toc-number">2.11.5.</span> <span class="toc-text">WebView与JavaScript的交互</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8DWebView%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%EF%BC%9F"><span class="toc-number">2.11.5.1.</span> <span class="toc-text">注意事项: 如何避免WebView内存泄露？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.11.5.2.</span> <span class="toc-text">实例</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Demo%E5%9C%B0%E5%9D%80"><span class="toc-number">2.11.5.2.1.</span> <span class="toc-text">Demo地址</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.11.5.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Toast"><span class="toc-number">2.12.</span> <span class="toc-text">Toast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AlertDialog"><span class="toc-number">2.13.</span> <span class="toc-text">AlertDialog</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AlertDialog%E7%9A%84%E5%85%AD%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">2.13.1.</span> <span class="toc-text">AlertDialog的六种实现方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAAlertDialog-Builder%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.13.1.1.</span> <span class="toc-text">创建AlertDialog.Builder对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8Builder%E5%AF%B9%E8%B1%A1%E7%9A%84setTitle%E6%96%B9%E6%B3%95%E8%AE%BE%E7%BD%AE%E6%A0%87%E9%A2%98%EF%BC%8CsetIcon%E6%96%B9%E6%B3%95%E8%AE%BE%E7%BD%AE%E5%9B%BE%E6%A0%87"><span class="toc-number">2.13.1.2.</span> <span class="toc-text">调用Builder对象的setTitle方法设置标题，setIcon方法设置图标</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8Builder%E4%B8%8D%E5%90%8C%E6%96%B9%E6%B3%95%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%AF%9D%E6%A1%86%E5%86%85%E5%AE%B9%E3%80%82"><span class="toc-number">2.13.1.3.</span> <span class="toc-text">调用Builder不同方法设置不同类型的对话框内容。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8setPositiveButton%E3%80%81setNegativeButton%E3%80%81setNeutralButton%E8%AE%BE%E7%BD%AE%E5%A4%9A%E4%B8%AA%E6%8C%89%E9%92%AE"><span class="toc-number">2.13.1.4.</span> <span class="toc-text">调用setPositiveButton、setNegativeButton、setNeutralButton设置多个按钮</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8Builder%E5%AF%B9%E8%B1%A1%E7%9A%84create-%E6%96%B9%E6%B3%95%E5%88%9B%E5%BB%BAAlertDialog%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.13.1.5.</span> <span class="toc-text">调用Builder对象的create()方法创建AlertDialog对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8AlertDialog%E5%AF%B9%E8%B1%A1%E7%9A%84show-%E6%96%B9%E6%B3%95%E5%B0%86%E5%AF%B9%E8%AF%9D%E6%A1%86%E6%98%BE%E7%A4%BA%E5%87%BA%E6%9D%A5"><span class="toc-number">2.13.1.6.</span> <span class="toc-text">调用AlertDialog对象的show()方法将对话框显示出来</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ProgressBar%E4%B8%8EProgressDialog"><span class="toc-number">2.14.</span> <span class="toc-text">ProgressBar与ProgressDialog</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ProgressBar"><span class="toc-number">2.14.1.</span> <span class="toc-text">ProgressBar</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ProgressBar%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F"><span class="toc-number">2.14.1.1.</span> <span class="toc-text">ProgressBar的使用注意:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ProgressBar%E5%87%A0%E7%A7%8D%E6%AF%94%E8%BE%83%E5%B8%B8%E7%94%A8%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">2.14.1.2.</span> <span class="toc-text">ProgressBar几种比较常用的属性:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ProgressBar%E5%B8%B8%E8%A7%81%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A0%B7%E5%BC%8F"><span class="toc-number">2.14.1.3.</span> <span class="toc-text">ProgressBar常见的几种样式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%9B%E5%BA%A6%E6%9D%A1%E4%BF%AE%E6%94%B9%E8%BF%9B%E5%BA%A6%E7%9A%84%E9%A2%9C%E8%89%B2"><span class="toc-number">2.14.1.3.1.</span> <span class="toc-text">自定义进度条修改进度的颜色</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%9B%E5%BA%A6%E6%9D%A1%E5%A4%9A%E7%A7%8D%E5%B1%9E%E6%80%A7"><span class="toc-number">2.14.1.3.2.</span> <span class="toc-text">自定义进度条多种属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ProgressDialog"><span class="toc-number">2.14.2.</span> <span class="toc-text">ProgressDialog</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.14.2.1.</span> <span class="toc-text">常用方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%B6%E4%BC%B8-%E8%87%AA%E5%AE%9A%E4%B9%89Dialog"><span class="toc-number">2.14.3.</span> <span class="toc-text">延伸: 自定义Dialog</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PopupWindow"><span class="toc-number">2.14.4.</span> <span class="toc-text">PopupWindow</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#PopupWindow%E7%9A%84%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">2.14.4.1.</span> <span class="toc-text">PopupWindow的相关函数</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">2.14.4.1.1.</span> <span class="toc-text">构造函数:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%87%BD%E6%95%B0"><span class="toc-number">2.14.4.1.2.</span> <span class="toc-text">显示函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0"><span class="toc-number">2.14.4.1.3.</span> <span class="toc-text">其它函数</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%84%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">基本组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Activity"><span class="toc-number">3.1.</span> <span class="toc-text">Activity</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.1.1.</span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E6%83%85%E5%86%B5%E4%B8%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.1.1.1.</span> <span class="toc-text">典型情况下生命周期</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fragment"><span class="toc-number">3.2.</span> <span class="toc-text">Fragment</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Fragement-%E6%A6%82%E8%BF%B0"><span class="toc-number">3.2.1.</span> <span class="toc-text">Fragement 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Fragement-%E7%B1%BB-%E5%92%8C-%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">Fragement 类 和 方法介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Fragement-%E7%9B%B8%E5%85%B3%E7%B1%BB%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.2.1.1.1.</span> <span class="toc-text">Fragement 相关类介绍</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Fragement-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.2.1.1.2.</span> <span class="toc-text">Fragement 生命周期相关方法介绍</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fragment-%E5%88%9B%E5%BB%BA"><span class="toc-number">3.2.2.</span> <span class="toc-text">Fragment 创建</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Fragment-%E4%B8%8E-Activity-%E9%80%9A%E4%BF%A1"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">Fragment 与 Activity 通信</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fragment-%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">3.2.3.</span> <span class="toc-text">Fragment 事务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Fragment-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">Fragment 生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Fragment-%E7%8A%B6%E6%80%81"><span class="toc-number">3.2.3.1.1.</span> <span class="toc-text">Fragment 状态</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Fragement-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.3.1.2.</span> <span class="toc-text">Fragement 生命周期相关方法</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://tva1.sinaimg.cn/large/0072Vf1pgy1foxkic3ld0j31hc0u07rx.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By ZYKJ</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" data-pjax-state=""><b>jsDelivr</b></a> | HOST BY <a target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer"><b>Vercel</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/utils.js"></script><script src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/main.js"></script><script src="https://gcore.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://gcore.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://gcore.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://gcore.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://gcore.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.imzykj.cn",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"!=typeof twikoo?getScript("https://gcore.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(t):setTimeout(t,0)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script><script>function loadWaline(){function e(){Waline.init(Object.assign({el:"#waline-wrap",serverURL:"https://waline.imzykj.cn",pageview:!1,dark:'html[data-theme="dark"]',path:window.location.pathname,comment:!1},{pageSize:10,requiredMeta:["nick","mail"],login:"enable",copyright:!0,imageUploader:!1,locale:{admin:"博主",sofa:"这里冷冷清清的，快来留下脚印吧！",placeholder:"您的评论的回复不会有邮件提示，还请见谅！"},emoji:["https://npm.elemecdn.com/sticker-heo/Sticker-100/","https://npm.elemecdn.com/telegram-gif/Telegram-Gif/","https://npm.elemecdn.com/@waline/emojis/tw-emoji/"]}))}"function"==typeof Waline?e():(!function(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://gcore.jsdelivr.net/npm/@waline/client/dist/waline.min.css",document.head.appendChild(e)}(),getScript("https://gcore.jsdelivr.net/npm/@waline/client/dist/waline.min.js").then(e))}{function loadOtherComment(){loadWaline()}}</script></div><script>window.addEventListener("load",()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++)t+="<div class='aside-list-item'>",t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <div class='name'><span>${e[n].nick} / </span><time datetime="${e[n].date}">${btf.diffDate(e[n].date,!0)}</time></div>\n        </div></div>`;else t+="没有评论";let n=document.querySelector("#card-newest-comments .aside-list");n.innerHTML=t,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.imzykj.cn",region:"",pageSize:3,includeReply:!0}).then((function(t){const n=t.map(e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t});saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").innerHTML="无法获取评论，请确认相关配置是否正确"}))};"object"==typeof twikoo?t():getScript("https://gcore.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)})</script><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>🚀 网站已更新最新版本 📑</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">点我更新</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"🚀 博客已更新最新版本 🌍",backgroundColor:t,duration:5e5,pos:e,actionText:"点我更新⚡",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script src="https://gcore.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/link/"]):not([href="/shuoshuo/"]):not([href="/friendcircle/"]):not([href="/about/"]):not([href="/me/"]):not([href="/posts/e297feab/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div></body></html>