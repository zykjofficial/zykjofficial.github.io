<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Vuexå­¦ä¹  | ZYKJ's Blog</title><meta name="author" content="ZYKJ"><meta name="copyright" content="ZYKJ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚"><meta property="og:type" content="article"><meta property="og:title" content="Vuexå­¦ä¹ "><meta property="og:url" content="https://zykj.js.org/posts/413c71da/index.html"><meta property="og:site_name" content="ZYKJ&#39;s Blog"><meta property="og:description" content="Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuexstudy-cover.png"><meta property="article:published_time" content="2020-07-11T02:59:51.000Z"><meta property="article:modified_time" content="2020-07-11T02:59:51.000Z"><meta property="article:author" content="ZYKJ"><meta property="article:tag" content="Vue"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuexstudy-cover.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"><link rel="canonical" href="https://zykj.js.org/posts/413c71da/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}",hits_stats:"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},translate:void 0,noticeOutdate:{limitDay:30,position:"top",messagePrev:"è¿™ç¯‡æ–‡ç« å·²ç»å‘è¡¨äº†",messageNext:"å¤©äº†ï¼Œå…¶ä¸­éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:450},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"å¤©",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡",cht_to_chs:"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡",day_to_night:"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼",night_to_day:"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-center"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Vuexå­¦ä¹ ",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2020-07-11 10:59:51"}</script><script>(e=>{e.saveToLocal={set:(e,t,a)=>{if(0===a)return;const o={value:t,expiry:Date.now()+864e5*a};localStorage.setItem(e,JSON.stringify(o))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const a=JSON.parse(t);if(!(Date.now()>a.expiry))return a.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((a,o)=>{const c=document.createElement("script");c.src=e,c.async=!0,c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},Object.keys(t).forEach(e=>{c.setAttribute(e,t[e])}),document.head.appendChild(c)}),e.getCSS=(e,t=!1)=>new Promise((a,o)=>{const c=document.createElement("link");c.rel="stylesheet",c.href=e,t&&(c.id=t),c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},document.head.appendChild(c)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!a&&!o&&!c;if(void 0===t){if(o)activateLightMode();else if(a)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())})}else"light"===t?activateLightMode():activateDarkMode();const d=saveToLocal.get("aside-status");void 0!==d&&("hide"===d?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/zykjcss.css" media="all" onload='this.media="all",this.onload=null'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ZYKJ's Blog" type="application/atom+xml"></head><body><script>window.paceOptions={restartOnPushState:!1},document.addEventListener("pjax:send",()=>{Pace.restart()})</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">30</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>éšæœº</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-brands fa-line"></i> <span>ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>å‹é“¾</span></a></li><li><a class="site-page child" href="/friendcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>å‹åœˆ</span></a></li><li><a class="site-page child" href="/shuoshuo"><i class="fa-fw fa-solid fa-comment-alt"></i> <span>è¯´è¯´</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>ç•™è¨€</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuexstudy-cover.png)"><nav id="nav"><span id="blog-info"><a href="/" title="ZYKJ's Blog"><span class="site-name">ZYKJ's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i> <span>æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>éšæœº</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-brands fa-line"></i> <span>ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>å‹é“¾</span></a></li><li><a class="site-page child" href="/friendcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>å‹åœˆ</span></a></li><li><a class="site-page child" href="/shuoshuo"><i class="fa-fw fa-solid fa-comment-alt"></i> <span>è¯´è¯´</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>ç•™è¨€</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vuexå­¦ä¹ </h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2020-07-11T02:59:51.000Z" title="å‘è¡¨äº 2020-07-11 10:59:51">2020-07-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2020-07-11T02:59:51.000Z" title="æ›´æ–°äº 2020-07-11 10:59:51">2020-07-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/">Webæ•™ç¨‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">6.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>27åˆ†é’Ÿ</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Vuexå­¦ä¹ "><a href="#Vuexå­¦ä¹ " class="headerlink" title="Vuexå­¦ä¹ "></a>Vuexå­¦ä¹ </h2><div class="note green icon-padding simple"><i class="note-icon fas fa-rocket"></i><p>ğŸ“š Vue å­¦ä¹ ç›®å½•</p><p>ğŸš€ <a href="/posts/4a869c3f/">Vue.jsåŸºç¡€å­¦ä¹ </a> - ğŸ“ <a href="/posts/f9d8baf9/">Vue.jsè¿›é˜¶</a> - ğŸ”¦ <a href="/posts/f13afe2d/">webpackå­¦ä¹ </a></p><p>ğŸ“¦ <a href="/posts/22686bb0/">Vue-CLIå­¦ä¹ </a> - ğŸ“Œ <a href="/posts/ed3da/">Vue-routerå­¦ä¹ </a> - ğŸ”® <a href="/posts/413c71da/">Vuexå­¦ä¹ </a> - ğŸ€ <a href="/posts/e400c46/">Nuxt.js å­¦ä¹ </a></p></div><div class="note info flat"><p>æ–‡ç« ä¸­çš„èµ„æ–™æ¥è‡ª: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/zhangtianyi0110/VueLearnNotes/blob/master/19-vuex/19-vuex.md">https://github.com/zhangtianyi0110/VueLearnNotes/blob/master/19-vuex/19-vuex.md</a> ã€è‡ªå·±ä¼˜åŒ–<br>è§†é¢‘: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV15741177Eh/?p=129">https://www.bilibili.com/video/BV15741177Eh/?p=129</a></p></div><h3 id="ä»€ä¹ˆæ˜¯Vuex"><a href="#ä»€ä¹ˆæ˜¯Vuex" class="headerlink" title="ä»€ä¹ˆæ˜¯Vuex"></a>ä»€ä¹ˆæ˜¯Vuex</h3><div class="note info flat"><p>Vuexå°±æ˜¯ä¸€ä¸ªçŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œä¸ºä»€ä¹ˆå«æ¨¡å¼ï¼Ÿ</p></div><p>å› ä¸ºVuexåŒ…å«äº†ä¸€å¥—å¯¹<code>state(çŠ¶æ€)</code>çš„æ“ä½œè§„èŒƒï¼Œé›†ä¸­å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ã€‚</p><blockquote><p>çŠ¶æ€ç®¡ç†</p></blockquote><ul><li><p>ç®€å•æ¥è¯´å°±æ˜¯ç®¡ç†å„ä¸ªç»„ä»¶å…±äº«çš„æ•°æ®ï¼Œç±»ä¼¼session</p></li><li><p>sessionå¯ä»¥å­˜æ•°æ®ï¼Œå­˜çš„è¿‡ç¨‹å°±æ˜¯ç®¡ç†ï¼Œæ•°æ®çš„æ¯ä¸€æ¬¡èµ‹å€¼å°±æ˜¯å½“æ¬¡çŠ¶æ€ã€‚</p></li><li><p>Vuexåœ¨Vueå®ä¾‹é¡¶å±‚ä¸­ã€‚</p><p>Vuexä¹Ÿå¯ä»¥ç†è§£ä¸ºjavaä¸­çš„ä¸€ä¸ªmapï¼Œè¿™ä¸ªmapæ˜¯static(é™æ€èµ„æº)çš„ï¼Œæ¯æ¬¡è·å–mapçš„å€¼ï¼Œéƒ½éœ€è¦è°ƒç”¨javaçš„apiï¼Œæ¯”å¦‚<code>map.get(key)</code>è·å–å¯¹åº”çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ”¾å…¥æ•°æ®<code>map.put(data)</code>ï¼Œè€Œä¸”è¿™ä¸ªæ•°æ®æ˜¯æ‰€æœ‰ç±»éƒ½å¯ä»¥è°ƒç”¨çš„ï¼Œåªéœ€è¦å¯¼å…¥è¿™ä¸ªmapå°±èƒ½ä½¿ç”¨é‡Œé¢çš„å…±äº«æ•°æ®ã€‚</p><p>ä¸äº†è§£javaä¹Ÿæ²¡å…³ç³»ï¼Œä½ ä¹Ÿå¯ä»¥ç†è§£æˆä¸ºç™¾åº¦ç™¾ç§‘å°±æ˜¯ä¸€ä¸ªå®¹çº³ç™¾ç§‘çŸ¥è¯†çš„å®¹å™¨ï¼Œä½ è¦æœvuexï¼Œç™¾ç§‘å°±ä¼šå‡ºç°vuexçš„æè¿°ï¼Œè¿™ä¸ªæœç´¢å°±æ˜¯è·å–çŠ¶æ€ï¼Œå¦‚æœä½ è§’è‰²ç™¾ç§‘çš„vuexæè¿°æœ‰è¯¯ã€‚ä½ ä¹Ÿå¯ä»¥å‘èµ·ä¿®æ”¹æ“ä½œï¼Œæ”¹æˆæ­£ç¡®çš„vuexæè¿°ï¼Œè¿™ä¸ªä¿®æ”¹æ“ä½œå°±æ˜¯ä¿®æ”¹vuexåœ¨ç™¾ç§‘é‡Œé¢çš„çŠ¶æ€ã€‚å½“ç„¶ä½ å¯ä»¥æœç´¢ä¿®æ”¹vuexï¼Œåˆ«äººä¹Ÿå¯ä»¥ï¼Œå› ä¸ºè¿™ä¸ªçŠ¶æ€æ˜¯å…±äº«çš„ã€‚</p><p>ç®€å•æ¥çœ‹å®ç°è¿™ä¸ªåŠŸèƒ½å¥½åƒæˆ‘ä»¬è‡ªå·±å°è£…ä¸€ä¸ªå¯¹è±¡å°±èƒ½å®ç°ï¼Œä½†æ˜¯<code>Vuexæœ‰ä¸€ä¸ªç‰¹æ€§å°±æ˜¯å“åº”å¼</code>ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å°è£…å¯¹è±¡æƒ³åšåˆ°å®Œç¾å“åº”å¼æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€æœ‰Vuexå¸®æˆ‘ä»¬åšäº†è¿™ä¸ªäº‹æƒ…ã€‚</p></li></ul><blockquote><p>ä»€ä¹ˆçŠ¶æ€éœ€è¦Vuexå»ç®¡ç†ï¼Ÿ</p></blockquote><ul><li>æ¯”å¦‚ç”¨æˆ·çš„ç™»å½•çš„çŠ¶æ€ï¼ˆtokenï¼‰ã€ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆå¤´åƒã€åç§°ã€åœ°ç†ä½ç½®ä¿¡æ¯ï¼‰ç­‰ç­‰</li><li>æ¯”å¦‚å•†å“çš„æ”¶è—ï¼Œè´­ç‰©è½¦çš„å•†å“ç­‰ç­‰</li><li>è¿™äº›çŠ¶æ€åº”è¯¥æ˜¯å“åº”å¼çš„ï¼Œç”¨æˆ·æ˜µç§°ã€å¤´åƒä¿®æ”¹äº†éœ€è¦å“åº”</li></ul><blockquote><p>Vuexç®€å•æ¨¡å‹</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://vuex.vuejs.org/flow.png" alt="vuexç®€å•æ¨¡å‹"></p><ul><li><code>state</code>ï¼Œé©±åŠ¨åº”ç”¨çš„æ•°æ®æºï¼›</li><li><code>view</code>ï¼Œä»¥å£°æ˜æ–¹å¼å°† state æ˜ å°„åˆ°è§†å›¾ï¼›</li><li><code>actions</code>ï¼Œå“åº”åœ¨ view ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ–ã€‚</li></ul><p>è¿™æ˜¯ä¸€ä¸ªå•é¡µé¢æ•°æ®æµå‘ï¼Œæ¯”å¦‚æƒ³è¦ä¿®æ”¹ç”¨æˆ·æ˜µç§°ï¼Œå½“å‰ç”¨æˆ·æ˜µç§°çš„çŠ¶æ€æ˜¯Aï¼Œé€šè¿‡è¾“å…¥æ¡†è¾“å…¥äº†æ–°çš„æ˜µç§°Bï¼Œè°ƒç”¨ajaxè¯·æ±‚åç«¯ä¿®æ”¹æˆåŠŸåå°†stateæ”¹æˆBï¼Œç„¶åè§†å›¾å“åº”ç”¨æˆ·æ˜µç§°çš„å˜åŒ–ä»Aåˆ°Bã€‚</p><p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬çš„åº”ç”¨é‡åˆ°å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€æ—¶ï¼Œå•å‘æ•°æ®æµçš„ç®€æ´æ€§å¾ˆå®¹æ˜“è¢«ç ´åï¼š</p><ul><li>å¤šä¸ªè§†å›¾ä¾èµ–äºåŒä¸€çŠ¶æ€ã€‚</li><li>æ¥è‡ªä¸åŒè§†å›¾çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€ã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬éœ€è¦vuexçš„è§„èŒƒæ“ä½œæ¥ç®¡ç†çŠ¶æ€ã€‚</li></ul><h3 id="VuexåŸºæœ¬ä½¿ç”¨"><a href="#VuexåŸºæœ¬ä½¿ç”¨" class="headerlink" title="VuexåŸºæœ¬ä½¿ç”¨"></a>VuexåŸºæœ¬ä½¿ç”¨</h3><blockquote><p>ä¼ ç»Ÿæ–¹æ³•ä½¿ç”¨çˆ¶å­ç»„ä»¶æ•°æ®ä¼ é€’</p></blockquote><p>ä½¿ç”¨Vue-CLI4åˆ›å»ºé¡¹ç›®</p><div class="tabs" id="tab1"><ul class="nav-tabs"><button type="button" class="tab active" data-href="tab1-1">ä¿®æ”¹App.vue</button><button type="button" class="tab" data-href="tab1-2">åˆ›å»ºHelloVuex.vue</button><button type="button" class="tab" data-href="tab1-3">æ€»ç»“</button></ul><div class="tab-contents"><div class="tab-item-content active" id="tab1-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hello-vuex</span> <span class="attr">:count</span>=<span class="string">&quot;count&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">HelloVuex</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloVuex&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">count</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">HelloVuex</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab1-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HelloVuex&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;HelloVuex&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">count</span>: <span class="title class_">Number</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="tab1-3"><p>æ­¤æ—¶æˆ‘ä»¬ä½¿ç”¨äº†çˆ¶å­ç»„ä»¶é€šä¿¡æ¥å®Œæˆå­ç»„ä»¶<code>HelloVuex</code>è·å–çˆ¶ç»„ä»¶çš„<code>count</code>ã€‚</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><p>å¦‚æœä¸æ˜¯çˆ¶å­ç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Œæ­¤æ—¶å°±éœ€è¦vuexäº†ï¼Œè¿˜æ˜¯è¿™2ä¸ªç»„ä»¶ï¼Œç°åœ¨ä¸ä½¿ç”¨çˆ¶å­é€šä¿¡ï¼Œç›´æ¥ä½¿ç”¨vuexã€‚</p><blockquote><p>ä½¿ç”¨vuexç®¡ç†çŠ¶æ€</p></blockquote><ul><li><p>ä½¿ç”¨<code>npm install vuex --save</code>å®‰è£…Vuex</p></li><li><p>å®‰è£…æ’ä»¶<code>Vue.use(Vuex)</code>ï¼Œåœ¨srcä¸‹æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ª<code>index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.å®‰è£…æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123; <span class="comment">// çŠ¶æ€é›†åˆ</span></span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span> <span class="comment">// å…·ä½“çš„çŠ¶æ€æ•°æ®</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.å¯¼å‡ºstoreå¯¹è±¡</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹<code>App.vue</code>å’Œ<code>HelloVuex.vue</code>ï¼Œç›´æ¥ä½¿ç”¨<code>$store.state.count</code>è·å–countå€¼</p><p><code>App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; $store.state.count &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.state.count++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$store.state.count--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hello-vuex</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> <span class="title class_">HelloVuex</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloVuex&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      data () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">HelloVuex</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>HelloVuex.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯HelloVuexçš„countï¼š&#123;&#123; $store.state.count &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HelloVuex&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;HelloVuex&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬ä¸ä¼šç›´æ¥ä½¿ç”¨<code>$store.state.count</code>è·å–vuexä¸­çš„çŠ¶æ€ï¼Œä¹Ÿä¸æ˜¯ç›´æ¥ä½¿ç”¨<code>$store.state.count++</code>æ¥æ“ä½œvuexä¸­çš„çŠ¶æ€ã€‚</p></li></ul><h3 id="Vuexçš„æµç¨‹"><a href="#Vuexçš„æµç¨‹" class="headerlink" title="Vuexçš„æµç¨‹"></a>Vuexçš„æµç¨‹</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://vuex.vuejs.org/vuex.png" alt="çŠ¶æ€ç®¡ç†å›¾ä¾‹"></p><ul><li><code>Vue Components</code>æ˜¯vueç»„ä»¶</li><li><code>Mutations</code> ï¼šæ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutation</li><li><code>State</code> æ˜¯vuexä¸­çŠ¶æ€çš„é›†åˆ</li><li>Actionsä¸Mutations ç±»ä¼¼ï¼Œç»å¸¸ä¸åç«¯äº¤äº’ï¼Œä¸åŒåœ¨äºï¼š<ul><li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li><li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li></ul></li></ul><div class="note download flat"><p>æƒ³è¦æ›´å¥½çš„è°ƒè¯•Vueé¡¹ç›®å¯ä»¥ä¸‹è½½Chromeæ’ä»¶ <code>vue-devtools</code></p></div><div class="note idea flat"><p>ç»„ä»¶ä¸­ä¿®æ”¹ <code>state</code>ï¼Œé€šè¿‡æäº¤ <code>mutation</code>ï¼Œä¿®æ”¹å®Œæˆåvuexå¸®æˆ‘ä»¬å“åº”åˆ°vueç»„ä»¶ä¸Šã€‚</p></div><p>æ¡ˆä¾‹:</p><ul><li><p>ä¿®æ”¹<code>index.js</code>ä½¿ç”¨<code>mutation</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123; <span class="comment">// çŠ¶æ€é›†åˆ</span></span><br><span class="line">    <span class="attr">count</span>: <span class="number">200</span> <span class="comment">// å…·ä½“çš„çŠ¶æ€æ•°æ®</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; <span class="comment">// æ“ä½œä¿®æ”¹ stateï¼ˆçŠ¶æ€ï¼‰ é»˜è®¤æœ‰ä¸€ä¸ª state å‚æ•°</span></span><br><span class="line">    increment (state) &#123; <span class="comment">// å¢åŠ </span></span><br><span class="line">      state.<span class="property">count</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement (state) &#123; <span class="comment">// å‡å°‘</span></span><br><span class="line">      state.<span class="property">count</span>--</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹<code>App.vue</code>æäº¤<code>mutation</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; $store.state.count &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hello-vuex</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">HelloVuex</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloVuex&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  data () &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">HelloVuex</span></span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    add () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// é€šè¿‡commitå†…å¡«å…¥mutationsé‡Œçš„æ–¹æ³•    </span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    sub () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;decrement&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡<code>vue-devtools</code>æµ‹è¯•</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200707211854.png" alt="vue-devtoolsæµ‹è¯•"></p></li></ul><p>â€‹ æµ‹è¯•å‘ç°æ²¡æœ‰é—®é¢˜ä¸ç›´æ¥ä½¿ç”¨<code>$store.state.count++</code>æ•ˆæœä¸€è‡´ï¼Œé€šè¿‡æäº¤mutationä¿®æ”¹äº†çŠ¶æ€stateï¼Œåœ¨<code>vue-devtools</code>ä¸­ä¹Ÿèƒ½è·Ÿè¸ªstateå˜åŒ–ä»¥åŠæäº¤çš„mutationã€‚</p><h3 id="Vuexçš„æ ¸å¿ƒæ¦‚å¿µ"><a href="#Vuexçš„æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="Vuexçš„æ ¸å¿ƒæ¦‚å¿µ"></a>Vuexçš„æ ¸å¿ƒæ¦‚å¿µ</h3><ul><li><code>State</code></li><li><code>Getters</code></li><li><code>Mutation</code></li><li><code>Action</code></li><li><code>Moudule</code></li></ul><h4 id="Stateï¼ˆå•ä¸€çŠ¶æ€æ ‘ï¼‰"><a href="#Stateï¼ˆå•ä¸€çŠ¶æ€æ ‘ï¼‰" class="headerlink" title="Stateï¼ˆå•ä¸€çŠ¶æ€æ ‘ï¼‰"></a>Stateï¼ˆå•ä¸€çŠ¶æ€æ ‘ï¼‰</h4><p>Vuex ä½¿ç”¨<code>å•ä¸€çŠ¶æ€æ ‘</code>â€”â€” ç”¨ä¸€ä¸ªå¯¹è±¡å°±åŒ…å«äº†å…¨éƒ¨çš„åº”ç”¨å±‚çº§çŠ¶æ€ã€‚è‡³æ­¤å®ƒä¾¿ä½œä¸ºä¸€ä¸ªâ€œå”¯ä¸€æ•°æ®æº (<a target="_blank" rel="noopener external nofollow noreferrer" href="https://en.wikipedia.org/wiki/Single_source_of_truth">SSOT</a>)â€è€Œå­˜åœ¨ã€‚ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œæ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ã€‚å•ä¸€çŠ¶æ€æ ‘è®©æˆ‘ä»¬èƒ½å¤Ÿç›´æ¥åœ°å®šä½ä»»ä¸€ç‰¹å®šçš„çŠ¶æ€ç‰‡æ®µï¼Œåœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­ä¹Ÿèƒ½è½»æ˜“åœ°å–å¾—æ•´ä¸ªå½“å‰åº”ç”¨çŠ¶æ€çš„å¿«ç…§ã€‚</p><p>ç®€å•è¯´å°±æ˜¯æŠŠæ•°æ®æ‰€æœ‰æœ‰å…³çš„æ•°æ®å°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯storeå®ä¾‹ï¼Œæ— è®ºæ˜¯æ•°æ®çš„çŠ¶æ€ï¼ˆstateï¼‰ï¼Œä»¥åŠå¯¹æ•°æ®çš„æ“ä½œï¼ˆmutationã€actionï¼‰ç­‰éƒ½åœ¨storeå®ä¾‹ä¸­ï¼Œä¾¿äºç®¡ç†ç»´æŠ¤æ“ä½œã€‚</p><p><code>state</code>ç›´æ¥é€šè¿‡<code>this.$store.state</code>è·å–stateå¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="mapstateè¾…åŠ©å‡½æ•°"><a href="#mapstateè¾…åŠ©å‡½æ•°" class="headerlink" title="mapstateè¾…åŠ©å‡½æ•°"></a>mapstateè¾…åŠ©å‡½æ•°</h5><p>å½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€çš„æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>mapState</code> è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ï¼Œè®©ä½ å°‘æŒ‰å‡ æ¬¡é”®ï¼š</p><p><code>store/index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;zykj&quot;</span>,</span><br><span class="line">    <span class="attr">count</span>: <span class="number">200</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; name &#125;&#125;</span><br><span class="line">        &#123;&#123; countAlias &#125;&#125;</span><br><span class="line">        &#123;&#123; countPlusLocalState &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//åœ¨ä½¿ç”¨mapStateä¹‹å‰,è¦å¯¼å…¥è¿™ä¸ªè¾…åŠ©å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">localCount</span>: <span class="number">200</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">components</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>: <span class="title function_">mapState</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">name</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ä¼ å­—ç¬¦ä¸²å‚æ•° &#x27;count&#x27; ç­‰åŒäº `state =&gt; state.count`</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">countAlias</span>: <span class="string">&#x27;count&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ this è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">countPlusLocalState</span>(<span class="params">state</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> state.<span class="property">count</span> + <span class="variable language_">this</span>.<span class="property">localCount</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Getters"><a href="#Getters" class="headerlink" title="Getters"></a>Getters</h4><p>Gettersç±»ä¼¼è®¡ç®—å±æ€§ï¼Œå¸®æˆ‘ä»¬åšä¸€äº›é‡å¤çš„äº‹æƒ…ã€‚</p><details class="toggle"><summary class="toggle-button">æ¡ˆä¾‹</summary><div class="toggle-content"><p>æœ‰è¿™æ ·ä¸€ä¸ªstoreå®ä¾‹ï¼Œæˆ‘ä»¬éœ€è¦è·å–å¹´é¾„å¤§äº20å²çš„å­¦ç”Ÿæ•°é‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123; <span class="comment">// çŠ¶æ€é›†åˆ</span></span><br><span class="line">    <span class="attr">students</span>: [</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">110</span>, <span class="attr">name</span>: <span class="string">&#x27;zzz&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;18&#x27;</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">111</span>, <span class="attr">name</span>: <span class="string">&#x27;ttt&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;20&#x27;</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">112</span>, <span class="attr">name</span>: <span class="string">&#x27;yyy&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;22&#x27;</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">113</span>, <span class="attr">name</span>: <span class="string">&#x27;zty&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;25&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½ä¼šè¿™æ ·å†™è¿™æ ·ä¸€ä¸ªè®¡ç®—å±æ€§å»è·å–å¹´é¾„å¤§äº20å²çš„å­¦ç”Ÿæ•°é‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">stuCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">students</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">student</span> =&gt;</span> student.<span class="property">age</span> &gt; <span class="number">20</span>).<span class="property">length</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå¾ˆå¤šç»„ä»¶ä¸­éœ€è¦å¹´é¾„å¤§äº20å²çš„å­¦ç”Ÿæ•°é‡ï¼Œä½ å¯èƒ½ä¼šå°†è¿™ä¸ªè®¡ç®—å±æ€§å¤åˆ¶ï¼Œå°†filterå‡½æ•°å†™å¾ˆå¤šéï¼Œä½†æ˜¯å¦‚æœä½ æœ‰Gettersã€‚</p></blockquote><ul><li><p>åœ¨storeå®ä¾‹ä¸­å®šä¹‰getters</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">getStudentCounts</span>: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">students</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">s</span> =&gt;</span> s.<span class="property">age</span> &gt; <span class="number">20</span>).<span class="property">length</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡å±æ€§è°ƒç”¨getters</p><p>ç°åœ¨åªéœ€è¦è°ƒç”¨gettersçš„getStudentså¯¹è±¡ï¼Œå°±èƒ½è·å–æ•°é‡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">stuCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">getStudents</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>å¦‚æœä½ æƒ³æŸ¥è¯¢æŒ‡å®šIDï¼ˆä¼ å…¥IDï¼‰çš„å­¦ç”Ÿä¿¡æ¯ã€‚</p></blockquote><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®© <code>getter è¿”å›ä¸€ä¸ªå‡½æ•°</code>ï¼Œæ¥å®ç°ç»™ getter ä¼ å‚ã€‚åœ¨ä½ å¯¹ store é‡Œçš„æ•°ç»„è¿›è¡ŒæŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨ã€‚</p><ul><li><p>å®šä¹‰<code>getters</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å†™æ³•1</span></span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">getStuById</span>: <span class="function"><span class="params">state</span> =&gt;</span> <span class="function"><span class="params">id</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">students</span>.<span class="title function_">find</span>(<span class="function"><span class="params">s</span> =&gt;</span> s.<span class="property">id</span> === id)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†™æ³•2</span></span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">getStuById</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">age</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">students</span>.<span class="title function_">find</span>(<span class="function"><span class="params">s</span> =&gt;</span> s.<span class="property">id</span> === id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡æ–¹æ³•è®¿é—®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">stuById</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="title function_">getStuById</span>(<span class="number">110</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼ å…¥å­¦ç”ŸIDä¸º110ï¼Œè¾“å‡ºå°±å¯ä»¥è·å¾—ç»“æ„</p></li></ul></div></details><p>Vuexå…è®¸åœ¨ store ä¸­å®šä¹‰â€getterâ€(å¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§)ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter æ˜¯å“åº”å¼çš„ï¼Œåªæœ‰å½“æ•°æ®å‘é€æ”¹å˜æ‰ä¼šé‡æ–°è®¡ç®—ã€‚</p><p>Getterçš„å‚æ•°ï¼š<code>state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">data</span>: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">&#x27;...&#x27;</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">text</span>: <span class="string">&#x27;...&#x27;</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">doneData</span>: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">data</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">done</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="é€šè¿‡å±æ€§è®¿é—®"><a href="#é€šè¿‡å±æ€§è®¿é—®" class="headerlink" title="é€šè¿‡å±æ€§è®¿é—®"></a>é€šè¿‡å±æ€§è®¿é—®</h5><p>Getter ä¼šæš´éœ²ä¸º <code>store.getters</code> å¯¹è±¡ï¼Œä»¥<code>å±æ€§çš„å½¢å¼</code>è®¿é—®è¿™äº›å€¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.<span class="property">getters</span>.<span class="property">doneData</span> <span class="comment">// -&gt; [&#123; id: 1, text: &#x27;...&#x27;, done: true &#125;]</span></span><br></pre></td></tr></table></figure><p>Getterå¯ä»¥å°† <code>getter</code> ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="attr">doneDataCount</span>: <span class="function">(<span class="params">state, getters</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.<span class="property">doneData</span>.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">store.<span class="property">getters</span>.<span class="property">doneTodosCount</span> <span class="comment">// -&gt; 1</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  doneDataCount () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">doneDataCount</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œgetter åœ¨é€šè¿‡å±æ€§è®¿é—®æ—¶æ˜¯ä½œä¸º Vue çš„å“åº”å¼ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç¼“å­˜å…¶ä¸­çš„ã€‚</p><h5 id="é€šè¿‡æ–¹æ³•è®¿é—®"><a href="#é€šè¿‡æ–¹æ³•è®¿é—®" class="headerlink" title="é€šè¿‡æ–¹æ³•è®¿é—®"></a>é€šè¿‡æ–¹æ³•è®¿é—®</h5><p>é€šè¿‡ getter <code>è¿”å›ä¸€ä¸ªå‡½æ•°</code>ï¼Œå®ç° getter ä¼ å‚ã€‚åœ¨ä½ å¯¹ store é‡Œçš„æ•°ç»„è¿›è¡ŒæŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="title function_">getDataById</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">id</span>)&#123;</span><br><span class="line">          <span class="keyword">return</span> state.<span class="property">data</span>.<span class="title function_">find</span>(<span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">id</span> === id)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">store.<span class="property">getters</span>.<span class="title function_">getDataById</span>(<span class="number">2</span>) <span class="comment">// -&gt; &#123; id: 2, text: &#x27;...&#x27;, done: false &#125;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œgetter åœ¨é€šè¿‡æ–¹æ³•è®¿é—®æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå»è¿›è¡Œè°ƒç”¨ï¼Œè€Œä¸ä¼šç¼“å­˜ç»“æœã€‚</p><h5 id="mapGetters-è¾…åŠ©å‡½æ•°"><a href="#mapGetters-è¾…åŠ©å‡½æ•°" class="headerlink" title="mapGetters è¾…åŠ©å‡½æ•°"></a>mapGetters è¾…åŠ©å‡½æ•°</h5><p>è‡ªå·±ç†è§£ï¼šä¸éœ€è¦æ¯æ¬¡åœ¨è®¡ç®—å±æ€§ä¸­è¿”å› actions</p><p>é€šè¿‡<code>import &#123; mapGetters &#125; from &#39;vuex&#39;</code>å¯¼å…¥</p><p>å¦‚ï¼šæˆ‘ä»¬æƒ³è·å–æ•°ç»„çš„é•¿åº¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">data</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">dataLength</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">data</span>.<span class="property">length</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; dataLength &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      data () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ•°ç»„å½¢å¼</span></span></span><br><span class="line"><span class="language-javascript">        ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;dataLength&#x27;</span>])</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// å¯¹è±¡å½¢å¼</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//...mapGetters(&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  //  æŠŠ `this.length` æ˜ å°„ä¸º `this.$store.getters.dataLength`</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  length: &#x27;dataLength&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Mutationï¼ˆçŠ¶æ€æ›´æ–°ï¼‰"><a href="#Mutationï¼ˆçŠ¶æ€æ›´æ–°ï¼‰" class="headerlink" title="Mutationï¼ˆçŠ¶æ€æ›´æ–°ï¼‰"></a>Mutationï¼ˆçŠ¶æ€æ›´æ–°ï¼‰</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://vuex.vuejs.org/vuex.png" alt="çŠ¶æ€ç®¡ç†å›¾ä¾‹"></p><ul><li><p>Vuexçš„storeçŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼ï¼š<code>æäº¤Mutation</code></p></li><li><p>Mutationä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>å­—ç¬¦ä¸²çš„äº‹ä»¶ç±»å‹ï¼ˆtypeï¼‰</li><li>ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆhandlerï¼‰ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œè¯¥å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯state</li></ol></li><li><p>Mutationçš„å®šä¹‰æ–¹å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mutation</span>: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">        state.<span class="property">count</span>++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡Mutationæ›´æ–°(ä¿®æ”¹stateé‡Œçš„æ•°æ®)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">mutation</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="Mutation-æ¥å—å•ä¸ªå‚æ•°"><a href="#Mutation-æ¥å—å•ä¸ªå‚æ•°" class="headerlink" title="Mutation æ¥å—å•ä¸ªå‚æ•°"></a>Mutation æ¥å—å•ä¸ªå‚æ•°</h5><p>mutationæºå¸¦çš„å‚æ•°è¢«ç§°ä¸ºæ˜¯mutationçš„<code>è½½è·(Payload)</code></p><details class="toggle"><summary class="toggle-button">æ¡ˆä¾‹</summary><div class="toggle-content"><p>åœ¨Vuexæµç¨‹çš„æ¡ˆä¾‹ä¸Šä¿®æ”¹ï¼Œæ·»åŠ 2ä¸ªæŒ‰é’®åˆ†åˆ«æ˜¯è®©stateä¸­çš„<code>count+5</code>ã€<code>count+10</code>ï¼Œå¢åŠ 2ä¸ªæŒ‰é’®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addCount(5)&quot;</span>&gt;</span>+5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addCount(10)&quot;</span>&gt;</span>+10<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ–°å¢addCountæ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">addCount (count) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;addCount&#x27;</span>, count) <span class="comment">// å°†countä¼ å…¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å¢ä¸€ä¸ªmutation</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mutation</span>: &#123;</span><br><span class="line">	addCount (state, count) &#123; <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°æ˜¯countï¼Œç¬¬ä¸€ä¸ªå§‹ç»ˆæ˜¯state</span></span><br><span class="line">		state.<span class="property">count</span> += count</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h5 id="Mutation-æ¥å—å¤šä¸ªå‚æ•°"><a href="#Mutation-æ¥å—å¤šä¸ªå‚æ•°" class="headerlink" title="Mutation æ¥å—å¤šä¸ªå‚æ•°"></a>Mutation æ¥å—å¤šä¸ªå‚æ•°</h5><p>å¦‚æœmutationéœ€è¦æ¥å—å¤šä¸ªå‚æ•°ï¼Œæ­¤æ—¶å¯ä»¥ä¼ ä¸€ä¸ªå¯¹è±¡</p><details class="toggle"><summary class="toggle-button">æ¡ˆä¾‹</summary><div class="toggle-content"><p>ä¾‹å¦‚æ–°å¢ä¸€ä¸ªåŠŸèƒ½ç‚¹å‡»æŒ‰é’®æ–°å¢ä¸€ä¸ªå­¦ç”Ÿï¼Œæ­¤æ—¶éœ€è¦ä¼ å­¦ç”Ÿçš„IDã€å§“åã€å¹´é¾„ï¼Œå¯ä»¥å°è£…æˆä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ä¼ å…¥ã€‚</p><ol><li><p>æ–°å¢æŒ‰é’®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addStu()&quot;</span>&gt;</span>æ–°å¢ä¸€ä¸ªæŒ‡å®šçš„å­¦ç”Ÿ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ–°å¢mutation</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addStu (state, stu) &#123;</span><br><span class="line">    state.<span class="property">students</span>.<span class="title function_">push</span>(stu) <span class="comment">// å‘æ•°ç»„ä¸­æ·»åŠ æŒ‡å®šçš„stu</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(state.<span class="property">students</span>.<span class="title function_">find</span>(<span class="function"><span class="params">s</span> =&gt;</span> s.<span class="property">id</span> === stu.<span class="property">id</span>)) <span class="comment">// è¾“å‡ºæ‰“å°æŸ¥çœ‹stateä¸­æ˜¯å¦æœ‰æ–°å¢stu</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å¢(methods)æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addStu () &#123;</span><br><span class="line">    <span class="keyword">const</span> stu = &#123; <span class="attr">id</span>: <span class="number">114</span>, <span class="attr">name</span>: <span class="string">&#x27;zykj&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;35&#x27;</span>&#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;addStu&#x27;</span>, stu)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></div></details><h5 id="Mutation-çš„æäº¤é£æ ¼"><a href="#Mutation-çš„æäº¤é£æ ¼" class="headerlink" title="Mutation çš„æäº¤é£æ ¼"></a>Mutation çš„æäº¤é£æ ¼</h5><ol><li><p>æ™®é€šæäº¤é£æ ¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commot</span>(<span class="string">&#x27;increment&#x27;</span>, count)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶countä¼ è¿‡å»çš„å°±æ˜¯<code>count=10</code></p></li><li><p>å¯¹è±¡æ–¹å¼æäº¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;addCount&#x27;</span>,</span><br><span class="line">    count</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addCount (state, payload) &#123; <span class="comment">// æ­¤æ—¶ä¼ å…¥çš„å°±ä¸æ˜¯ä¸€ä¸ªcountå€¼äº†ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="comment">//è·å–æ—¶ä¹Ÿæ˜¯é€šè¿‡å¯¹è±¡</span></span><br><span class="line">	state.<span class="property">count</span> += payload.<span class="property">count</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶countä¼ è¿‡å»æ˜¯ä¸€ä¸ªå¯¹è±¡<code>payloadï¼ˆè½½è·ï¼‰</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;incrementCount&#x27;</span>,</span><br><span class="line">    <span class="attr">count</span>: <span class="number">10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h5 id="Vuexçš„å“åº”å¼åŸç†"><a href="#Vuexçš„å“åº”å¼åŸç†" class="headerlink" title="Vuexçš„å“åº”å¼åŸç†"></a>Vuexçš„å“åº”å¼åŸç†</h5><ol><li>Vuexçš„storeçš„stateæ˜¯å“åº”å¼çš„ï¼Œå½“stateä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒVueç»„ä»¶ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</li><li>å“åº”å¼éœ€è¦éµå¾ªè§„åˆ™<ul><li>stateçš„å¯¹è±¡éœ€è¦åˆå§‹åŒ–</li><li>å¦‚æœéœ€è¦ç»™stateä¸­çš„å¯¹è±¡æ·»åŠ æ–°å±æ€§çš„æ—¶å€™ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹å¼<ol><li>ä½¿ç”¨<code>Vue.set(obj, &#39;newProp&#39;, 123)</code></li><li><code>ç”¨æ–°å¯¹è±¡æ›¿æ¢æ—§å¯¹è±¡</code></li></ol></li></ul></li></ol><details class="toggle"><summary class="toggle-button">æŸ¥çœ‹ç¤ºä¾‹</summary><div class="toggle-content"><ol><li><p>åœ¨stateä¸­å¢åŠ ä¸€ä¸ªå¯¹è±¡user</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">user</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨app.vueå¢åŠ æŒ‰é’®ä¿®æ”¹ä¿¡æ¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; $store.state.user &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateInfo()&quot;</span>&gt;</span>ä¿®æ”¹ä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>app.vueå¢åŠ æŒ‰updateInfo()æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">updateInfo () &#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;updateInfo&#x27;</span>, <span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨mutationä¸­æ·»åŠ updateInfo()</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">updateInfo (state, age) &#123;</span><br><span class="line">    state.<span class="property">user</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç‚¹å‡»<code>ä¿®æ”¹ä¿¡æ¯</code>æŒ‰é’®ï¼Œå‘ç°stateçš„å€¼å˜åŒ–äº†ï¼Œä½†æ˜¯é¡µé¢æ²¡æœ‰å“åº”å˜åŒ–(æ˜¯å› ä¸ºç›´æ¥ä¿®æ”¹æ•°æ®ä¸æ˜¯ç›¸åº”å¼çš„ã€éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•)</p></li><li><p>ä½¿ç”¨<code>Vue.set()</code>æ–¹æ³•æ”¯æŒå“åº”å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">updateInfo (state, age) &#123;</span><br><span class="line">    <span class="comment">// state.user.age = age</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">set</span>(state.<span class="property">user</span>, <span class="string">&#x27;age&#x27;</span>, <span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å†æ¬¡ç‚¹å‡»<code>ä¿®æ”¹ä¿¡æ¯</code>æŒ‰é’®ï¼Œå‘ç°å˜å“åº”å¼äº†</p></li></ol></div></details><blockquote><p>æ€»ç»“</p></blockquote><ol><li><p>stateæœªåˆå§‹åŒ–å±æ€§ï¼ˆ<code>age</code>ï¼‰</p><ul><li>ä½¿ç”¨ç›´æ¥èµ‹å€¼çš„æ–¹å¼ä¸èƒ½å“åº”å¼</li><li>éœ€è¦ä½¿ç”¨ <code>Vue.set(state.user, &#39;age&#39;, 12)</code></li></ul></li><li><p>stateå·²ç»åˆå§‹åŒ–äº†ï¼Œå¯ä»¥ä½¿ç”¨ç›´æ¥èµ‹å€¼æ–¹å¼</p></li><li><p>å…³äºåˆ é™¤å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥æ–¹æ³•æ²¡æœ‰å“åº”å¼ï¼Œéœ€è¦ä½¿ç”¨Vue.delete</span></span><br><span class="line"><span class="comment">// delete state.user.age</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">delete</span>(state.<span class="property">user</span>, age)<span class="comment">// å“åº”å¼åˆ é™¤age</span></span><br></pre></td></tr></table></figure></li></ol><h5 id="Mutation-çš„ç±»å‹å¸¸é‡"><a href="#Mutation-çš„ç±»å‹å¸¸é‡" class="headerlink" title="Mutation çš„ç±»å‹å¸¸é‡"></a>Mutation çš„ç±»å‹å¸¸é‡</h5><p>ä¸€ä¸ªvueæ–‡ä»¶ä¸­æœ‰å…³mutationçš„æ–¹æ³•å¤ªå¤šäº†ï¼Œå¸¸å¸¸å¯èƒ½å†™é”™ï¼Œæ‰€æœ‰å¯ä»¥åœ¨storeæ–‡ä»¶å¤¹ä¸‹å®šä¹‰ä¸€ä¸ª<code>mutation-type.js</code>çš„å¸¸é‡ã€‚</p><ol><li><p>å®šä¹‰ä¸€ä¸ª<code>mutation-type.js</code>çš„å¸¸é‡ã€å¹¶å°†å…¶å¯¼å‡º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">updateInfo (state, age) &#123;</span><br><span class="line">      <span class="comment">// state.user.age = age</span></span><br><span class="line">      <span class="title class_">Vue</span>.<span class="title function_">set</span>(state.<span class="property">user</span>, <span class="string">&#x27;age&#x27;</span>, <span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹<code>App.vue</code>çš„updateinfoæ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¼å…¥å˜é‡</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">UPDATEINFO</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./store/mutation-type&#x27;</span></span><br><span class="line"></span><br><span class="line">[<span class="variable constant_">UPDATEINFO</span>] () &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="variable constant_">UPDATEINFO</span>, <span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹storeçš„<code>index.js</code>ï¼Œå°†mutationçš„æ–¹æ³•åä¹Ÿæ”¹æˆå¸¸é‡ä½¿ç”¨æ–¹å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">UPDATEINFO</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./mutation-type&#x27;</span></span><br><span class="line"></span><br><span class="line">[<span class="variable constant_">UPDATEINFO</span>] (state, age) &#123;</span><br><span class="line">    <span class="comment">// state.user.age = age</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">set</span>(state.<span class="property">user</span>, <span class="string">&#x27;age&#x27;</span>, <span class="number">12</span>)</span><br><span class="line">    <span class="comment">// è¯¥æ–¹æ³•æ²¡æœ‰å“åº”å¼ï¼Œéœ€è¦ä½¿ç”¨Vue.delete</span></span><br><span class="line">    <span class="comment">// delete state.user.age</span></span><br><span class="line">    <span class="comment">// Vue.delete(state.user, age)// å“åº”å¼åˆ é™¤age</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¿è¯äº†æ‰€æœ‰çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨<code>mutation-type.js</code>ä¸­ï¼Œä¸ä¼šå‡ºé—®é¢˜ã€‚</p></li></ol><h5 id="Mutation-å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°"><a href="#Mutation-å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°" class="headerlink" title="Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°"></a>Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</h5><p>ä¸€æ¡é‡è¦çš„åŸåˆ™å°±æ˜¯è¦è®°ä½ <code>mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</code>ã€‚ä¸ºä»€ä¹ˆï¼Ÿè¯·å‚è€ƒä¸‹é¢çš„ä¾‹å­ï¼š</p><details class="toggle"><summary class="toggle-button">æŸ¥çœ‹ç¤ºä¾‹</summary><div class="toggle-content"><p>ä½¿ç”¨mutationæ“ä½œæ›´æ–°stateçš„æ—¶å€™ï¼Œä½¿ç”¨å¼‚æ­¥ä¿®æ”¹æ•°æ®ã€‚</p><p>ä¿®æ”¹updateInfo()æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="variable constant_">UPDATEINFO</span>] (state, age) &#123;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">set</span>(state.<span class="property">user</span>, <span class="string">&#x27;age&#x27;</span>, <span class="number">12</span>)</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">// å»¶æ—¶æ¨¡æ‹Ÿå¼‚æ­¥ç½‘ç»œè¯·æ±‚</span></span><br><span class="line">        state.<span class="property">user</span>.<span class="property">name</span> = <span class="string">&#x27;lisi&#x27;</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘ç°é¡µé¢çš„æ•°æ®æ”¹å˜äº†ï¼Œä½†æ˜¯vue-devtoolså·¥å…·ä¸­å¹¶æœªè·Ÿè¸ªåˆ°æ”¹å˜ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸è¦åœ¨mutationä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚è¿™é‡Œå°±å¼•å‡ºäº†æˆ‘ä»¬ä¹‹åè¦å­¦ä¹ çš„ Action</p></div></details><p>ç°åœ¨æƒ³è±¡ï¼Œæˆ‘ä»¬æ­£åœ¨ debug ä¸€ä¸ª app å¹¶ä¸”è§‚å¯Ÿ devtool ä¸­çš„ mutation æ—¥å¿—ã€‚æ¯ä¸€æ¡ mutation è¢«è®°å½•ï¼Œdevtools éƒ½éœ€è¦æ•æ‰åˆ°å‰ä¸€çŠ¶æ€å’Œåä¸€çŠ¶æ€çš„å¿«ç…§ã€‚ç„¶è€Œï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ mutation ä¸­çš„å¼‚æ­¥å‡½æ•°ä¸­çš„å›è°ƒè®©è¿™ä¸å¯èƒ½å®Œæˆï¼šå› ä¸ºå½“ mutation è§¦å‘çš„æ—¶å€™ï¼Œå›è°ƒå‡½æ•°è¿˜æ²¡æœ‰è¢«è°ƒç”¨ï¼Œdevtools ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°å®é™…ä¸Šè¢«è°ƒç”¨â€”â€”å®è´¨ä¸Šä»»ä½•åœ¨å›è°ƒå‡½æ•°ä¸­è¿›è¡Œçš„çŠ¶æ€çš„æ”¹å˜éƒ½æ˜¯ä¸å¯è¿½è¸ªçš„ã€‚<code>ç®€å•æ¥è¯´å°±æ˜¯åœ¨mutationä¸Šä½¿ç”¨å¼‚æ­¥å‡½æ•°ä¼šå¯¼è‡´devtoolsä¸èƒ½è¿½è¸ª</code></p><h4 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h4><p>Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p><ul><li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li><li>Action å¯ä»¥åŒ…å«ä»»æ„<code>å¼‚æ­¥æ“ä½œ</code>ã€‚</li></ul><details class="toggle"><summary class="toggle-button">æŸ¥çœ‹ç¤ºä¾‹</summary><div class="toggle-content"><ol><li><p>æ–°å¢ä¸€ä¸ªmutation</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">updateName (state, name) &#123;</span><br><span class="line">	state.<span class="property">user</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å¢ä¸€ä¸ªactionsï¼šç¬¬ä¸€ä¸ªå‚æ•°é»˜è®¤ä¸º context (ä¸Šä¸‹æ–‡),ç¬¬äºŒä¸ªå‚æ•°ä¸º ä¼ å…¥çš„å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// contextï¼šä¸Šä¸‹æ–‡ </span></span><br><span class="line">    aUpdateInfo (context, name) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        	context.<span class="title function_">commit</span>(<span class="string">&#x27;updateName&#x27;</span>, <span class="string">&#x27;zykj&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨<code>App.vue</code>ä¸­æ–°å¢ä¸€ä¸ªæŒ‰é’®ä¿®æ”¹userå¯¹è±¡å§“å</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¼‚æ­¥ä¿®æ”¹çš„ä¿¡æ¯:&#123;&#123; $store.state.user &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;aUpdateInfo()&quot;</span>&gt;</span>å¼‚æ­¥ä¿®æ”¹ä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ç»™æŒ‰é’®æ–°å¢æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aUpdateInfo () &#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºactionsä¸­çš„å‡½æ•°ã€ç¬¬äºŒä¸ªä¸ºå‚æ•°</span></span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;aUpdateInfo&#x27;</span>, <span class="string">&#x27;lisi&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç‚¹å‡»<code>å¼‚æ­¥ä¿®æ”¹ä¿¡æ¯</code>æŒ‰é’®æµ‹è¯•</p><p>åœ¨ç‚¹å‡»æŒ‰é’®ä¹‹åï¼Œä¿¡æ¯ä¿®æ”¹äº†ï¼Œdev-toolsä¹Ÿèƒ½è·Ÿè¸ªåˆ°stateçš„å˜åŒ–ã€‚é€šè¿‡<code>$store.dispacth()</code>æ–¹æ³•æ¥è°ƒç”¨actionsï¼Œå‘é€å¼‚æ­¥è¯·æ±‚ï¼Œåœ¨actionsä¸­éœ€è¦æäº¤mutationæ¥ä¿®æ”¹stateã€‚</p></li><li><p><code>actionså›è°ƒï¼Œåœ¨å¼‚æ­¥æ“ä½œåï¼ŒæˆåŠŸæˆ–è€…å¤±è´¥éƒ½åº”è¯¥ä¼šæœ‰å›è°ƒ</code>ï¼Œ<code>$store.dispacth()</code>è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œä¿®æ”¹actionsï¼Œè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼ŒæˆåŠŸè°ƒç”¨<code>resolve(msg)</code>ï¼Œå°†æˆåŠŸçš„<code>msg</code>ä¼ å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// contextï¼šä¸Šä¸‹æ–‡</span></span><br><span class="line">    aUpdateInfo (context, name) &#123;</span><br><span class="line">        <span class="keyword">let</span> msg = <span class="string">&#x27;å“åº”æˆåŠŸ&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&#x27;updateName&#x27;</span>, <span class="string">&#x27;zykj&#x27;</span>)</span><br><span class="line">                <span class="title function_">resolve</span>(msg)</span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹<code>aUpdateInfo()</code>æ–¹æ³•ï¼Œè·å–å›è°ƒå‚æ•°<code>msg</code>ï¼Œæ­¤æ—¶çš„<code>response</code>å°±æ˜¯actionsä¸­å›è°ƒçš„<code>msg</code>ï¼Œä¹Ÿå¯ä»¥æ”¯æŒå¤±è´¥çš„å›è°ƒï¼Œåªè¦actionsä¸­ä½¿ç”¨äº†rejectï¼Œåœ¨<code>aUpdateInfo()</code>æ–¹æ³•ä¸­catchå›è°ƒç»“æœå°±èƒ½è·å–resjctå¯¹è±¡å›ä¼ ç»“æœã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aUpdateInfo () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;aUpdateInfo&#x27;</span>, <span class="string">&#x27;lisi&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å†æ¬¡ç‚¹å‡»<code>å¼‚æ­¥ä¿®æ”¹ä¿¡æ¯</code>ï¼Œæ‰“å°ç»“æœä¿¡æ¯</p><blockquote><p>Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼(payload)å’Œå¯¹è±¡æ–¹å¼è¿›è¡Œåˆ†å‘</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥è½½è·å½¢å¼åˆ†å‘</span></span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="string">&#x27;aUpdateInfo&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;lisi&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥å¯¹è±¡å½¢å¼åˆ†å‘</span></span><br><span class="line">store.<span class="title function_">dispatch</span>(&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;aUpdateInfo&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;lisi&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol></div></details><h5 id="åˆ†å‘-Action"><a href="#åˆ†å‘-Action" class="headerlink" title="åˆ†å‘ Action"></a>åˆ†å‘ Action</h5><p>Action é€šè¿‡ <code>store.dispatch</code> æ–¹æ³•è§¦å‘ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.<span class="title function_">dispatch</span>(<span class="string">&#x27;mutationä¸­çš„å‡½æ•°å&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="ç»„åˆ-Action"><a href="#ç»„åˆ-Action" class="headerlink" title="ç»„åˆ Action"></a>ç»„åˆ Action</h5><p>Action é€šå¸¸æ˜¯å¼‚æ­¥çš„ï¼Œé‚£ä¹ˆå¦‚ä½•çŸ¥é“ action ä»€ä¹ˆæ—¶å€™ç»“æŸå‘¢ï¼Ÿæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•æ‰èƒ½ç»„åˆå¤šä¸ª actionï¼Œä»¥å¤„ç†æ›´åŠ å¤æ‚çš„å¼‚æ­¥æµç¨‹ï¼Ÿ</p><p>é¦–å…ˆï¼Œä½ éœ€è¦æ˜ç™½ <code>store.dispatch</code> å¯ä»¥å¤„ç†è¢«è§¦å‘çš„ action çš„å¤„ç†å‡½æ•°è¿”å›çš„ Promiseï¼Œå¹¶ä¸” <code>store.dispatch</code> ä»æ—§è¿”å› Promiseï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">  actionA (&#123; commit &#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&#x27;someMutation&#x27;</span>)</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ä½ å¯ä»¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">store.<span class="title function_">dispatch</span>(<span class="string">&#x27;actionA&#x27;</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨å¦å¤–ä¸€ä¸ª action ä¸­ä¹Ÿå¯ä»¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  actionB (&#123; dispatch, commit &#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">dispatch</span>(<span class="string">&#x27;actionA&#x27;</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;someOtherMutation&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ª <code>store.dispatch</code> åœ¨ä¸åŒæ¨¡å—ä¸­å¯ä»¥è§¦å‘å¤šä¸ª action å‡½æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰å½“æ‰€æœ‰è§¦å‘å‡½æ•°å®Œæˆåï¼Œè¿”å›çš„ Promise æ‰ä¼šæ‰§è¡Œã€‚</p><h4 id="moudulesï¼ˆæ¨¡å—ï¼‰"><a href="#moudulesï¼ˆæ¨¡å—ï¼‰" class="headerlink" title="moudulesï¼ˆæ¨¡å—ï¼‰"></a>moudulesï¼ˆæ¨¡å—ï¼‰</h4><p>ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚</p><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ<code>æ¨¡å—ï¼ˆmoduleï¼‰</code>ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ã€‚</p><p>æ¯”å¦‚è¿™æ ·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123; ... &#125;),</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123; ... &#125;),</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: moduleA,</span><br><span class="line">    <span class="attr">b</span>: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.<span class="property">state</span>.<span class="property">a</span> <span class="comment">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class="line">store.<span class="property">state</span>.<span class="property">b</span> <span class="comment">// -&gt; moduleB çš„çŠ¶</span></span><br></pre></td></tr></table></figure><h5 id="æ¨¡å—çš„å±€éƒ¨çŠ¶æ€"><a href="#æ¨¡å—çš„å±€éƒ¨çŠ¶æ€" class="headerlink" title="æ¨¡å—çš„å±€éƒ¨çŠ¶æ€"></a>æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</h5><ol><li><p>æ¨¡å—å†…éƒ¨çš„<code>mutation å’Œ getter</code>ï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡(state)</code>ã€‚</p></li><li><p>æ¨¡å—å†…éƒ¨çš„ actionï¼Œå±€éƒ¨çŠ¶æ€æ˜¯ <code>context.state</code> ï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€åˆ™ä¸º <code>context.rootState</code>ã€‚</p></li><li><p>å¯¹äºæ¨¡å—å†…éƒ¨çš„ getterï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯<code>æ ¹èŠ‚ç‚¹çŠ¶æ€(rootState)</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      <span class="comment">// è¿™é‡Œçš„ state å¯¹è±¡æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</span></span><br><span class="line">      state.<span class="property">count</span>++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    incrementIfOddOnRootSum (context) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((context.<span class="property">state</span>.<span class="property">count</span> + context.<span class="property">rootState</span>.<span class="property">count</span>) % <span class="number">2</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    doubleCount (state, getters, rootState) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(rootState.<span class="property">count</span>) <span class="comment">// è·å–çš„æ˜¯æ ¹çŠ¶æ€çš„count</span></span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">count</span> * <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„actionsçš„context</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    incrementIfOddOnRootSum (&#123; state, commit, rootState &#125;) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((context.<span class="property">state</span>.<span class="property">count</span> + context.<span class="property">rootState</span>.<span class="property">count</span>) % <span class="number">2</span> === <span class="number">1</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>&#123; state, commit, rootState &#125;</code>å¯¹åº”<code>context</code>å¯¹è±¡ä¸­çš„å±æ€§ï¼Œä½¿ç”¨ES6çš„å¯¹è±¡è§£æ„ã€‚</p></li></ol><h5 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h5><div class="note info flat"><p>å®˜ç½‘æ•™ç¨‹: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://vuex.vuejs.org/zh/guide/modules.html">https://vuex.vuejs.org/zh/guide/modules.html</a></p></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter æ˜¯æ³¨å†Œåœ¨<code>å…¨å±€å‘½åç©ºé—´</code>çš„, è¿™æ ·ä½¿å¾—å¤šä¸ªæ¨¡å—èƒ½å¤Ÿå¯¹åŒä¸€ mutation æˆ– action ä½œå‡ºå“åº”ã€‚</p><p>æˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter é»˜è®¤æ˜¯æ³¨å†Œåœ¨å…¨å±€å‘½åç©ºé—´çš„ã€‚å¦‚æœæˆ‘ä»¬åªæƒ³è®©ä»–ä»¬åœ¨å½“å‰çš„æ¨¡å—ä¸­ç”Ÿæ•ˆï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>é€šè¿‡æ·»åŠ  <code>namespaced: true</code> çš„æ–¹å¼ä½¿å…¶æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ã€‚å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    <span class="attr">account</span>: &#123;</span><br><span class="line">      <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰</span></span><br><span class="line">      <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123; ... &#125;), <span class="comment">// æ¨¡å—å†…çš„çŠ¶æ€å·²ç»æ˜¯åµŒå¥—çš„äº†ï¼Œä½¿ç”¨ `namespaced` å±æ€§ä¸ä¼šå¯¹å…¶äº§ç”Ÿå½±å“</span></span><br><span class="line">      <span class="attr">getters</span>: &#123;</span><br><span class="line">        isAdmin () &#123; ... &#125; <span class="comment">// -&gt; getters[&#x27;account/isAdmin&#x27;]</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">actions</span>: &#123;</span><br><span class="line">        login () &#123; ... &#125; <span class="comment">// -&gt; dispatch(&#x27;account/login&#x27;)</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">mutations</span>: &#123;</span><br><span class="line">        login () &#123; ... &#125; <span class="comment">// -&gt; commit(&#x27;account/login&#x27;)</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// åµŒå¥—æ¨¡å—</span></span><br><span class="line">      <span class="attr">modules</span>: &#123;</span><br><span class="line">        <span class="comment">// ç»§æ‰¿çˆ¶æ¨¡å—çš„å‘½åç©ºé—´</span></span><br><span class="line">        <span class="attr">myPage</span>: &#123;</span><br><span class="line">          <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123; ... &#125;),</span><br><span class="line">          <span class="attr">getters</span>: &#123;</span><br><span class="line">            profile () &#123; ... &#125; <span class="comment">// -&gt; getters[&#x27;account/profile&#x27;]</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿›ä¸€æ­¥åµŒå¥—å‘½åç©ºé—´</span></span><br><span class="line">        <span class="attr">posts</span>: &#123;</span><br><span class="line">          <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">          <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123; ... &#125;),</span><br><span class="line">          <span class="attr">getters</span>: &#123;</span><br><span class="line">            popular () &#123; ... &#125; <span class="comment">// -&gt; getters[&#x27;account/posts/popular&#x27;]</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¯ç”¨äº†å‘½åç©ºé—´çš„ getter å’Œ action ä¼šæ”¶åˆ°å±€éƒ¨åŒ–çš„ <code>getter</code>ï¼Œ<code>dispatch</code> å’Œ <code>commit</code>ã€‚æ¢è¨€ä¹‹ï¼Œ<code>ä½ åœ¨ä½¿ç”¨æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰æ—¶ä¸éœ€è¦åœ¨åŒä¸€æ¨¡å—å†…é¢å¤–æ·»åŠ ç©ºé—´åå‰ç¼€</code>ã€‚æ›´æ”¹ <code>namespaced</code> å±æ€§åä¸éœ€è¦ä¿®æ”¹æ¨¡å—å†…çš„ä»£ç ã€‚</p><h6 id="åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ï¼ˆGlobal-Assetsï¼‰"><a href="#åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ï¼ˆGlobal-Assetsï¼‰" class="headerlink" title="åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ï¼ˆGlobal Assetsï¼‰"></a>åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ï¼ˆGlobal Assetsï¼‰</h6><p>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨å…¨å±€ state å’Œ getterï¼Œ<code>rootState</code> å’Œ <code>rootGetters</code> ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥ getterï¼Œä¹Ÿä¼šé€šè¿‡ <code>context</code> å¯¹è±¡çš„å±æ€§ä¼ å…¥ actionã€‚</p><p>è‹¥éœ€è¦åœ¨å…¨å±€å‘½åç©ºé—´å†…åˆ†å‘ action æˆ–æäº¤ mutationï¼Œå°† <code>&#123; root: true &#125;</code> ä½œä¸ºç¬¬ä¸‰å‚æ•°ä¼ ç»™ <code>dispatch</code> æˆ– <code>commit</code> å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">modules</span>: &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">      <span class="comment">// åœ¨è¿™ä¸ªæ¨¡å—çš„ getter ä¸­ï¼Œ`getters` è¢«å±€éƒ¨åŒ–äº†</span></span><br><span class="line">      <span class="comment">// ä½ å¯ä»¥ä½¿ç”¨ getter çš„ç¬¬å››ä¸ªå‚æ•°æ¥è°ƒç”¨ `rootGetters`</span></span><br><span class="line">      someGetter (state, getters, rootState, rootGetters) &#123;</span><br><span class="line">        getters.<span class="property">someOtherGetter</span> <span class="comment">// -&gt; &#x27;foo/someOtherGetter&#x27;</span></span><br><span class="line">        rootGetters.<span class="property">someOtherGetter</span> <span class="comment">// -&gt; &#x27;someOtherGetter&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">someOtherGetter</span>: <span class="function"><span class="params">state</span> =&gt;</span> &#123; ... &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">      <span class="comment">// åœ¨è¿™ä¸ªæ¨¡å—ä¸­ï¼Œ dispatch å’Œ commit ä¹Ÿè¢«å±€éƒ¨åŒ–äº†</span></span><br><span class="line">      <span class="comment">// ä»–ä»¬å¯ä»¥æ¥å— `root` å±æ€§ä»¥è®¿é—®æ ¹ dispatch æˆ– commit</span></span><br><span class="line">      someAction (&#123; dispatch, commit, getters, rootGetters &#125;) &#123;</span><br><span class="line">        getters.<span class="property">someGetter</span> <span class="comment">// -&gt; &#x27;foo/someGetter&#x27;</span></span><br><span class="line">        rootGetters.<span class="property">someGetter</span> <span class="comment">// -&gt; &#x27;someGetter&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="string">&#x27;someOtherAction&#x27;</span>) <span class="comment">// -&gt; &#x27;foo/someOtherAction&#x27;</span></span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="string">&#x27;someOtherAction&#x27;</span>, <span class="literal">null</span>, &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;) <span class="comment">// -&gt; &#x27;someOtherAction&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&#x27;someMutation&#x27;</span>) <span class="comment">// -&gt; &#x27;foo/someMutation&#x27;</span></span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&#x27;someMutation&#x27;</span>, <span class="literal">null</span>, &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;) <span class="comment">// -&gt; &#x27;someMutation&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      someOtherAction (ctx, payload) &#123; ... &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€-action"><a href="#åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€-action" class="headerlink" title="åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ action"></a>åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ action</h6><p>è‹¥éœ€è¦åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ actionï¼Œä½ å¯æ·»åŠ  <code>root: true</code>ï¼Œå¹¶å°†è¿™ä¸ª action çš„å®šä¹‰æ”¾åœ¨å‡½æ•° <code>handler</code> ä¸­ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    someOtherAction (&#123;dispatch&#125;) &#123;</span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="string">&#x27;someAction&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    <span class="attr">foo</span>: &#123;</span><br><span class="line">      <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">      <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="attr">someAction</span>: &#123;</span><br><span class="line">          <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">          handler (namespacedContext, payload) &#123; ... &#125; <span class="comment">// -&gt; &#x27;someAction&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h4><p>Vuex å¹¶ä¸é™åˆ¶ä½ çš„ä»£ç ç»“æ„ã€‚ä½†æ˜¯ï¼Œå®ƒè§„å®šäº†ä¸€äº›éœ€è¦éµå®ˆçš„è§„åˆ™ï¼š</p><ol><li>åº”ç”¨å±‚çº§çš„çŠ¶æ€åº”è¯¥é›†ä¸­åˆ°å•ä¸ª store å¯¹è±¡ä¸­ã€‚</li><li>æäº¤ <code>mutation</code> æ˜¯æ›´æ”¹çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥çš„ã€‚</li><li>å¼‚æ­¥é€»è¾‘éƒ½åº”è¯¥å°è£…åˆ° <code>action</code> é‡Œé¢ã€‚</li></ol><p>åªè¦ä½ éµå®ˆä»¥ä¸Šè§„åˆ™ï¼Œå¦‚ä½•ç»„ç»‡ä»£ç éšä½ ä¾¿ã€‚å¦‚æœä½ çš„ store æ–‡ä»¶å¤ªå¤§ï¼Œåªéœ€å°† actionã€mutation å’Œ getter åˆ†å‰²åˆ°å•ç‹¬çš„æ–‡ä»¶ã€‚</p><p>å¯¹äºå¤§å‹åº”ç”¨ï¼Œæˆ‘ä»¬ä¼šå¸Œæœ›æŠŠ Vuex ç›¸å…³ä»£ç åˆ†å‰²åˆ°æ¨¡å—ä¸­ã€‚ä¸‹é¢æ˜¯é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ main.js</span><br><span class="line">â”œâ”€â”€ api</span><br><span class="line">â”‚   â””â”€â”€ ... ## æŠ½å–å‡ºAPIè¯·æ±‚</span><br><span class="line">â”œâ”€â”€ components</span><br><span class="line">â”‚   â”œâ”€â”€ App.vue</span><br><span class="line">â”‚   â””â”€â”€ ...</span><br><span class="line">â””â”€â”€ store</span><br><span class="line">    â”œâ”€â”€ index.js          ## æˆ‘ä»¬ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹</span><br><span class="line">    â”œâ”€â”€ actions.js        ## æ ¹çº§åˆ«çš„ action</span><br><span class="line">    â”œâ”€â”€ mutations.js      ## æ ¹çº§åˆ«çš„ mutation</span><br><span class="line">    â””â”€â”€ modules</span><br><span class="line">        â”œâ”€â”€ cart.js       ## è´­ç‰©è½¦æ¨¡å—</span><br><span class="line">        â””â”€â”€ products.js   ## äº§å“æ¨¡å—</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://zykj.js.org">ZYKJ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://zykj.js.org/posts/413c71da/">https://zykj.js.org/posts/413c71da/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://zykj.js.org" target="_blank">ZYKJ's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuexstudy-cover.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>èµåŠ©</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/5650a45b/" title="Axioså­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva2.sinaimg.cn/large/0072Vf1pgy1foxkfnmbgcj31kw0w0qsa.jpg" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Axioså­¦ä¹ </div></div></a></div><div class="next-post pull-right"><a href="/posts/581025ac/" title="å¦‚ä½•ä½¿ç”¨CSSæˆ–è€…Pråšå‡ºæ–°æ‹Ÿæ€æ•ˆæœ"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/neumorphism-cover.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å¦‚ä½•ä½¿ç”¨CSSæˆ–è€…Pråšå‡ºæ–°æ‹Ÿæ€æ•ˆæœ</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/22686bb0/" title="Vue-CLIå­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vueclistudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-06-27</div><div class="title">Vue-CLIå­¦ä¹ </div></div></a></div><div><a href="/posts/f9d8baf9/" title="Vue.jsè¿›é˜¶"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuestudy2-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-06-09</div><div class="title">Vue.jsè¿›é˜¶</div></div></a></div><div><a href="/posts/e400c46/" title="Nuxt.js å­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-08-12</div><div class="title">Nuxt.js å­¦ä¹ </div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>è¯„è®º</span></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vuex%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">Vuexå­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFVuex"><span class="toc-number">1.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯Vuex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vuex%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">VuexåŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vuex%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-number">1.3.</span> <span class="toc-text">Vuexçš„æµç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vuex%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.4.</span> <span class="toc-text">Vuexçš„æ ¸å¿ƒæ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#State%EF%BC%88%E5%8D%95%E4%B8%80%E7%8A%B6%E6%80%81%E6%A0%91%EF%BC%89"><span class="toc-number">1.4.1.</span> <span class="toc-text">Stateï¼ˆå•ä¸€çŠ¶æ€æ ‘ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mapstate%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">mapstateè¾…åŠ©å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Getters"><span class="toc-number">1.4.2.</span> <span class="toc-text">Getters</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">é€šè¿‡å±æ€§è®¿é—®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%96%B9%E6%B3%95%E8%AE%BF%E9%97%AE"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">é€šè¿‡æ–¹æ³•è®¿é—®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#mapGetters-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">mapGetters è¾…åŠ©å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mutation%EF%BC%88%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%EF%BC%89"><span class="toc-number">1.4.3.</span> <span class="toc-text">Mutationï¼ˆçŠ¶æ€æ›´æ–°ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Mutation-%E6%8E%A5%E5%8F%97%E5%8D%95%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">Mutation æ¥å—å•ä¸ªå‚æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mutation-%E6%8E%A5%E5%8F%97%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">Mutation æ¥å—å¤šä¸ªå‚æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mutation-%E7%9A%84%E6%8F%90%E4%BA%A4%E9%A3%8E%E6%A0%BC"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">Mutation çš„æäº¤é£æ ¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Vuex%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">Vuexçš„å“åº”å¼åŸç†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mutation-%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%B8%B8%E9%87%8F"><span class="toc-number">1.4.3.5.</span> <span class="toc-text">Mutation çš„ç±»å‹å¸¸é‡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mutation-%E5%BF%85%E9%A1%BB%E6%98%AF%E5%90%8C%E6%AD%A5%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.3.6.</span> <span class="toc-text">Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Action"><span class="toc-number">1.4.4.</span> <span class="toc-text">Action</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E5%8F%91-Action"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">åˆ†å‘ Action</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%84%E5%90%88-Action"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">ç»„åˆ Action</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#moudules%EF%BC%88%E6%A8%A1%E5%9D%97%EF%BC%89"><span class="toc-number">1.4.5.</span> <span class="toc-text">moudulesï¼ˆæ¨¡å—ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%B1%80%E9%83%A8%E7%8A%B6%E6%80%81"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">å‘½åç©ºé—´</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%A8%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A8%A1%E5%9D%97%E5%86%85%E8%AE%BF%E9%97%AE%E5%85%A8%E5%B1%80%E5%86%85%E5%AE%B9%EF%BC%88Global-Assets%EF%BC%89"><span class="toc-number">1.4.5.2.1.</span> <span class="toc-text">åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ï¼ˆGlobal Assetsï¼‰</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%A8%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A8%A1%E5%9D%97%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80-action"><span class="toc-number">1.4.5.2.2.</span> <span class="toc-text">åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ action</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.4.6.</span> <span class="toc-text">é¡¹ç›®ç»“æ„</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuexstudy-cover.png)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By ZYKJ</div><div class="framework-info"><span>æ¡†æ¶</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" data-pjax-state=""><b>jsDelivr</b></a> | HOST BY <a target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer"><b>Vercel</b></a> | HOST BY <a target="_blank" href="https://www.cloudflare-cn.com/" rel="external nofollow noreferrer"><b>Cloudflare</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.imzykj.cn",region:"",onCommentLoaded:()=>{btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"==typeof twikoo?setTimeout(t,0):getScript("https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js").then(t)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script><script>(()=>{let e=window.walineFn||null;const n=e=>{const n=e(Object.assign({el:"#waline-wrap",serverURL:"https://waline.imzykj.cn",pageview:!1,dark:'html[data-theme="dark"]',path:window.location.pathname,comment:!1},{pageSize:10,requiredMeta:["nick","mail"],login:"enable",copyright:!0,imageUploader:!1,locale:{admin:"åšä¸»",sofa:"è¿™é‡Œå†·å†·æ¸…æ¸…çš„ï¼Œå¿«æ¥ç•™ä¸‹è„šå°å§ï¼",placeholder:"æ‚¨çš„è¯„è®ºçš„å›å¤ä¸ä¼šæœ‰é‚®ä»¶æç¤ºï¼Œè¿˜è¯·è§è°…ï¼"},emoji:["https://npm.elemecdn.com/sticker-heo/Sticker-100/","https://npm.elemecdn.com/telegram-gif/Telegram-Gif/","https://npm.elemecdn.com/@waline/emojis/tw-emoji/"]}));btf.addGlobalFn("pjax",()=>{n.destroy()},"destroyWaline")},i=async()=>{if(e)n(e);else{await getCSS("https://cdn.jsdelivr.net/npm/@waline/client@3.1.2/dist/waline.min.css");const{init:i}=await import("https://cdn.jsdelivr.net/npm/@waline/client@3.1.2/dist/waline.min.js");e=i||Waline.init,n(e),window.walineFn=e}};window.loadOtherComment=i})()</script></div><script>window.addEventListener("load",()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++)t+="<div class='aside-list-item'>",t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <div class='name'><span>${e[n].nick} / </span><time datetime="${e[n].date}">${btf.diffDate(e[n].date,!0)}</time></div>\n        </div></div>`;else t+="æ²¡æœ‰è¯„è®º";let n=document.querySelector("#card-newest-comments .aside-list");n&&(n.innerHTML=t),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.imzykj.cn",region:"",pageSize:3,includeReply:!0}).then((function(t){const n=t.map(e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[å›¾ç‰‡]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[é“¾æ¥]")).replace(/<pre><code>.*?<\/pre>/gi,"[ä»£ç ]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t});saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").textContent="æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"}))};"object"==typeof twikoo?t():getScript("https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)})</script><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>ğŸš€ ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸ“‘</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">ç‚¹æˆ‘æ›´æ–°</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"ğŸš€ åšå®¢å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸŒ",backgroundColor:t,duration:5e5,pos:e,actionText:"ç‚¹æˆ‘æ›´æ–°âš¡",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/link/"]):not([href="/shuoshuo/"]):not([href="/friendcircle/"]):not([href="/about/"]):not([href="/me/"]):not([href="/posts/e297feab/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(btf.removeGlobalFnEvent("pjax"),btf.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>