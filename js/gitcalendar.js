"use strict";function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var gitcalendar=new Vue({el:"#gitcalendar",data:{simplemode:!0,user:"zykjofficial",fixed:"fixed",px:"px",x:"",y:"",span1:"",span2:"",month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthchange:[],oneyearbeforeday:"",thisday:"",amonthago:"",aweekago:"",weekdatacore:0,datacore:0,total:0,datadate:"",data:[],positionplusdata:[],firstweek:[],lastweek:[],beforeweek:[],thisweekdatacore:0,mounthbeforeday:0,mounthfirstindex:0,crispedges:"crispedges",thisdayindex:0,amonthagoindex:0,amonthagoweek:[],firstdate:[],first2date:[],montharrbefore:[],monthindex:0,purple:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"],green:["#ebedf0","#f0fff4","#dcffe4","#bef5cb","#85e89d","#34d058","#28a745","#22863a","#176f2c","#165c26","#144620"],blue:["#ebedf0","#f1f8ff","#dbedff","#c8e1ff","#79b8ff","#2188ff","#0366d6","#005cc5","#044289","#032f62","#05264c"],color:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"]},methods:{selectStyle:function(e,t){document.querySelector(".angle-wrapper").style.display="block",this.span1=e.date,this.span2=e.count,this.x=t.clientX-100,this.y=t.clientY-60},outStyle:function(){document.querySelector(".angle-wrapper").style.display="none"},thiscolor:function(e){if(0===e){parseInt(e/2);return this.color[0]}if(e<2)return this.color[1];if(e<20){e=parseInt(e/2);return this.color[e]}return this.color[9]}}}),githubapiurl="https://githubapi.ryanchristian.dev/user/"+gitcalendar.user;function responsiveChart(){var t=document.getElementById("gitcanvas");if(t){var e=document.getElementById("gitmessage"),a=t.getContext("2d");t.width=document.getElementById("gitcalendarcanvasbox").offsetWidth;var n=.96*t.width/gitcalendar.data.length;t.height=9*n;var r,l=.8*n,i={x:.02*t.width,y:.025*t.width};for(r in gitcalendar.data){var o,d=gitcalendar.data[r];for(o in d){var c={date:"",count:"",x:0,y:0};gitcalendar.positionplusdata.push(c),a.fillStyle=gitcalendar.thiscolor(d[o].count),i.y=Math.round(100*i.y)/100,c.date=d[o].date,c.count=d[o].count,c.x=i.x,c.y=i.y,a.fillRect(i.x,i.y,l,l),i.y=i.y+n}i.y=.025*t.width,i.x=i.x+n}a.font="600  Arial",a.fillStyle="#aaa",a.fillText("日",0,1.9*n),a.fillText("二",0,3.9*n),a.fillText("四",0,5.9*n),a.fillText("六",0,7.9*n);var s,f=t.width/24;for(s in gitcalendar.monthchange)a.fillText(gitcalendar.monthchange[s],f,.7*n),f+=t.width/12;e.onmousemove=function(e){document.querySelector(".angle-wrapper").style.display="none"},t.onmousemove=function(e){document.querySelector(".angle-wrapper").style.display="none",function(e,t){var a=e.getBoundingClientRect(),n=t.clientX-a.left*(e.width/a.width),r=t.clientY-a.top*(e.height/a.height),i=_createForOfIteratorHelper(gitcalendar.positionplusdata);try{for(i.s();!(c=i.n()).done;){var o=c.value,d=n-o.x,c=r-o.y;0<d&&d<l&&0<c&&c<l&&(document.querySelector(".angle-wrapper").style.display="block",gitcalendar.span1=o.date,gitcalendar.span2=o.count,gitcalendar.x=t.clientX-100,gitcalendar.y=t.clientY-60)}}catch(e){i.e(e)}finally{i.f()}}(t,e)}}}function addlastmonth(){0===gitcalendar.thisdayindex?(thisweekcore(52),thisweekcore(51),thisweekcore(50),thisweekcore(49),thisweekcore(48),gitcalendar.thisweekdatacore+=gitcalendar.firstdate[6].count,gitcalendar.amonthago=gitcalendar.firstdate[6].date):(thisweekcore(52),thisweekcore(51),thisweekcore(50),thisweekcore(49),thisweek2core(),gitcalendar.amonthago=gitcalendar.first2date[gitcalendar.thisdayindex-1].date)}function thisweek2core(){for(var e=gitcalendar.thisdayindex-1;e<gitcalendar.first2date.length;e++)gitcalendar.thisweekdatacore+=gitcalendar.first2date[e].count}function thisweekcore(e){var t=_createForOfIteratorHelper(gitcalendar.data[e]);try{for(t.s();!(a=t.n()).done;){var a=a.value;gitcalendar.thisweekdatacore+=a.count}}catch(e){t.e(e)}finally{t.f()}}function addlastweek(){var t=_createForOfIteratorHelper(gitcalendar.lastweek);try{for(t.s();!(e=t.n()).done;){var e=e.value;gitcalendar.weekdatacore+=e.count}}catch(e){t.e(e)}finally{t.f()}}function addbeforeweek(){for(var e=gitcalendar.thisdayindex;e<gitcalendar.beforeweek.length;e++)gitcalendar.weekdatacore+=gitcalendar.beforeweek[e].count}function addweek(e){6===gitcalendar.thisdayindex?(gitcalendar.aweekago=gitcalendar.lastweek[0].date,addlastweek()):(lastweek=e.contributions[51],gitcalendar.aweekago=lastweek[gitcalendar.thisdayindex+1].date,addlastweek(),addbeforeweek())}fetch(githubapiurl).then(function(e){return e.json()}).then(function(e){gitcalendar.data=e.contributions,gitcalendar.total=e.total,gitcalendar.first2date=gitcalendar.data[48],gitcalendar.firstdate=gitcalendar.data[47],gitcalendar.firstweek=e.contributions[0],gitcalendar.lastweek=e.contributions[52],gitcalendar.beforeweek=e.contributions[51],gitcalendar.thisdayindex=gitcalendar.lastweek.length-1,gitcalendar.thisday=gitcalendar.lastweek[gitcalendar.thisdayindex].date,gitcalendar.oneyearbeforeday=gitcalendar.firstweek[0].date,gitcalendar.monthindex=+gitcalendar.thisday.substring(5,7),gitcalendar.montharrbefore=gitcalendar.month.splice(gitcalendar.monthindex,12-gitcalendar.monthindex),gitcalendar.monthchange=gitcalendar.montharrbefore.concat(gitcalendar.month),addweek(e),addlastmonth(),gitcalendar.simplemode&&responsiveChart()}).catch(function(e){console.log(e)}),document.getElementById("gitcalendarcanvasbox").offsetWidth<500&&(gitcalendar.simplemode=!1),window.onresize=function(){gitcalendar.simplemode&&responsiveChart()},window.onscroll=function(){document.querySelector(".angle-wrapper")&&(document.querySelector(".angle-wrapper").style.display="none")};