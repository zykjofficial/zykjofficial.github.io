<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Nuxt.js å­¦ä¹  | ZYKJ's Blog</title><meta name="author" content="ZYKJ"><meta name="copyright" content="ZYKJ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚é€šè¿‡å¯¹å®¢æˆ·ç«¯&#x2F;æœåŠ¡ç«¯åŸºç¡€æ¶æ„çš„æŠ½è±¡ç»„ç»‡ï¼ŒNuxt.js ä¸»è¦å…³æ³¨çš„æ˜¯åº”ç”¨çš„ UI æ¸²æŸ“ã€‚"><meta property="og:type" content="article"><meta property="og:title" content="Nuxt.js å­¦ä¹ "><meta property="og:url" content="https://zykj.js.org/posts/e400c46/index.html"><meta property="og:site_name" content="ZYKJ&#39;s Blog"><meta property="og:description" content="Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚é€šè¿‡å¯¹å®¢æˆ·ç«¯&#x2F;æœåŠ¡ç«¯åŸºç¡€æ¶æ„çš„æŠ½è±¡ç»„ç»‡ï¼ŒNuxt.js ä¸»è¦å…³æ³¨çš„æ˜¯åº”ç”¨çš„ UI æ¸²æŸ“ã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg"><meta property="article:published_time" content="2020-08-12T14:25:24.000Z"><meta property="article:modified_time" content="2020-08-12T14:25:24.000Z"><meta property="article:author" content="ZYKJ"><meta property="article:tag" content="Vue"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"><link rel="canonical" href="https://zykj.js.org/posts/e400c46/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{const n=a.globalFn||{};n[e]=n[e]||{},o&&n[e][o]||(n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n)}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),c=window.matchMedia("(prefers-color-scheme: dark)"),r=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(r.matches)a();else if(c.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}c.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?o():a())})}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:{limitDay:30,position:"top",messagePrev:"è¿™ç¯‡æ–‡ç« å·²ç»å‘è¡¨äº†",messageNext:"å¤©äº†ï¼Œå…¶ä¸­éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶å¤±è´¥",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"å¤©",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"null",Snackbar:{chs_to_cht:"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡",cht_to_chs:"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡",day_to_night:"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼",night_to_day:"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-center"},infinitegrid:{js:"https://gcore.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Nuxt.js å­¦ä¹ ",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2020-08-12 22:25:24"}</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="/css/zykjcss.css" media="all" onload='this.media="all",this.onload=null'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ZYKJ's Blog" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='onerror=null,src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/friend_404.gif"' alt="avatar"></div><div class="site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">30</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>éšæœº</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-book"></i> <span>æ–‡ç« </span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-brands fa-line"></i> <span>ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>å‹é“¾</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>ç•™è¨€</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ZYKJ's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Nuxt.js å­¦ä¹ </span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random_post/"><i class="fa-fw fas fa-random"></i> <span>éšæœº</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-book"></i> <span>æ–‡ç« </span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/game/arknights/"><i class="fa-fw fa-solid fa-gamepad"></i> <span>Arknights</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-brands fa-line"></i> <span>ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i> <span>å‹é“¾</span></a></li><li><a class="site-page child" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>ç•™è¨€</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Nuxt.js å­¦ä¹ </h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2020-08-12T14:25:24.000Z" title="å‘è¡¨äº 2020-08-12 22:25:24">2020-08-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2020-08-12T14:25:24.000Z" title="æ›´æ–°äº 2020-08-12 22:25:24">2020-08-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/">Webæ•™ç¨‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">6.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>24åˆ†é’Ÿ</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Nuxt-js-å­¦ä¹ "><a href="#Nuxt-js-å­¦ä¹ " class="headerlink" title="Nuxt.js å­¦ä¹ "></a>Nuxt.js å­¦ä¹ </h2><div class="note green icon-padding simple"><i class="note-icon fas fa-rocket"></i><p>ğŸ“š Vue å­¦ä¹ ç›®å½•</p><p>ğŸš€ <a href="/posts/4a869c3f/">Vue.jsåŸºç¡€å­¦ä¹ </a> - ğŸ“ <a href="/posts/f9d8baf9/">Vue.jsè¿›é˜¶</a> - ğŸ”¦ <a href="/posts/f13afe2d/">webpackå­¦ä¹ </a></p><p>ğŸ“¦ <a href="/posts/22686bb0/">Vue-CLIå­¦ä¹ </a> - ğŸ“Œ <a href="/posts/ed3da/">Vue-routerå­¦ä¹ </a> - ğŸ”® <a href="/posts/413c71da/">Vuexå­¦ä¹ </a> - ğŸ€ <a href="/posts/e400c46/">Nuxt.js å­¦ä¹ </a></p></div><p>åœ¨å­¦ä¹ Nuxt.jsä¹‹å‰ã€æˆ‘ä»¬è¦çŸ¥é“ä»€ä¹ˆæ˜¯<code>å®¢æˆ·ç«¯æ¸²æŸ“(SPA)</code>å’Œ<code>æœåŠ¡ç«¯æ¸²æŸ“(SSR)</code></p><h3 id="å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“"><a href="#å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“"></a>å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“</h3><ul><li><p>å®¢æˆ·ç«¯æ¸²æŸ“ (SPA:single page application): ç”¨æˆ·é€šè¿‡åœ°å€æ æˆ–è€…é“¾æ¥æ ‡ç­¾è¿›å…¥ä¸€ä¸ªæ–°çš„é“¾æ¥åï¼Œå‘æœåŠ¡å™¨<code>å‘å‡ºè¯·æ±‚</code>ï¼Œ<code>æœåŠ¡å™¨ç›´æ¥æ ¹æ®é“¾æ¥è¿”å›ä¸€ä¸ªhtmlé¡µé¢(æ²¡æœ‰æ•°æ®)</code>ï¼Œé¡µé¢ä¸­çš„<code>æ•°æ®æ¸²æŸ“åˆ™æ˜¯ç”±é¡µé¢ä¸­çš„ajaxå®Œæˆ</code>ï¼Œ<code>ajaxå†æ¬¡å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚æ•°æ®çš„è¯·æ±‚</code>ï¼Œç„¶å<code>å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“</code></p><p><code>ä¼˜ç‚¹</code>:</p><ol><li><p>å‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ•ˆç‡é«˜ã€‚</p></li><li><p>ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œæˆ‘ä»¬å°†ç½‘ç«™åšæˆSPAï¼ˆå•é¡µé¢åº”ç”¨ï¼‰æˆ–è€…éƒ¨åˆ†å†…å®¹åšæˆSPAï¼Œå½“ç”¨æˆ·ç‚¹å‡»æ—¶ï¼Œä¸ä¼šå½¢æˆé¢‘ç¹çš„è·³è½¬ã€‚</p></li></ol><p><code>ç¼ºç‚¹:</code></p><ol><li><p>å‰ç«¯å“åº”é€Ÿåº¦æ…¢ï¼Œç‰¹åˆ«æ˜¯é¦–å±ï¼Œè¿™æ ·ç”¨æˆ·æ˜¯å—ä¸äº†çš„ã€‚</p></li><li><p>ä¸åˆ©äºSEOä¼˜åŒ–ï¼Œå› ä¸ºçˆ¬è™«ä¸è®¤è¯†SPAï¼Œæ‰€ä»¥å®ƒåªæ˜¯è®°å½•äº†ä¸€ä¸ªé¡µé¢ã€‚</p></li></ol></li><li><p>æœåŠ¡ç«¯æ¸²æŸ“ (SSR:server side netdering): ç”¨æˆ·é€šè¿‡åœ°å€æ æˆ–è€…é“¾æ¥è¿›å…¥ä¸€ä¸ªæœåŠ¡å™¨æ‰€ç›‘å¬çš„æœåŠ¡å™¨çš„è·¯å¾„ï¼ŒæœåŠ¡å™¨åˆ™æ ¹æ®<code>è¯¥è·¯å¾„è¿”å›ä¸€ä¸ªé¡µé¢(æœ‰æ•°æ®)</code>ï¼Œé¡µé¢çš„æ•°æ®æ¸²æŸ“åœ¨æœåŠ¡å™¨å†…ç”±æœåŠ¡å™¨å®Œæˆï¼Œ<code>å®¢æˆ·ç«¯åªéœ€è¦å‘é€ä¸€æ¬¡è¯·æ±‚</code>ï¼Œ<code>ä¸ç”¨ajax</code></p><p><code>ä¼˜ç‚¹:</code></p><ol><li>å°½é‡ä¸å ç”¨å‰ç«¯çš„èµ„æºï¼Œå‰ç«¯è¿™å—è€—æ—¶å°‘ï¼Œé€Ÿåº¦å¿«ã€‚</li><li>æœ‰åˆ©äºSEOä¼˜åŒ–ï¼Œå› ä¸ºåœ¨åç«¯æœ‰å®Œæ•´çš„htmlé¡µé¢ï¼Œæ‰€ä»¥çˆ¬è™«æ›´å®¹æ˜“çˆ¬å–ä¿¡æ¯ã€‚</li></ol><p><code>ç¼ºç‚¹:</code></p><ol><li>ä¸åˆ©äºå‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘çš„æ•ˆç‡é™ä½äº†ã€‚</li><li>å¯¹htmlçš„è§£æï¼Œå¯¹å‰ç«¯æ¥è¯´åŠ å¿«äº†é€Ÿåº¦ï¼Œä½†æ˜¯åŠ å¤§äº†æœåŠ¡å™¨çš„å‹åŠ›ã€‚</li></ol></li></ul><h3 id="Vue-æœåŠ¡ç«¯æ¸²æŸ“"><a href="#Vue-æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="Vue æœåŠ¡ç«¯æ¸²æŸ“"></a>Vue æœåŠ¡ç«¯æ¸²æŸ“</h3><p>å®˜ç½‘: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://ssr.vuejs.org/zh/">https://ssr.vuejs.org/zh/</a></p><p>é€šè¿‡<code>npm init</code>åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®</p><p><code>npmå®‰è£…</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue vue-server-netderer --save</span><br></pre></td></tr></table></figure><h4 id="æ¸²æŸ“ä¸€ä¸ª-Vue-å®ä¾‹"><a href="#æ¸²æŸ“ä¸€ä¸ª-Vue-å®ä¾‹" class="headerlink" title="æ¸²æŸ“ä¸€ä¸ª Vue å®ä¾‹"></a>æ¸²æŸ“ä¸€ä¸ª Vue å®ä¾‹</h4><p>index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ 1 æ­¥ï¼šåˆ›å»ºä¸€ä¸ª Vue å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Vue</span> = <span class="built_in">require</span>(<span class="string">&#x27;vue&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">`&lt;div&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&quot;Hello world&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ 2 æ­¥ï¼šåˆ›å»ºä¸€ä¸ª netderer</span></span><br><span class="line"><span class="keyword">const</span> netderer = <span class="built_in">require</span>(<span class="string">&#x27;vue-server-netderer&#x27;</span>).<span class="title function_">createnetderer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ 2.5.0+ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥å›è°ƒå‡½æ•°ï¼Œåˆ™ä¼šè¿”å› Promiseï¼š</span></span><br><span class="line">netderer.<span class="title function_">netderToString</span>(app).<span class="title function_">then</span>(<span class="function"><span class="params">html</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(html)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é€šè¿‡node index.js</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200810103044.png"></p><p>å¯ä»¥çœ‹åˆ°ã€ç›´æ¥å°†templateä¸­çš„æ¨¡æ¿æ¸²æŸ“æˆäº†html<code>&lt;div data-server-netdered=&quot;true&quot;&gt;Hello world&lt;/div&gt;</code>å…ƒç´ </p><h4 id="ä¸æœåŠ¡å™¨é›†æˆ"><a href="#ä¸æœåŠ¡å™¨é›†æˆ" class="headerlink" title="ä¸æœåŠ¡å™¨é›†æˆ"></a>ä¸æœåŠ¡å™¨é›†æˆ</h4><p><code>index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Vue</span> = <span class="built_in">require</span>(<span class="string">&#x27;vue&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> server = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)()</span><br><span class="line"><span class="keyword">const</span> netderer = <span class="built_in">require</span>(<span class="string">&#x27;vue-server-netderer&#x27;</span>).<span class="title function_">createnetderer</span>()</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">get</span>(<span class="string">&#x27;*&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">        <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;ä½ å¥½ã€ä¸–ç•Œï¼&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">template</span>: <span class="string">`&lt;div&gt;æ¬¢è¿è®¿é—® &#123;&#123; message &#125;&#125;&lt;/div&gt;`</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    netderer.<span class="title function_">netderToString</span>(app, <span class="function">(<span class="params">err, html</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            res.<span class="title function_">status</span>(<span class="number">500</span>).<span class="title function_">end</span>(<span class="string">&#x27;Internal Server Error&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-type&#x27;</span>, <span class="string">&#x27;text/html;charset=utf-8&#x27;</span>);</span><br><span class="line">        res.<span class="title function_">end</span>(<span class="string">`</span></span><br><span class="line"><span class="string">      &lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">      &lt;html lang=&quot;en&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;head&gt;&lt;title&gt;Hello&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">        &lt;body&gt;<span class="subst">$&#123;html&#125;</span>&lt;/body&gt;</span></span><br><span class="line"><span class="string">      &lt;/html&gt;</span></span><br><span class="line"><span class="string">    `</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æºä»£ç æˆ‘ä»¬å¯ä»¥çœ‹çš„ã€é¡µé¢å·²ç»æ¸²æŸ“æˆäº†HTMLæ ‡ç­¾</p><h3 id="Nuxt-js"><a href="#Nuxt-js" class="headerlink" title="Nuxt.js"></a>Nuxt.js</h3><p>ä¸‹å›¾é˜è¿°äº† Nuxt.js åº”ç”¨ä¸€ä¸ªå®Œæ•´çš„æœåŠ¡å™¨è¯·æ±‚åˆ°æ¸²æŸ“ï¼ˆæˆ–ç”¨æˆ·é€šè¿‡ <code>&lt;nuxt-link&gt;</code> åˆ‡æ¢è·¯ç”±æ¸²æŸ“é¡µé¢ï¼‰çš„æµç¨‹ï¼š</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.nuxtjs.cn/nuxt-schema.svg"></p><h4 id="Nuxt-js-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Nuxt-js-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Nuxt.js æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Nuxt.js æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>å®˜ç½‘: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://zh.nuxtjs.org/">https://zh.nuxtjs.org/</a></p><p>Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚</p><p>é€šè¿‡å¯¹å®¢æˆ·ç«¯&#x2F;æœåŠ¡ç«¯åŸºç¡€æ¶æ„çš„æŠ½è±¡ç»„ç»‡ï¼ŒNuxt.js ä¸»è¦å…³æ³¨çš„æ˜¯åº”ç”¨çš„ <strong>UI æ¸²æŸ“</strong>ã€‚</p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªçµæ´»çš„åº”ç”¨æ¡†æ¶ï¼Œä½ å¯ä»¥åŸºäºå®ƒåˆå§‹åŒ–æ–°é¡¹ç›®çš„åŸºç¡€ç»“æ„ä»£ç ï¼Œæˆ–è€…åœ¨å·²æœ‰ Node.js é¡¹ç›®ä¸­ä½¿ç”¨ Nuxt.jsã€‚</p><p>Nuxt.js é¢„è®¾äº†åˆ©ç”¨ Vue.js å¼€å‘<strong>æœåŠ¡ç«¯æ¸²æŸ“</strong>çš„åº”ç”¨æ‰€éœ€è¦çš„å„ç§é…ç½®ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†ä¸€ç§å‘½ä»¤å«ï¼š<code>nuxt generate</code> ï¼Œä¸ºåŸºäº Vue.js çš„åº”ç”¨æä¾›ç”Ÿæˆå¯¹åº”çš„é™æ€ç«™ç‚¹çš„åŠŸèƒ½ã€‚</p><p>æˆ‘ä»¬ç›¸ä¿¡è¿™ä¸ªå‘½ä»¤æ‰€æä¾›çš„åŠŸèƒ½ï¼Œæ˜¯å‘å¼€å‘é›†æˆå„ç§å¾®æœåŠ¡ï¼ˆMicroservicesï¼‰çš„ Web åº”ç”¨è¿ˆå¼€çš„æ–°ä¸€æ­¥ã€‚</p><p>ä½œä¸ºæ¡†æ¶ï¼ŒNuxt.js ä¸º <code>å®¢æˆ·ç«¯/æœåŠ¡ç«¯</code> è¿™ç§å…¸å‹çš„åº”ç”¨æ¶æ„æ¨¡å¼æä¾›äº†è®¸å¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼Œä¾‹å¦‚å¼‚æ­¥æ•°æ®åŠ è½½ã€ä¸­é—´ä»¶æ”¯æŒã€å¸ƒå±€æ”¯æŒç­‰ã€‚</p><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>Nuxt.js å›¢é˜Ÿåˆ›å»ºäº†è„šæ‰‹æ¶å·¥å…· <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/nuxt/create-nuxt-app">create-nuxt-app</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-nuxt-app &lt;é¡¹ç›®å&gt;</span><br></pre></td></tr></table></figure><p>è§£é‡Šä¸€ä¸‹<code>npx</code>ï¼š</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.ruanyifeng.com/blog/2019/02/npx.html">http://www.ruanyifeng.com/blog/2019/02/npx.html</a></p><p>è¿™ä¸ªæ˜¯åœ¨ npm<code>v5.2.0</code>å¼•å…¥çš„ä¸€æ¡å‘½ä»¤ï¼ˆ<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/npm/npm/releases/tag/v5.2.0">æŸ¥çœ‹</a>ï¼‰ï¼Œå¼•å…¥è¿™ä¸ªå‘½ä»¤çš„ç›®çš„æ˜¯ä¸ºäº†æå‡å¼€å‘è€…ä½¿ç”¨åŒ…å†…æä¾›çš„å‘½ä»¤è¡Œå·¥å…·çš„ä½“éªŒã€‚</p><ul><li><p>å¯ä»¥é€šè¿‡npx è°ƒç”¨é¡¹ç›®å®‰è£…çš„æ¨¡å—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</span></span><br><span class="line">$ node-modules/.bin/mocha --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># npx è°ƒç”¨</span></span><br><span class="line">$ npx mocha --version</span><br></pre></td></tr></table></figure></li><li><p><code>create-nuxt-app</code>è¿™ä¸ªæ¨¡å—æ˜¯å…¨å±€å®‰è£…ï¼Œnpx å¯ä»¥è¿è¡Œå®ƒï¼Œè€Œä¸”ä¸è¿›è¡Œå…¨å±€å®‰è£…ã€‚npx å°†<code>create-nuxt-app</code>ä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤ã€‚æ‰€ä»¥ï¼Œä»¥åå†æ¬¡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šé‡æ–°ä¸‹è½½<code>create-nuxt-app</code>ã€‚</p></li></ul><p>npxå‘½ä»¤æ‰¾åŒ…é¡ºåºï¼šå…ˆè‡ªåŠ¨æŸ¥æ‰¾å½“å‰ä¾èµ–åŒ…ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šå» PATH é‡Œæ‰¾ã€‚å¦‚æœä¾ç„¶æ‰¾ä¸åˆ°ï¼Œå°±ä¼šå¸®ä½ ä¸´æ—¶å®‰è£…ï¼Œæ‰§è¡Œå®Œåå†åˆ é™¤åŒ…ã€‚</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200810110938.png"></p><p>å®ƒä¼šè®©ä½ è¿›è¡Œä¸€äº›é€‰æ‹©:</p><ol><li><p>é¡¹ç›®åç§°<code>Project name:</code> ç›´æ¥å›è½¦</p></li><li><p>ç¨‹åºè¯­è¨€<code>Programming language: (Use arrow keys):</code> <code>JavaScriptå’ŒTypeScript</code> ã€é€‰æ‹©<code>JavaScript</code></p></li><li><p>åŒ…ç®¡ç†å·¥å…·<code>Package manager: (Use arrow keys):</code> <code>Yarnå’ŒNPM</code> ã€é€‰æ‹©<code>NPM</code></p></li><li><p>UIæ¡†æ¶<code>UI framework: (Use arrow keys)</code>:None (æ— ) <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/bootstrap-vue/bootstrap-vue">Bootstrap</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vuetifyjs/vuetify">Vuetify</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jgthms/bulma">Bulma</a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/tailwindcss/tailwindcss">Tailwind</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ElemeFE/element">Element UI</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vueComponent/ant-design-vue">Ant Design Vue</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/buefy/buefy">Buefy</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/iview/iview">iView</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/tachyons-css/tachyons">Tachyons</a></p></li><li><p>æ¨¡å—<code>Nuxt.js modules</code>: <code>Axioså’ŒProgressive Web App (PWA)å’ŒContent</code> é€‰æ‹©<code>Axios</code></p></li><li><p>åœ¨ä¿å­˜æ—¶ä»£ç è§„èŒƒå’Œé”™è¯¯æ£€æŸ¥æ‚¨çš„ä»£ç Linting tools: <code>ESLintã€Prettierã€Lint staged filesã€StyleLint</code></p></li><li><p>æµ‹è¯•æ¡†æ¶<code>Testing framework</code>: <code>None Jest AVA WebdriverIO</code></p></li><li><p>æ¸²æŸ“æ¨¡å¼<code>netdering mode</code></p><blockquote><p>Universal (SSR &#x2F; SSG)<br>Single Page App</p></blockquote></li><li><p><code>Deployment target</code></p><blockquote><p>Server (Node.js hosting)</p></blockquote><blockquote><p>Static (Static&#x2F;JAMStack hosting)</p></blockquote></li><li><p><code>Development tools</code>:</p><blockquote><p>jsconfig.json (Recommended for VS Code if youâ€™re not using typescript)<br>Semantic Pull Requests</p></blockquote></li></ol><p>å½“è¿è¡Œå®Œæ—¶ï¼Œå®ƒå°†å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå› æ­¤ä¸‹ä¸€æ­¥æ˜¯å¯åŠ¨é¡¹ç›®:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;project-name&gt;</span><br><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure><p>åº”ç”¨ç°åœ¨è¿è¡Œåœ¨ <a target="_blank" rel="noopener external nofollow noreferrer" href="http://localhost:3000/">http://localhost:3000</a> ä¸Šè¿è¡Œã€‚</p><p>æ³¨æ„ï¼šNuxt.js ä¼šç›‘å¬ pages ç›®å½•ä¸­çš„æ–‡ä»¶æ›´æ”¹ï¼Œå› æ­¤åœ¨æ·»åŠ æ–°é¡µé¢æ—¶æ— éœ€é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚</p><h4 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ assets    		èµ„æºç›®å½•                       </span><br><span class="line">â”œâ”€â”€ components      ç»„ä»¶ç›®å½•                    </span><br><span class="line">â”‚   â””â”€â”€ Logo.vue                   </span><br><span class="line">â”œâ”€â”€ layouts      	å¸ƒå±€ç›®å½•                        </span><br><span class="line">â”‚   â””â”€â”€ default.vue                   </span><br><span class="line">â”œâ”€â”€ middleware		ä¸­é—´ä»¶ç›®å½•</span><br><span class="line">â”œâ”€â”€ pages 			é¡µé¢ç›®å½•</span><br><span class="line">â”‚   â””â”€â”€ index.vue</span><br><span class="line">â”œâ”€â”€ plugins			æ’ä»¶ç›®å½•</span><br><span class="line">â”œâ”€â”€ static			é™æ€æ–‡ä»¶ç›®å½•</span><br><span class="line">â”œâ”€â”€ store			Vuex çŠ¶æ€æ ‘æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ .editorconfig</span><br><span class="line">â”œâ”€â”€ .eslintrc.js</span><br><span class="line">â”œâ”€â”€ .gitgnore</span><br><span class="line">â”œâ”€â”€ nuxt.config.js ä¸ªæ€§åŒ–é…ç½®</span><br><span class="line">â””â”€â”€ package.json        </span><br></pre></td></tr></table></figure><ul><li><p>èµ„æºç›®å½• <code>assets</code> ç”¨äºç»„ç»‡æœªç¼–è¯‘çš„é™æ€èµ„æºå¦‚ <code>LESS</code>ã€<code>SASS</code> æˆ– <code>JavaScript</code>ã€‚</p></li><li><p>ç»„ä»¶ç›®å½• <code>components</code> ç”¨äºç»„ç»‡åº”ç”¨çš„ Vue.js ç»„ä»¶ã€‚Nuxt.js ä¸ä¼šæ‰©å±•å¢å¼ºè¯¥ç›®å½•ä¸‹ Vue.js ç»„ä»¶ï¼Œå³è¿™äº›ç»„ä»¶ä¸ä¼šåƒé¡µé¢ç»„ä»¶é‚£æ ·æœ‰ <code>asyncData</code> æ–¹æ³•çš„ç‰¹æ€§ã€‚</p></li><li><p>å¸ƒå±€ç›®å½• <code>layouts</code> ç”¨äºç»„ç»‡åº”ç”¨çš„å¸ƒå±€ç»„ä»¶ã€‚</p></li><li><p><code>middleware</code> ç›®å½•ç”¨äºå­˜æ”¾åº”ç”¨çš„ä¸­é—´ä»¶ã€‚</p></li><li><p>é¡µé¢ç›®å½• <code>pages</code> ç”¨äºç»„ç»‡åº”ç”¨çš„è·¯ç”±åŠè§†å›¾ã€‚Nuxt.js æ¡†æ¶è¯»å–è¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„ <code>.vue</code> æ–‡ä»¶å¹¶è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„è·¯ç”±é…ç½®ã€‚</p></li><li><p>æ’ä»¶ç›®å½• <code>plugins</code> ç”¨äºç»„ç»‡é‚£äº›éœ€è¦åœ¨ <code>æ ¹vue.jsåº”ç”¨</code> å®ä¾‹åŒ–ä¹‹å‰éœ€è¦è¿è¡Œçš„ Javascript æ’ä»¶ã€‚</p></li><li><p>é™æ€æ–‡ä»¶ç›®å½• <code>static</code> ç”¨äºå­˜æ”¾åº”ç”¨çš„é™æ€æ–‡ä»¶ï¼Œæ­¤ç±»æ–‡ä»¶ä¸ä¼šè¢« Nuxt.js è°ƒç”¨ Webpack è¿›è¡Œæ„å»ºç¼–è¯‘å¤„ç†ã€‚æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šæ˜ å°„è‡³åº”ç”¨çš„æ ¹è·¯å¾„ <code>/</code> ä¸‹ã€‚</p><p><strong>ä¸¾ä¸ªä¾‹å­:</strong> <code>/static/robots.txt</code> æ˜ å°„è‡³ <code>/robots.txt</code></p></li><li><p><code>store</code> ç›®å½•ç”¨äºç»„ç»‡åº”ç”¨çš„ <a target="_blank" rel="noopener external nofollow noreferrer" href="http://vuex.vuejs.org/">Vuex çŠ¶æ€æ ‘</a> æ–‡ä»¶ã€‚ Nuxt.js æ¡†æ¶é›†æˆäº† <a target="_blank" rel="noopener external nofollow noreferrer" href="http://vuex.vuejs.org/">Vuex çŠ¶æ€æ ‘</a> çš„ç›¸å…³åŠŸèƒ½é…ç½®ï¼Œåœ¨ <code>store</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>index.js</code> æ–‡ä»¶å¯æ¿€æ´»è¿™äº›é…ç½®ã€‚</p></li><li><p><code>nuxt.config.js</code> æ–‡ä»¶ç”¨äºç»„ç»‡ Nuxt.js åº”ç”¨çš„ä¸ªæ€§åŒ–é…ç½®ï¼Œä»¥ä¾¿è¦†ç›–é»˜è®¤é…ç½®ã€‚</p></li><li><p><code>package.json</code> æ–‡ä»¶ç”¨äºæè¿°åº”ç”¨çš„ä¾èµ–å…³ç³»å’Œå¯¹å¤–æš´éœ²çš„è„šæœ¬æ¥å£ã€‚</p></li></ul><table><thead><tr><th>åˆ«å</th><th>ç›®å½•</th></tr></thead><tbody><tr><td><code>~</code> æˆ– <code>@</code></td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zh.nuxtjs.org/api/configuration-srcdir">srcDir</a></td></tr><tr><td><code>~~</code> æˆ– <code>@@</code></td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zh.nuxtjs.org/api/configuration-rootdir">rootDir</a></td></tr></tbody></table><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>srcDir</code> å’Œ <code>rootDir</code> ç›¸åŒã€‚</p><p><strong>æç¤º:</strong> åœ¨æ‚¨çš„ <code>vue</code> æ¨¡æ¿ä¸­, å¦‚æœä½ éœ€è¦å¼•å…¥ <code>assets</code> æˆ–è€… <code>static</code> ç›®å½•, ä½¿ç”¨ <code>~/assets/your_image.png</code> å’Œ <code>~/static/your_image.png</code>æ–¹å¼ã€‚</p><h4 id="è·¯ç”±é…ç½®"><a href="#è·¯ç”±é…ç½®" class="headerlink" title="è·¯ç”±é…ç½®"></a>è·¯ç”±é…ç½®</h4><blockquote><p>Nuxt.js ä¼šæ ¹æ® pages ç›®å½•ä¸‹çš„ç›®å½•ç»“æ„è‡ªåŠ¨ç”Ÿæˆ vue-router æ¨¡å—çš„è·¯ç”±é…ç½®</p></blockquote><p>ç±»ä¼¼<code>Vue-router</code>ä¸­çš„<a href="https://zykj.js.org/posts/ed3da#lt-router-link-gt-%E7%9A%84%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7"><code>router-link</code></a>ã€åœ¨é¡µé¢ä¹‹é—´è·³è½¬ä½¿ç”¨<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/components-nuxt-link"><code>nuxt-link</code></a> æ ‡ç­¾</p><p>ä¾‹å¦‚:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">&quot;/user&quot;</span>&gt;</span>è¿›å…¥ä¸ªäººé¡µ<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="åŸºç¡€è·¯ç”±"><a href="#åŸºç¡€è·¯ç”±" class="headerlink" title="åŸºç¡€è·¯ç”±"></a>åŸºç¡€è·¯ç”±</h5><p>å‡è®¾ <code>pages</code> çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pages/</span><br><span class="line">--| user/</span><br><span class="line">-----| index.vue</span><br><span class="line">-----| one.vue</span><br><span class="line">--| index.vue</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼ŒNuxt.js è‡ªåŠ¨ç”Ÿæˆçš„è·¯ç”±é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">router</span>: &#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;index&#x27;</span>,</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="string">&#x27;pages/index.vue&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/user&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="string">&#x27;pages/user/index.vue&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;user-one&#x27;</span>,</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/user/one&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="string">&#x27;pages/user/one.vue&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>åµŒå¥—è·¯ç”±</code></p><p>å½“ç„¶ã€ä½ è¿˜å¯ä»¥ä½¿ç”¨å¦ä¸€ç§<code>ç›®å½•ç»“æ„</code>: <code>user.vueã€userç›®å½•ã€userç›®å½•ä¸‹çš„one.vue</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pages/</span><br><span class="line">--| user/</span><br><span class="line">-----| one.vue</span><br><span class="line">--| index.vue</span><br><span class="line">--| user.vue</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä½ è¦è®¿é—®<code>userä¸‹çš„one.vue: /user/one</code> éœ€è¦åœ¨<code>user.vue</code> æ·»åŠ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://zh.nuxtjs.org/api/components-nuxt-child/"><code>&lt;nuxt-child/&gt;</code></a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- user.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      æˆ‘æ˜¯ç”¨æˆ·é¡µ</span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt-child</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="åŠ¨æ€è·¯ç”±"><a href="#åŠ¨æ€è·¯ç”±" class="headerlink" title="åŠ¨æ€è·¯ç”±"></a>åŠ¨æ€è·¯ç”±</h5><p>åœ¨ Nuxt.js é‡Œé¢å®šä¹‰<code>å¸¦å‚æ•°</code>çš„åŠ¨æ€è·¯ç”±ï¼Œéœ€è¦åˆ›å»ºå¯¹åº”çš„<code>ä»¥ä¸‹åˆ’çº¿ä½œä¸ºå‰ç¼€</code>çš„ Vue æ–‡ä»¶</p><p>ä¾‹å¦‚:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pages/</span><br><span class="line">--| detail/</span><br><span class="line">-----| _id.vue</span><br><span class="line">--| index.vue</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨<code>index.vue</code>è¿›è¡Œæ“ä½œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      è¿™é‡Œæ˜¯indexé¡µé¢</span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in dataList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick(item)&quot;</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">dataList</span>: [<span class="string">&quot;info&quot;</span>,<span class="string">&quot;data&quot;</span>,<span class="string">&quot;now&quot;</span>,<span class="string">&quot;time&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">handleClick</span>(<span class="params">data</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/detail/&quot;</span>+data)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>_id.vue</code> æ³¨æ„: é€šè¿‡<code>$route.params</code>å–å¾—çš„å‚æ•°åä¸º<code>ä»¥ä¸‹åˆ’çº¿ä½œä¸ºå‰ç¼€</code>çš„å†…å®¹ ã€ä¾‹: <code>_id.vueã€è·å–å°±æ˜¯é€šè¿‡ $route.params.id ä¼ å…¥çš„å‚æ•°</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        &#123;&#123; $route.params.id &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>å‚æ•°æ£€éªŒ</code></p><p>åˆ¤æ–­å‚æ•°æ˜¯å¦åˆæ³•æ¥è¿”å›é¡µé¢ <code>validate</code></p><p>ç®€å•åˆ¤æ–­ä¸€ä¸‹ä»¥æ•°å­—å¼€å¤´ã€<code>validate</code>è¿”å›ä¸ºå‡æ—¶è·³è½¬é”™è¯¯é¡µé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘çš„id: &#123;&#123; $route.params.me &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">layout</span>: <span class="string">&quot;me&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">validate</span>(<span class="params">&#123;params&#125;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="regexp">/^\d+/</span>.<span class="title function_">test</span>(params.<span class="property">me</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥åœ¨<code>.nuxt</code>ç›®å½•ä¸‹<code>router.js</code>çœ‹çš„è·¯ç”±ç»“æ„</p><h4 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h4><p>è§†å›¾çš„æ•´ä½“å¸ƒå±€å›¾å¦‚ä¸‹æ‰€ç¤º:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.nuxtjs.cn/nuxt-views-schema.svg"></p><h5 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h5><blockquote><p>å®šåˆ¶åŒ–é»˜è®¤çš„ html æ¨¡æ¿ï¼Œåªéœ€è¦åœ¨ src æ–‡ä»¶å¤¹ä¸‹ï¼ˆé»˜è®¤æ˜¯åº”ç”¨æ ¹ç›®å½•ï¼‰åˆ›å»ºä¸€ä¸ª <code>app.html</code> çš„æ–‡ä»¶ã€‚</p></blockquote><p>é»˜è®¤æ¨¡æ¿:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> &#123;&#123; <span class="attr">HTML_ATTRS</span> &#125;&#125;&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span> &#123;&#123; <span class="attr">HEAD_ATTRS</span> &#125;&#125;&gt;</span></span><br><span class="line">    &#123;&#123; HEAD &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> &#123;&#123; <span class="attr">BODY_ATTRS</span> &#125;&#125;&gt;</span></span><br><span class="line">    &#123;&#123; APP &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 9]&gt;&lt;html lang=&quot;en-US&quot; class=&quot;lt-ie9 ie9&quot; &#123;&#123; HTML_ATTRS &#125;&#125;&gt;&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if (gt IE 9)|!(IE)]&gt;&lt;!--&gt;</span><span class="tag">&lt;<span class="name">html</span> &#123;&#123; <span class="attr">HTML_ATTRS</span> &#125;&#125;&gt;</span><span class="comment">&lt;!--&lt;![endif]--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span> &#123;&#123; <span class="attr">HEAD_ATTRS</span> &#125;&#125;&gt;</span></span><br><span class="line">    &#123;&#123; HEAD &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> &#123;&#123; <span class="attr">BODY_ATTRS</span> &#125;&#125;&gt;</span></span><br><span class="line">      æˆ‘æ˜¯app.htmlé‡Œçš„å†…å®¹</span><br><span class="line">    &#123;&#123; APP &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200811204457.png"></p><h5 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h5><blockquote><p>Nuxt.js å…è®¸ä½ æ‰©å±•é»˜è®¤çš„å¸ƒå±€ï¼Œæˆ–åœ¨ <code>layout</code> ç›®å½•ä¸‹åˆ›å»ºè‡ªå®šä¹‰çš„å¸ƒå±€</p></blockquote><h6 id="é»˜è®¤å¸ƒå±€"><a href="#é»˜è®¤å¸ƒå±€" class="headerlink" title="é»˜è®¤å¸ƒå±€"></a>é»˜è®¤å¸ƒå±€</h6><p>åœ¨<code>vue-routerä¸­</code>ã€ä½¿ç”¨<code>router-view</code>ç”¨æ¥æ˜¾ç¤ºé¡µé¢</p><p>åœ¨nuxtã€å¸ƒå±€æ–‡ä»¶(layouts)ä¸­æ·»åŠ  <code>&lt;nuxt/&gt;</code> ç»„ä»¶ç”¨äºæ˜¾ç¤ºé¡µé¢çš„ä¸»ä½“å†…å®¹ã€‚</p><p>é»˜è®¤å¸ƒå±€<code>default.vue</code>æºç å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nuxt</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="è‡ªå®šä¹‰å¸ƒå±€"><a href="#è‡ªå®šä¹‰å¸ƒå±€" class="headerlink" title="è‡ªå®šä¹‰å¸ƒå±€"></a>è‡ªå®šä¹‰å¸ƒå±€</h6><p>å¦‚æœä¸æƒ³ä½¿ç”¨nuxtçš„é»˜è®¤å¸ƒå±€é¡µé¢ã€å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å¸ƒå±€ï¼š</p><ul><li>åœ¨<code>layouts</code>ç›®å½•ä¸‹åˆ›å»ºå¸ƒå±€æ–‡ä»¶<code>xxx.vue</code> ã€å¹¶ä¸”è¦æœ‰<code>&lt;nuxt /&gt;</code> å¦åˆ™åªæ˜¾ç¤º<code>xxx.vue</code>é‡Œçš„å†…å®¹</li><li>åœ¨éœ€è¦çš„ä½¿ç”¨çš„é¡µé¢ä¸­æ·»åŠ <code>layout: xxx</code>(ä¸éœ€è¦.vue)</li></ul><p>ä¾‹å¦‚:</p><p>å‡è®¾æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª <em>åšå®¢å¸ƒå±€</em> å¹¶å°†å…¶ä¿å­˜åˆ°<code>layouts/blog.vue</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>æˆ‘çš„åšå®¢å¯¼èˆªæ åœ¨è¿™é‡Œ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¿…é¡»å‘Šè¯‰é¡µé¢ (å³<code>pages/posts.vue</code>) ä½¿ç”¨æ‚¨çš„è‡ªå®šä¹‰å¸ƒå±€ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Your template --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">layout</span>: <span class="string">&#x27;blog&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// page component definitions</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šæœ‰å…³ <code>layout</code> å±æ€§ä¿¡æ¯: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/pages-layout">API é¡µé¢ <code>å¸ƒå±€</code></a></p><h6 id="é”™è¯¯é¡µé¢"><a href="#é”™è¯¯é¡µé¢" class="headerlink" title="é”™è¯¯é¡µé¢"></a>é”™è¯¯é¡µé¢</h6><blockquote><p>ä½ å¯ä»¥é€šè¿‡ç¼–è¾‘ <code>layouts/error.vue</code> æ–‡ä»¶æ¥å®šåˆ¶åŒ–é”™è¯¯é¡µé¢.</p></blockquote><p>è¿™ä¸ªå¸ƒå±€æ–‡ä»¶ä¸éœ€è¦åŒ…å« <code>&lt;nuxt/&gt;</code> æ ‡ç­¾ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªå¸ƒå±€æ–‡ä»¶å½“æˆæ˜¯æ˜¾ç¤ºåº”ç”¨é”™è¯¯ï¼ˆ404ï¼Œ500 ç­‰ï¼‰çš„ç»„ä»¶ã€‚</p><p>å®˜æ–¹æä¾›çš„ä¸€ä¸ªç®€å•çš„é¡µé¢ <code>layouts/error.vue</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;error.statusCode === 404&quot;</span>&gt;</span>é¡µé¢ä¸å­˜åœ¨<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>åº”ç”¨å‘ç”Ÿé”™è¯¯å¼‚å¸¸<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>é¦– é¡µ<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">props</span>: [<span class="string">&#x27;error&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">layout</span>: <span class="string">&#x27;blog&#x27;</span> <span class="comment">// ä½ å¯ä»¥ä¸ºé”™è¯¯é¡µé¢æŒ‡å®šè‡ªå®šä¹‰çš„å¸ƒå±€</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="é¡µé¢"><a href="#é¡µé¢" class="headerlink" title="é¡µé¢"></a>é¡µé¢</h6><p>é¡µé¢ç»„ä»¶å®é™…ä¸Šæ˜¯ Vue ç»„ä»¶ï¼Œåªä¸è¿‡ Nuxt.js ä¸ºè¿™äº›ç»„ä»¶æ·»åŠ äº†ä¸€äº›ç‰¹æ®Šçš„é…ç½®é¡¹ï¼ˆå¯¹åº” Nuxt.js æä¾›çš„åŠŸèƒ½ç‰¹æ€§ï¼‰ä»¥ä¾¿ä½ èƒ½å¿«é€Ÿå¼€å‘é€šç”¨åº”ç”¨ã€‚</p><p>Nuxt.jsæä¾›çš„ç‰¹æ®Šé…ç½®é¡¹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>å±æ€§å</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>asyncData</code></td><td>æœ€é‡è¦çš„ä¸€ä¸ªé”®, æ”¯æŒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/guide/async-data">å¼‚æ­¥æ•°æ®å¤„ç†</a>ï¼Œå¦å¤–è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå½“å‰é¡µé¢ç»„ä»¶çš„ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1">ä¸Šä¸‹æ–‡å¯¹è±¡</a>ã€‚</td></tr><tr><td><code>fetch</code></td><td>ä¸ <code>asyncData</code> æ–¹æ³•ç±»ä¼¼ï¼Œç”¨äºåœ¨æ¸²æŸ“é¡µé¢ä¹‹å‰è·å–æ•°æ®å¡«å……åº”ç”¨çš„çŠ¶æ€æ ‘ï¼ˆstoreï¼‰ã€‚ä¸åŒçš„æ˜¯ <code>fetch</code> æ–¹æ³•ä¸ä¼šè®¾ç½®ç»„ä»¶çš„æ•°æ®ã€‚è¯¦æƒ…è¯·å‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/pages-fetch">å…³äº fetch æ–¹æ³•çš„æ–‡æ¡£</a>ã€‚</td></tr><tr><td><code>head</code></td><td>é…ç½®å½“å‰é¡µé¢çš„ Meta æ ‡ç­¾, è¯¦æƒ…å‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/pages-head">é¡µé¢å¤´éƒ¨é…ç½® API</a>ã€‚</td></tr><tr><td><code>layout</code></td><td>æŒ‡å®šå½“å‰é¡µé¢ä½¿ç”¨çš„å¸ƒå±€ï¼ˆ<code>layouts</code> æ ¹ç›®å½•ä¸‹çš„å¸ƒå±€æ–‡ä»¶ï¼‰ã€‚è¯¦æƒ…è¯·å‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/pages-layout">å…³äº å¸ƒå±€ çš„æ–‡æ¡£</a>ã€‚</td></tr><tr><td><code>loading</code></td><td>å¦‚æœè®¾ç½®ä¸º<code>false</code>ï¼Œåˆ™é˜»æ­¢é¡µé¢è‡ªåŠ¨è°ƒç”¨<code>this.$nuxt.$loading.finish()</code>å’Œ<code>this.$nuxt.$loading.start()</code>,æ‚¨å¯ä»¥æ‰‹åŠ¨æ§åˆ¶å®ƒ,è¯·çœ‹<a target="_blank" rel="noopener external nofollow noreferrer" href="https://nuxtjs.org/examples/custom-page-loading">ä¾‹å­</a>,ä»…é€‚ç”¨äºåœ¨ nuxt.config.js ä¸­è®¾ç½®<code>loading</code>çš„æƒ…å†µä¸‹ã€‚è¯·å‚è€ƒ<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/configuration-loading">API é…ç½® <code>loading</code> æ–‡æ¡£</a>ã€‚</td></tr><tr><td><code>transition</code></td><td>æŒ‡å®šé¡µé¢åˆ‡æ¢çš„è¿‡æ¸¡åŠ¨æ•ˆ, è¯¦æƒ…è¯·å‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/pages-transition">é¡µé¢è¿‡æ¸¡åŠ¨æ•ˆ</a>ã€‚</td></tr><tr><td><code>scrollToTop</code></td><td>å¸ƒå°”å€¼ï¼Œé»˜è®¤: <code>false</code>ã€‚ ç”¨äºåˆ¤å®šæ¸²æŸ“é¡µé¢å‰æ˜¯å¦éœ€è¦å°†å½“å‰é¡µé¢æ»šåŠ¨è‡³é¡¶éƒ¨ã€‚è¿™ä¸ªé…ç½®ç”¨äº <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/guide/routing#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1">åµŒå¥—è·¯ç”±</a>çš„åº”ç”¨åœºæ™¯ã€‚</td></tr><tr><td><code>validate</code></td><td>æ ¡éªŒæ–¹æ³•ç”¨äºæ ¡éªŒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/guide/routing#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1">åŠ¨æ€è·¯ç”±</a>çš„å‚æ•°ã€‚</td></tr><tr><td><code>middleware</code></td><td>æŒ‡å®šé¡µé¢çš„ä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶ä¼šåœ¨é¡µé¢æ¸²æŸ“ä¹‹å‰è¢«è°ƒç”¨ï¼Œ è¯·å‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/guide/routing#%E4%B8%AD%E9%97%B4%E4%BB%B6">è·¯ç”±ä¸­é—´ä»¶</a>ã€‚</td></tr></tbody></table><p>å…³äºé¡µé¢é…ç½®é¡¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api">é¡µé¢ API</a>ã€‚</p><h6 id="HTMLå¤´éƒ¨"><a href="#HTMLå¤´éƒ¨" class="headerlink" title="HTMLå¤´éƒ¨"></a>HTMLå¤´éƒ¨</h6><p>Nuxt.js ä½¿ç”¨äº† <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/nuxt/vue-meta"><code>vue-meta</code></a> æ›´æ–°åº”ç”¨çš„ <code>å¤´éƒ¨æ ‡ç­¾(Head)</code> and <code>html å±æ€§</code>ã€‚</p><p>Nuxt.js ä½¿ç”¨ä»¥ä¸‹å‚æ•°é…ç½® <code>vue-meta</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">keyName</span>: <span class="string">&#x27;head&#x27;</span>, <span class="comment">// è®¾ç½® meta ä¿¡æ¯çš„ç»„ä»¶å¯¹è±¡çš„å­—æ®µï¼Œvue-meta ä¼šæ ¹æ®è¿™ key å€¼è·å– meta ä¿¡æ¯</span></span><br><span class="line">  <span class="attr">attribute</span>: <span class="string">&#x27;n-head&#x27;</span>, <span class="comment">// vue-meta åœ¨ç›‘å¬æ ‡ç­¾æ—¶æ‰€æ·»åŠ çš„å±æ€§å</span></span><br><span class="line">  <span class="attr">ssrAttribute</span>: <span class="string">&#x27;n-head-ssr&#x27;</span>, <span class="comment">// è®© vue-meta è·çŸ¥ meta ä¿¡æ¯å·²å®ŒæˆæœåŠ¡ç«¯æ¸²æŸ“çš„å±æ€§å</span></span><br><span class="line">  <span class="attr">tagIDKeyName</span>: <span class="string">&#x27;hid&#x27;</span> <span class="comment">// è®© vue-meta ç”¨æ¥å†³å®šæ˜¯å¦è¦†ç›–è¿˜æ˜¯è¿½åŠ  tag çš„å±æ€§å</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h4><p>å¦‚æœæˆ‘ä»¬æƒ³è®¿é—®<code>http://localhost:3000/</code>æƒ³è·³è½¬åˆ°<code>http://localhost:3000/user</code> ã€é…ç½®å®Œè®°å¾—é‡æ–°å¯åŠ¨</p><p>æ–¹æ³•1ï¼š<code>nuxt.config.js</code>é…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">router</span>:&#123;</span><br><span class="line">    <span class="title function_">extendRoutes</span>(<span class="params">routes</span>)&#123;</span><br><span class="line">        routes.<span class="title function_">push</span>(&#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">redirect</span>: <span class="string">&quot;/user&quot;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·è®¿é—®æ ¹ç›®å½•å°±ä¼šé‡å®šå‘åˆ°<code>/user</code></p><p>ä½†æ˜¯æˆ‘å‘ç°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœ æ ¹ç›®å½•<code>/</code>ä¹Ÿå°±æ˜¯<code>index.vue</code> å­˜åœ¨çš„è¯ã€é€šè¿‡è·¯ç”±è·³è½¬ä¸èµ·ä½œç”¨ã€è§£å†³åŠæ³•å°±æ˜¯åˆ é™¤<code>index.vue</code>ã€æˆ–è€…ä½¿ç”¨ä¸­é—´ä»¶çš„æ–¹æ³•</p><p>æ–¹æ³•2ï¼š<code>middlewareä¸­é—´ä»¶</code></p><p>åœ¨<code>middleware</code>ä¸‹åˆ›å»º<code>redirect.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params">&#123;isHMR,app,store,route,params,error,redirect&#125;</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(isHMR) <span class="keyword">return</span></span><br><span class="line">    <span class="comment">// é¡µé¢å‡æ”¾åœ¨_langæ–‡ä»¶å¤¹ä¸‹ï¼Œå³langä¸ºåŠ¨æ€è·¯ç”±å‚æ•°</span></span><br><span class="line">    <span class="comment">/*if (!params.lang) &#123;  //æ­¤å†™æ³•ä¼šå‡ºç°è·¯ç”±é‡å®šå‘æ¬¡æ•°è¿‡å¤šçš„é—®é¢˜</span></span><br><span class="line"><span class="comment">        return redirect(&#x27;/&#x27; + defaultLocale + &#x27;&#x27; + route.fullPath)</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">if</span>(route.<span class="property">fullPath</span> == <span class="string">&quot;/home&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">redirect</span>(<span class="string">&#x27;/home/catagory&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>nuxt.config.js</code> æ·»åŠ <code>middleware</code>å±æ€§ã€å¯¹åº”çš„å€¼ä¸º<code>middleware</code>ç›®å½•ä¸‹çš„æ–‡ä»¶å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">router</span>: &#123;</span><br><span class="line">    <span class="attr">middleware</span>:<span class="string">&#x27;redirect&#x27;</span>,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•3: <code>ç»„ä»¶ä¸­</code></p><p><code>asyncData</code>ä¸­æœ‰<code>redirect</code>å±æ€§</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">asyncData</span>(<span class="params">&#123; redirect &#125;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">redirect</span>(<span class="string">&#x27;/user&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¼‚æ­¥æ•°æ®"><a href="#å¼‚æ­¥æ•°æ®" class="headerlink" title="å¼‚æ­¥æ•°æ®"></a>å¼‚æ­¥æ•°æ®</h4><blockquote><p><em>Nuxt.js æ‰©å±•äº† Vue.jsï¼Œå¢åŠ äº†ä¸€ä¸ªå«</em> <code>asyncData</code> <em>çš„æ–¹æ³•ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨è®¾ç½®ç»„ä»¶çš„æ•°æ®ä¹‹å‰èƒ½å¼‚æ­¥è·å–æˆ–å¤„ç†æ•°æ®ã€‚</em></p></blockquote><h5 id="asyncData-æ–¹æ³•"><a href="#asyncData-æ–¹æ³•" class="headerlink" title="asyncData æ–¹æ³•"></a>asyncData æ–¹æ³•</h5><ul><li><code>asyncData</code>æ–¹æ³•ä¼šåœ¨ç»„ä»¶ï¼ˆé™äºé¡µé¢ç»„ä»¶ï¼‰æ¯æ¬¡åŠ è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚ <code>ç®€å•æ¥è¯´å°±æ˜¯åœ¨é¡µé¢ç›´æ¥åˆ‡æ¢å®¢æˆ·ç«¯ä¼šè°ƒç”¨æ”¹æ–¹æ³•</code></li><li>å¯ä»¥åœ¨<code>æœåŠ¡ç«¯æˆ–è·¯ç”±æ›´æ–°</code>ä¹‹å‰è¢«è°ƒç”¨ã€‚<code>ç®€å•æ¥è¯´å°±æ˜¯ç›´æ¥å¯¹é¡µé¢è¿›è¡Œåˆ·æ–°æ—¶æœåŠ¡ç«¯è°ƒç”¨å¹¶ä¸”æ¸²æŸ“æ•°æ®</code></li><li><code>asyncData</code> è¿”å›çš„æ•°æ®èåˆç»„ä»¶ <code>data</code> æ–¹æ³•è¿”å›çš„æ•°æ®ä¸€å¹¶è¿”å›ç»™å½“å‰ç»„ä»¶ã€‚</li><li>å¿…é¡»å°†æ•°æ®ç”¨<code>return</code>è¿”å›å‡ºå»ã€å¦åˆ™æ— æ³•è·å–æ•°æ®</li></ul><blockquote><p>æ³¨æ„ï¼šç”±äº<code>asyncData</code>æ–¹æ³•æ˜¯åœ¨ç»„ä»¶ <strong>åˆå§‹åŒ–</strong> å‰è¢«è°ƒç”¨çš„ï¼Œæ‰€ä»¥åœ¨æ–¹æ³•å†…æ˜¯æ²¡æœ‰åŠæ³•é€šè¿‡ <code>this</code> æ¥å¼•ç”¨ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚æ‰€ä»¥éœ€è¦ç”¨è¿‡ return è¿”å›å¯¹è±¡ ã€å¦‚ <code>return &#123; dataList : res.data.data.films &#125;</code></p></blockquote><p>ä¸¾ä¸ªä¾‹å­:</p><p><code>1.axios æ–¹æ³•</code></p><p>åœ¨<code>pages/index.vue</code>é€šè¿‡ç›´æ¥åˆ·æ–°é¡µé¢ã€å®¢æˆ·ç«¯æ§åˆ¶å°ä¸ä¼šæ‰“å°æ•°æ®(æœ€æ–°ç‰ˆå¥½åƒä¹Ÿä¼šæ‰“å°)ã€è€Œæ˜¯åœ¨æœåŠ¡ç«¯æ‰“å°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    Hello world</span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in dataList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick(item.filmId)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.poster&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; item.name &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">dataList</span>: [<span class="string">&quot;info&quot;</span>, <span class="string">&quot;data&quot;</span>, <span class="string">&quot;now&quot;</span>, <span class="string">&quot;time&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">handleClick</span>(<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/me/&quot;</span> + data);</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">asyncData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">url</span>:</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;https://m.maizuo.com/gateway?cityId=110100&amp;pageNum=1&amp;pageSize=10&amp;type=1&amp;k=7662183&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;X-Client-Info&quot;</span>:<span class="string">&#x27;&#123;&quot;a&quot;:&quot;3000&quot;,&quot;ch&quot;:&quot;1002&quot;,&quot;v&quot;:&quot;5.0.4&quot;,&quot;e&quot;:&quot;1597199484263152646225921&quot;,&quot;bc&quot;:&quot;110100&quot;&#125;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;X-Host&quot;</span>: <span class="string">&quot;mall.film-ticket.film.list&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);  </span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// è¿™é‡Œéœ€è¦ç›´æ¥è¿”å›å¯¹è±¡  </span></span></span><br><span class="line"><span class="language-javascript">        dataList : res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">films</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200812113205.png"></p><p>åªæœ‰åœ¨å…¶ä»–é¡µé¢åˆ‡æ¢å›å½“å‰é¡µã€æ‰ä¼šåœ¨å®¢æˆ·ç«¯æ§åˆ¶å°æ‰“å°æ•°æ®</p><p><code>2.aysnc</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      dataList: null</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  async asyncData() &#123;</span><br><span class="line">	let &#123;data&#125; = await axios(&#123; url: &quot;https://m.maizuo.com/gatewaycityId=110100&amp;pageNum=1&amp;pageSize=10&amp;type=1&amp;k=7662183&quot;,headers: &#123; &quot;X-Client-Info&quot;:&#x27;&#123;&quot;a&quot;:&quot;3000&quot;,&quot;ch&quot;:&quot;1002&quot;,&quot;v&quot;:&quot;5.0.4&quot;,&quot;e&quot;:&quot;1597199484263152646225921&quot;,&quot;bc&quot;:&quot;110100&quot;&#125;&#x27;,&quot;X-Host&quot;: &quot;mall.film-ticket.film.list&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">    return &#123; dataList : data.data.films&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="asyncData-å‚æ•°"><a href="#asyncData-å‚æ•°" class="headerlink" title="asyncData å‚æ•°"></a>asyncData å‚æ•°</h5><p>é€šè¿‡ç›´æ¥æ‰“å°<code>asyncData</code>ä¸­çš„å‚æ•°å¯ä»¥çœ‹åˆ°ï¼š</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200812113800.png"></p><p>é‡Œé¢çš„å‚æ•°ä¹Ÿå°±æ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡</p><h6 id="ä¸Šä¸‹æ–‡å¯¹è±¡"><a href="#ä¸Šä¸‹æ–‡å¯¹è±¡" class="headerlink" title="ä¸Šä¸‹æ–‡å¯¹è±¡"></a>ä¸Šä¸‹æ–‡å¯¹è±¡</h6><p>å¯é€šè¿‡ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/context">API <code>context</code></a> æ¥äº†è§£è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</p><p>context å˜é‡çš„å¯ç”¨å±æ€§ä¸€è§ˆ:</p><table><thead><tr><th>å±æ€§å­—æ®µ</th><th>ç±»å‹</th><th>å¯ç”¨</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>app</code></td><td>Vue æ ¹å®ä¾‹</td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>åŒ…å«æ‰€æœ‰æ’ä»¶çš„ Vue æ ¹å®ä¾‹ã€‚ä¾‹å¦‚ï¼šåœ¨ä½¿ç”¨ <code>axios</code> çš„æ—¶å€™ï¼Œä½ æƒ³è·å– <code>$axios</code> å¯ä»¥ç›´æ¥é€šè¿‡ <code>context.app.$axios</code> æ¥è·å–</td></tr><tr><td><code>isClient</code></td><td><code>Boolean</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>æ˜¯å¦æ¥è‡ªå®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆåºŸå¼ƒã€‚è¯·ä½¿ç”¨ <code>process.client</code> ï¼‰</td></tr><tr><td><code>isServer</code></td><td><code>Boolean</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>æ˜¯å¦æ¥è‡ªæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆåºŸå¼ƒã€‚è¯·ä½¿ç”¨ <code>process.server</code> ï¼‰</td></tr><tr><td><code>isStatic</code></td><td><code>Boolean</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>æ˜¯å¦æ¥è‡ª <code>nuxt generate</code> é™æ€åŒ–ï¼ˆé¢„æ¸²æŸ“ï¼‰ï¼ˆåºŸå¼ƒã€‚è¯·ä½¿ç”¨ <code>process.static</code> ï¼‰</td></tr><tr><td><code>isDev</code></td><td><code>Boolean</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>æ˜¯å¦æ˜¯å¼€å‘ dev æ¨¡å¼ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒçš„æ•°æ®ç¼“å­˜ä¸­ç”¨åˆ°</td></tr><tr><td><code>isHMR</code></td><td><code>Boolean</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>æ˜¯å¦æ˜¯é€šè¿‡æ¨¡å—çƒ­æ›¿æ¢ <code>webpack hot module replacement</code> (<em>ä»…åœ¨å®¢æˆ·ç«¯ä»¥ dev æ¨¡å¼</em>)</td></tr><tr><td><code>route</code></td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://router.vuejs.org/zh/api/#%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7">Vue Router è·¯ç”±</a></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>Vue Router è·¯ç”±å®ä¾‹</td></tr><tr><td><code>store</code></td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vuex.vuejs.org/zh/api/">Vuex æ•°æ®</a></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td><code>Vuex.Store</code> å®ä¾‹ã€‚<strong>åªæœ‰<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/guide/vuex-store">vuex æ•°æ®æµ</a>å­˜åœ¨ç›¸å…³é…ç½®æ—¶å¯ç”¨</strong></td></tr><tr><td><code>env</code></td><td><code>Object</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td><code>nuxt.config.js</code> ä¸­é…ç½®çš„ç¯å¢ƒå˜é‡ï¼Œè§ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nuxtjs.cn/api/configuration-env">ç¯å¢ƒå˜é‡ api</a></td></tr><tr><td><code>params</code></td><td><code>Object</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td><code>route.params</code> çš„åˆ«å</td></tr><tr><td><code>query</code></td><td><code>Object</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td><code>route.query</code> çš„åˆ«å</td></tr><tr><td><code>req</code></td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://nodejs.org/api/http.html#http_class_http_incomingmessage"><code>http.Request</code></a></td><td>æœåŠ¡ç«¯</td><td>Node.js API çš„ Request å¯¹è±¡ã€‚å¦‚æœ Nuxt ä»¥ä¸­é—´ä»¶å½¢å¼ä½¿ç”¨çš„è¯ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ ¹æ®ä½ æ‰€ä½¿ç”¨çš„æ¡†æ¶è€Œå®šã€‚*<code>nuxt generate</code> ä¸å¯ç”¨*</td></tr><tr><td><code>res</code></td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://nodejs.org/api/http.html#http_class_http_serverresponse"><code>http.Response</code></a></td><td>æœåŠ¡ç«¯</td><td>Node.js API çš„ Response å¯¹è±¡ã€‚å¦‚æœ Nuxt ä»¥ä¸­é—´ä»¶å½¢å¼ä½¿ç”¨çš„è¯ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ ¹æ®ä½ æ‰€ä½¿ç”¨çš„æ¡†æ¶è€Œå®šã€‚*<code>nuxt generate</code> ä¸å¯ç”¨*</td></tr><tr><td><code>redirect</code></td><td><code>Function</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>ç”¨è¿™ä¸ªæ–¹æ³•é‡å®šå‘ç”¨æˆ·è¯·æ±‚åˆ°å¦ä¸€ä¸ªè·¯ç”±ã€‚çŠ¶æ€ç åœ¨æœåŠ¡ç«¯è¢«ä½¿ç”¨ï¼Œé»˜è®¤ 302 <code>redirect([status,] path [, query])</code></td></tr><tr><td><code>error</code></td><td><code>Function</code></td><td>å®¢æˆ·ç«¯ &amp; æœåŠ¡ç«¯</td><td>ç”¨è¿™ä¸ªæ–¹æ³•å±•ç¤ºé”™è¯¯é¡µï¼š<code>error(params)</code> ã€‚<code>params</code> å‚æ•°åº”è¯¥åŒ…å« <code>statusCode</code> å’Œ <code>message</code> å­—æ®µ</td></tr><tr><td><code>nuxtState</code></td><td><code>Object</code></td><td>å®¢æˆ·ç«¯</td><td>Nuxt çŠ¶æ€ï¼Œåœ¨ä½¿ç”¨ <code>befonetuxtnetder</code> ä¹‹å‰ï¼Œç”¨äºå®¢æˆ·ç«¯è·å– Nuxt çŠ¶æ€ï¼Œä»…åœ¨ <code>universal</code> æ¨¡å¼ä¸‹å¯ç”¨</td></tr><tr><td><code>befonetuxtnetder(fn)</code></td><td><code>Function</code></td><td>æœåŠ¡ç«¯</td><td>ä½¿ç”¨æ­¤æ–¹æ³•æ›´æ–° <code>__NUXT__</code> åœ¨å®¢æˆ·ç«¯å‘ˆç°çš„å˜é‡ï¼Œ<code>fn</code> è°ƒç”¨ (å¯ä»¥æ˜¯å¼‚æ­¥) <code>&#123; Components, nuxtState &#125;</code> ï¼Œå‚è€ƒ <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/nuxt/nuxt.js/blob/cf6b0df45f678c5ac35535d49710c606ab34787d/test/fixtures/basic/pages/special-state.vue">ç¤ºä¾‹</a></td></tr></tbody></table><h4 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h4><p>å¯¹äºå‰ç«¯è·¨åŸŸé—®é¢˜ã€æˆ‘ä»¬éœ€è¦é…ç½®åå‘ä»£ç†</p><p>éœ€è¦å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @nuxtjs/proxy</span><br></pre></td></tr></table></figure><p>åœ¨<code>nuxt.config.js</code>ä¸­é…ç½®</p><p>ä¾‹å¦‚: çŒ«çœ¼ç”µå½± <a target="_blank" rel="noopener external nofollow noreferrer" href="https://m.maoyan.com/">https://m.maoyan.com/</a> çš„é¦–é¡µæ•°æ®è¯·æ±‚API <a target="_blank" rel="noopener external nofollow noreferrer" href="https://m.maoyan.com/ajax/movieOnInfoList?token=">https://m.maoyan.com/ajax/movieOnInfoList?token=</a></p><p>éœ€è¦å¦‚ä¸‹é…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">modules</span>: [</span><br><span class="line">    <span class="string">&#x27;@nuxtjs/axios&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@nuxtjs/proxy&#x27;</span></span><br><span class="line">],</span><br><span class="line"><span class="attr">proxy</span>:&#123;</span><br><span class="line">    <span class="string">&#x27;/ajax&#x27;</span>:&#123;</span><br><span class="line">      <span class="attr">target</span>: <span class="string">&quot;https://m.maoyan.com/&quot;</span>,</span><br><span class="line">      <span class="comment">// changeOriginé»˜è®¤æ˜¯falseï¼šè¯·æ±‚å¤´ä¸­hostä»ç„¶æ˜¯æµè§ˆå™¨å‘é€è¿‡æ¥çš„host    </span></span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,    </span><br><span class="line"><span class="attr">axios</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>:<span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><code>page.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        æˆ‘æ˜¯åˆ†ç±»å†…å®¹é¡µé¢</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">asyncData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">url</span>: <span class="string">&#x27;/ajax/movieOnInfoList?token=&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœç›´æ¥è¿›è¡Œåˆ·æ–°æ˜¯è¯·æ±‚ <code>/ajax/movieOnInfoList?token=</code> æœåŠ¡å™¨æ²¡æœ‰è·¨åŸŸã€ä¼š404ã€æ‰€ä»¥éœ€è¦åˆ¤æ–­ä¸€ä¸‹æ˜¯æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯</p><p>é€šè¿‡<code>process.server</code>ã€è¿”å›trueä¸ºæœåŠ¡ç«¯ã€æ¥ä¸‹æ¥ç®€å•åˆ¤æ–­ä¸€ä¸‹å°±è¡Œäº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url</span>: process.<span class="property">server</span> ? <span class="string">&#x27;https://m.maoyan.com/ajax/movieOnInfoList?token=&#x27;</span> : <span class="string">&#x27;/ajax/movieOnInfoList?token=&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="è·¯ç”±åŠ¨ç”»"><a href="#è·¯ç”±åŠ¨ç”»" class="headerlink" title="è·¯ç”±åŠ¨ç”»"></a>è·¯ç”±åŠ¨ç”»</h4><blockquote><p>è·¯ç”±çš„åŠ¨ç”»æ•ˆæœï¼Œä¹Ÿå«ä½œé¡µé¢çš„æ›´æ¢æ•ˆæœã€‚Nuxt.jsæåŠ¨ä¸¤ç§æ–¹æ³•ä¸ºè·¯ç”±æåŠ¨åŠ¨ç”»æ•ˆæœï¼Œä¸€ç§æ˜¯å…¨å±€çš„ï¼Œä¸€ç§æ˜¯é’ˆå¯¹å•ç‹¬é¡µé¢åˆ¶ä½œã€‚</p></blockquote><h5 id="å…¨å±€è·¯ç”±åŠ¨ç”»"><a href="#å…¨å±€è·¯ç”±åŠ¨ç”»" class="headerlink" title="å…¨å±€è·¯ç”±åŠ¨ç”»"></a>å…¨å±€è·¯ç”±åŠ¨ç”»</h5><p>å…¨å±€åŠ¨ç”»é»˜è®¤ä½¿ç”¨pageè¿›è¡Œè®¾ç½®ï¼Œä¾‹å¦‚ç°åœ¨æˆ‘ä»¬ä¸ºæ¯ä¸ªé¡µé¢éƒ½è®¾ç½®ä¸€ä¸ª<code>è¿›å…¥å’Œé€€å‡ºæ—¶çš„æ¸éšæ¸ç°çš„æ•ˆæœ</code>ã€‚æˆ‘ä»¬å¯ä»¥å…ˆåœ¨æ ¹ç›®å½•çš„<code>assets/css</code>ä¸‹å»ºç«‹ä¸€ä¸ª<code>normailze.css</code>æ–‡ä»¶ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-enter-active</span>,<span class="selector-class">.page-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page-enter</span>,<span class="selector-class">.page-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘<code>nuxt.config.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">css</span>: [<span class="string">&#x27;~assets/css/normailze.css&#x27;</span>],</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯åªæœ‰ä½¿ç”¨<code>&lt;nuxt-link&gt;</code>çš„æ‰æœ‰åŠ¨ç”»æ•ˆæœ</p><h5 id="å•ç‹¬è®¾ç½®é¡µé¢åŠ¨æ•ˆ"><a href="#å•ç‹¬è®¾ç½®é¡µé¢åŠ¨æ•ˆ" class="headerlink" title="å•ç‹¬è®¾ç½®é¡µé¢åŠ¨æ•ˆ"></a>å•ç‹¬è®¾ç½®é¡µé¢åŠ¨æ•ˆ</h5><p>ç»™ä¸€ä¸ªé¡µé¢å•ç‹¬è®¾ç½®ç‰¹æ®Šçš„æ•ˆæœæ—¶ï¼Œæˆ‘ä»¬åªè¦åœ¨cssé‡Œæ”¹å˜é»˜è®¤çš„pageï¼Œç„¶ååœ¨é¡µé¢ç»„ä»¶çš„é…ç½®ä¸­åŠ å…¥<code>transition</code>å­—æ®µå³å¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³ç»™abouté¡µé¢åŠ å…¥ä¸€ä¸ªå­—ä½“æ”¾å¤§ç„¶åç¼©å°çš„æ•ˆæœ</p><p>ç¼–è¾‘<code>assets/css/normailze.css</code> testä¸ºè‡ªå®šä¹‰æ•ˆæœå</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test-enter-active</span>,<span class="selector-class">.test-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">2s</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test-enter</span>,<span class="selector-class">.test-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨éœ€è¦çš„ç»„ä»¶ä¸­æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">transition</span>:<span class="string">&#x27;test&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://zykj.js.org">ZYKJ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://zykj.js.org/posts/e400c46/">https://zykj.js.org/posts/e400c46/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://zykj.js.org" target="_blank">ZYKJ's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a></div><div class="post-share"><div class="social-share" data-image="https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://gcore.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>èµåŠ©</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li><li class="reward-item"><a href="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-left" href="/posts/27858d2d/" title="Flex ä¸ Grid å­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167ly1fwsg1wykxlj21hc0u04qp.jpg" onerror='onerror=null,src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Flex ä¸ Grid å­¦ä¹ </div></div></a><a class="next-post pull-right" href="/posts/a9e8a85d/" title="Vueå“åº”å¼åŸç†è§£è¯»"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1fwrtnow7fgj21hc0u0nki.jpg" onerror='onerror=null,src="https://gcore.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Vueå“åº”å¼åŸç†è§£è¯»</div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a href="/posts/22686bb0/" title="Vue-CLIå­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vueclistudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-06-27</div><div class="title">Vue-CLIå­¦ä¹ </div></div></a><a href="/posts/f9d8baf9/" title="Vue.jsè¿›é˜¶"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuestudy2-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-06-09</div><div class="title">Vue.jsè¿›é˜¶</div></div></a><a href="/posts/7305059/" title="Vue3å­¦ä¹ "><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuestudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-10-25</div><div class="title">Vue3å­¦ä¹ </div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Nuxt-js-%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">Nuxt.js å­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.</span> <span class="toc-text">å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93"><span class="toc-number">1.2.</span> <span class="toc-text">Vue æœåŠ¡ç«¯æ¸²æŸ“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E4%B8%80%E4%B8%AA-Vue-%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">æ¸²æŸ“ä¸€ä¸ª Vue å®ä¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%9B%86%E6%88%90"><span class="toc-number">1.2.2.</span> <span class="toc-text">ä¸æœåŠ¡å™¨é›†æˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nuxt-js"><span class="toc-number">1.3.</span> <span class="toc-text">Nuxt.js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Nuxt-js-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">Nuxt.js æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.2.</span> <span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.3.</span> <span class="toc-text">ç›®å½•ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.4.</span> <span class="toc-text">è·¯ç”±é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%B7%AF%E7%94%B1"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">åŸºç¡€è·¯ç”±</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">åŠ¨æ€è·¯ç”±</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.5.</span> <span class="toc-text">è§†å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">æ¨¡æ¿</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%83%E5%B1%80"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">å¸ƒå±€</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%B8%83%E5%B1%80"><span class="toc-number">1.3.5.2.1.</span> <span class="toc-text">é»˜è®¤å¸ƒå±€</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B1%80"><span class="toc-number">1.3.5.2.2.</span> <span class="toc-text">è‡ªå®šä¹‰å¸ƒå±€</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.3.5.2.3.</span> <span class="toc-text">é”™è¯¯é¡µé¢</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.3.5.2.4.</span> <span class="toc-text">é¡µé¢</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HTML%E5%A4%B4%E9%83%A8"><span class="toc-number">1.3.5.2.5.</span> <span class="toc-text">HTMLå¤´éƒ¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.3.6.</span> <span class="toc-text">é‡å®šå‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.3.7.</span> <span class="toc-text">å¼‚æ­¥æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#asyncData-%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">asyncData æ–¹æ³•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#asyncData-%E5%8F%82%E6%95%B0"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">asyncData å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.7.2.1.</span> <span class="toc-text">ä¸Šä¸‹æ–‡å¯¹è±¡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-number">1.3.8.</span> <span class="toc-text">åå‘ä»£ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%8A%A8%E7%94%BB"><span class="toc-number">1.3.9.</span> <span class="toc-text">è·¯ç”±åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E8%B7%AF%E7%94%B1%E5%8A%A8%E7%94%BB"><span class="toc-number">1.3.9.1.</span> <span class="toc-text">å…¨å±€è·¯ç”±åŠ¨ç”»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E7%8B%AC%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E5%8A%A8%E6%95%88"><span class="toc-number">1.3.9.2.</span> <span class="toc-text">å•ç‹¬è®¾ç½®é¡µé¢åŠ¨æ•ˆ</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url(https://tva4.sinaimg.cn/large/9bd9b167gy1g4lifhuoeoj21hc0xchdt.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By ZYKJ</div><div class="framework-info"><span>æ¡†æ¶</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" data-pjax-state=""><b>jsDelivr</b></a> | HOST BY <a target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer"><b>Vercel</b></a> | HOST BY <a target="_blank" href="https://www.cloudflare-cn.com/" rel="external nofollow noreferrer"><b>Cloudflare</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://gcore.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://gcore.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://gcore.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>(()=>{const t=()=>{"object"==typeof pangu?pangu.autoSpacingPage():btf.getScript("https://gcore.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})},n=()=>{GLOBAL_CONFIG_SITE.isPost&&t()};btf.addGlobalFn("pjaxComplete",n,"pangu"),document.addEventListener("DOMContentLoaded",n)})()</script><div class="js-pjax"></div><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>ğŸš€ ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸ“‘</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">ç‚¹æˆ‘æ›´æ–°</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"ğŸš€ åšå®¢å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸŒ",backgroundColor:t,duration:5e5,pos:e,actionText:"ç‚¹æˆ‘æ›´æ–°âš¡",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script src="https://gcore.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(()=>{window.pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/link/"]):not([href="/shuoshuo/"]):not([href="/friendcircle/"]):not([href="/about/"]):not([href="/me/"]):not([href="/posts/e297feab/"])',selectors:["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"],cacheBust:!1,analytics:!1,scrollRestoration:!1});const e=e=>{e&&Object.values(e).forEach(e=>e())};document.addEventListener("pjax:send",()=>{btf.removeGlobalFnEvent("pjaxSendOnce"),btf.removeGlobalFnEvent("themeChange");const t=document.body.classList;t.contains("read-mode")&&t.remove("read-mode"),e(window.globalFn.pjaxSend)}),document.addEventListener("pjax:complete",()=>{btf.removeGlobalFnEvent("pjaxCompleteOnce"),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),n=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(n)),e.parentNode.replaceChild(t,e)}),e(window.globalFn.pjaxComplete)}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})})()</script></div></body></html>