<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Vue仿蘑菇街项目 | 卓越科技的Blog</title><meta name="keywords" content="Vue"><meta name="author" content="卓越科技-"><meta name="copyright" content="卓越科技-"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="我们学习了Vue相关的知识、现在我们通过一个项目来巩固知识"><meta property="og:type" content="article"><meta property="og:title" content="Vue仿蘑菇街项目"><meta property="og:url" content="https://blog.zykjofficial.top/posts/42ed6352/index.html"><meta property="og:site_name" content="卓越科技的Blog"><meta property="og:description" content="我们学习了Vue相关的知识、现在我们通过一个项目来巩固知识"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://tva4.sinaimg.cn/large/9bd9b167ly1fwsfucs1hrj21hc0u01kx.jpg"><meta property="article:published_time" content="2020-08-04T09:28:23.000Z"><meta property="article:modified_time" content="2020-08-04T09:28:23.000Z"><meta property="article:author" content="卓越科技-"><meta property="article:tag" content="前端"><meta property="article:tag" content="Vue"><meta property="article:tag" content="Vue-Router"><meta property="article:tag" content="Vuex"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tva4.sinaimg.cn/large/9bd9b167ly1fwsfucs1hrj21hc0u01kx.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/favicon.ico"><link rel="canonical" href="https://blog.zykjofficial.top/posts/42ed6352/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><meta name="baidu-site-verification" content="yttyGLfIu6"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media=&quot;all&quot;,this.onload=null"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media=&quot;all&quot;,this.onload=null"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?a9ea22e795c9ecab1d31c5a5835e33f4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!0,isToc:!0,postUpdate:"2020-08-04 17:28:23"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = '1'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/css/zykjcss.min.css" media="all" onload='this.media="all",this.onload=null'><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="卓越科技的Blog" type="application/atom+xml"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">50</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>文章</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-tasks"></i> <span>导航</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/nav/"><i class="fa-fw fa fa-bookmark"></i> <span>网站导航</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://zykjofficial.top/"><i class="fa-fw fas fa-user"></i> <span>个人主页</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://shoka.zykjofficial.top"><i class="fa-fw fa fa-book"></i> <span>Docs文档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-th-list"></i> <span>娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa fa-film"></i> <span>番剧</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i> <span>音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fa fa-image"></i> <span>相册</span></a></li><li><a class="site-page" href="/mikutap/"><i class="fa-fw fas fa-snowflake"></i> <span>Mikutap</span></a></li><li><a class="site-page" href="/api/"><i class="fa-fw fas fa-atom"></i> <span>随机二次元</span></a></li><li><a class="site-page" href="/baidu/"><i class="fa-fw fa-fw fab fa-html5"></i> <span>百度一下</span></a></li><li><a class="site-page" href="/ps/"><i class="fa-fw fas fa-images"></i> <span>PS在线工具</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-gamepad"></i> <span>游戏</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/game/arknights/"><i class="fa-fw fa fa-mobile"></i> <span>明日方舟</span></a></li><li><a class="site-page" href="/catchcat/"><i class="fa-fw fa fa-cat"></i> <span>圈小猫</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-envelope"></i> <span>消息</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa fa-eject"></i> <span>说说</span></a></li><li><a class="site-page" href="/timeline/"><i class="fa-fw far fa-calendar-alt"></i> <span>时间线</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://status.zykjofficial.top"><i class="fa-fw fas fa-fan"></i> <span>本站状态</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fab fa-ubuntu"></i> <span>镜像站</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykjofficial.github.io/"><i class="fa-fw fab fa-github"></i> <span>Github</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://414kjf.coding-pages.com"><i class="fa-fw fas fa-dice-d20"></i> <span>Coding</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykjofficial.gitee.io/"><i class="fa-fw fas fa-gopuram"></i> <span>Gitee</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykj.now.sh/"><i class="fa-fw fas fa-khanda"></i> <span>Vercel</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykj.netlify.app/"><i class="fa-fw fas fa-spa"></i> <span>Netlify</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykjofficial.imfast.io"><i class="fa-fw fas fa-code"></i> <span>Fast</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>关于</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://tva4.sinaimg.cn/large/9bd9b167ly1fwsfucs1hrj21hc0u01kx.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">卓越科技的Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-book"></i> <span>文章</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-tasks"></i> <span>导航</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/nav/"><i class="fa-fw fa fa-bookmark"></i> <span>网站导航</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://zykjofficial.top/"><i class="fa-fw fas fa-user"></i> <span>个人主页</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://shoka.zykjofficial.top"><i class="fa-fw fa fa-book"></i> <span>Docs文档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-th-list"></i> <span>娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa fa-film"></i> <span>番剧</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i> <span>音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fa fa-image"></i> <span>相册</span></a></li><li><a class="site-page" href="/mikutap/"><i class="fa-fw fas fa-snowflake"></i> <span>Mikutap</span></a></li><li><a class="site-page" href="/api/"><i class="fa-fw fas fa-atom"></i> <span>随机二次元</span></a></li><li><a class="site-page" href="/baidu/"><i class="fa-fw fa-fw fab fa-html5"></i> <span>百度一下</span></a></li><li><a class="site-page" href="/ps/"><i class="fa-fw fas fa-images"></i> <span>PS在线工具</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-gamepad"></i> <span>游戏</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/game/arknights/"><i class="fa-fw fa fa-mobile"></i> <span>明日方舟</span></a></li><li><a class="site-page" href="/catchcat/"><i class="fa-fw fa fa-cat"></i> <span>圈小猫</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-envelope"></i> <span>消息</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/message/"><i class="fa-fw fa fa-comments"></i> <span>留言板</span></a></li><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa fa-eject"></i> <span>说说</span></a></li><li><a class="site-page" href="/timeline/"><i class="fa-fw far fa-calendar-alt"></i> <span>时间线</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://status.zykjofficial.top"><i class="fa-fw fas fa-fan"></i> <span>本站状态</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fab fa-ubuntu"></i> <span>镜像站</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykjofficial.github.io/"><i class="fa-fw fab fa-github"></i> <span>Github</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://414kjf.coding-pages.com"><i class="fa-fw fas fa-dice-d20"></i> <span>Coding</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykjofficial.gitee.io/"><i class="fa-fw fas fa-gopuram"></i> <span>Gitee</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykj.now.sh/"><i class="fa-fw fas fa-khanda"></i> <span>Vercel</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykj.netlify.app/"><i class="fa-fw fas fa-spa"></i> <span>Netlify</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://zykjofficial.imfast.io"><i class="fa-fw fas fa-code"></i> <span>Fast</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-info-circle"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue仿蘑菇街项目</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-04T09:28:23.000Z" title="发表于 2020-08-04 17:28:23">2020-08-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-04T09:28:23.000Z" title="更新于 2020-08-04 17:28:23">2020-08-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/">Web教程</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E6%95%99%E7%A8%8B/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>81分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>封面P站: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.pixiv.net/artworks/74562014">https://www.pixiv.net/artworks/74562014</a></p><h2 id="Vue综合练习"><a href="#Vue综合练习" class="headerlink" title="Vue综合练习"></a>Vue综合练习</h2><p>通过前面学习了Vue等知识、我们使用Vue写一个简单的小项目</p><p>一位大佬写的很详细: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/wuyxinu/article/details/103684950">https://blog.csdn.net/wuyxinu/article/details/103684950</a></p><div class="btns rounded center grid5"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://gitee.com/zykjofficial/StudyProjects/tree/master/2020/07/Vue/supermall" title="下载Vue项目源码"><i class="fas fa-download"></i> 下载Vue项目源码</a></div><h3 id="基本构建"><a href="#基本构建" class="headerlink" title="基本构建"></a>基本构建</h3><p>使用<code>Vue-Cli4.x</code>创建项目</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create sueprmall</span><br></pre></td></tr></table></figure><p>记得安装 <code>Vuex</code>、<code>Vue-Router</code>之后安装 axios: <code>npm install -s axios</code></p><h4 id="项目基本目录"><a href="#项目基本目录" class="headerlink" title="项目基本目录"></a>项目基本目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">├── public    					用于存放静态资源</span><br><span class="line">│   ├── favicon.ico             图标资源</span><br><span class="line">│   └── index.html				是一个模板文件，作用是生成项目的入口文件</span><br><span class="line">├── src                             项目源码目录    </span><br><span class="line">│   ├── main.js                         入口js文件</span><br><span class="line">│   ├── App.vue                         根组件</span><br><span class="line">│   ├── components                      公共组件目录</span><br><span class="line">│   │   └── common						在其他项目下也可以使用的</span><br><span class="line">│   │   └── contents					业务相关组件</span><br><span class="line">│   ├── common                          工具</span><br><span class="line">│   ├── assets                          资源目录，这里的资源会被wabpack构建</span><br><span class="line">│   │   └── img						</span><br><span class="line">│   │   └── css							</span><br><span class="line">│   ├── network                         封装网络请求</span><br><span class="line">│   │   └── request.js					</span><br><span class="line">│   ├── routes                          前端路由</span><br><span class="line">│   │   └── index.js</span><br><span class="line">│   ├── store                           Vuex应用级数据（state）</span><br><span class="line">│   │   └── index.js</span><br><span class="line">│   └── views                           页面目录</span><br><span class="line">└── package.json                    npm包配置文件，里面定义了项目的npm脚本，依赖包等信息</span><br></pre></td></tr></table></figure><h4 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h4><p>在根目录下创建<code>vue.config.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    configureWebpack: &#123;</span><br><span class="line">        resolve:&#123;</span><br><span class="line">            extensions:[],</span><br><span class="line">            alias:&#123;</span><br><span class="line">                <span class="string">&#x27;assets&#x27;</span>:<span class="string">&#x27;@/assets&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;components&#x27;</span>:<span class="string">&#x27;@/components&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;network&#x27;</span>:<span class="string">&#x27;@/network&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;views&#x27;</span>:<span class="string">&#x27;@/views&#x27;</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在根目录下创建<code>.editorconfig</code>文件用来规范<code>缩进</code>等…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset &#x3D; utf-8</span><br><span class="line">indent_style &#x3D; space</span><br><span class="line">indent_size &#x3D; 2</span><br><span class="line">end_of_line &#x3D; lf</span><br><span class="line">insert_final_newline &#x3D; true</span><br><span class="line">trim_trailing_whitespace &#x3D; true</span><br></pre></td></tr></table></figure><h4 id="CSS导入"><a href="#CSS导入" class="headerlink" title="CSS导入"></a>CSS导入</h4><p>在<code>src/assets/css</code>下创建<code>normalize.css</code> 内容为: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/necolas/normalize.css/blob/master/normalize.css">https://github.com/necolas/normalize.css/blob/master/normalize.css</a></p><p>创建<code>base.css</code> 内容为: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/maclxf/supermall/blob/master/src/assets/css/base.css">https://github.com/maclxf/supermall/blob/master/src/assets/css/base.css</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;./normalize.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*:root -&gt; 获取根元素html*/</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--color-text</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attribute">--color-high-text</span>: <span class="number">#ff5777</span>;</span><br><span class="line">  <span class="attribute">--color-tint</span>: <span class="number">#ff8198</span>;</span><br><span class="line">  <span class="attribute">--color-background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">--font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">--line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*,</span><br><span class="line">*<span class="selector-pseudo">::before</span>,</span><br><span class="line">*<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Helvetica Neue&quot;</span>,Helvetica,<span class="string">&quot;PingFang SC&quot;</span>,<span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;Microsoft YaHei&quot;</span>,<span class="string">&quot;微软雅黑&quot;</span>,Arial,sans-serif;</span><br><span class="line">  <span class="attribute">user-select</span>: none; <span class="comment">/* 禁止用户鼠标在页面上选中文字/图片等 */</span></span><br><span class="line">  <span class="attribute">-webkit-tap-highlight-color</span>: transparent; <span class="comment">/* webkit是苹果浏览器引擎，tap点击，highlight背景高亮，color颜色，颜色用数值调节 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--color-background);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--color-text);</span><br><span class="line">  <span class="comment">/* rem vw/vh */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--color-text);</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clear-fix</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clear-fix</span> &#123;</span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>App.vue</code>中导入</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="keyword">@import</span> <span class="string">&#x27;./assets/css/base.css&#x27;</span>;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="基本页面"><a href="#基本页面" class="headerlink" title="基本页面"></a>基本页面</h4><p>复制<code>2020\07\Vue\supermall\public\favicon.ico</code>下的所有文件到当前项目<code>public\favicon.ico</code>下</p><p>复制<code>2020\07\Vue\supermall\src\assets\img</code>下的所有文件到当前项目<code>src\assets\img</code>下</p><p>在<code>src\views</code>下创建</p><div class="tabs" id="tab1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab1-1">Cart.vue</button></li><li class="tab"><button type="button" data-href="#tab1-2">Category.vue</button></li><li class="tab"><button type="button" data-href="#tab1-3">Home.vue</button></li><li class="tab"><button type="button" data-href="#tab1-4">Me.vue</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab1-1"><p><code>在src\views\cart</code>下创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>购物车<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Cart&quot;</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab1-2"><p><code>在src\views\category</code>下创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>品类<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Category&quot;</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab1-3"><p><code>在src\views\home</code>下创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是主页<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;&#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;&#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab1-4"><p><code>在src\views\me</code>下创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>关于我<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Me&quot;</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>之后配置路由<code>router\index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 懒加载</span></span><br><span class="line"><span class="keyword">const</span> Home = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;views/home/Home&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Category = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;views/category/Category&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Cart = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;views/cart/Cart&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> Me = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;views/me/Me&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> originalPush = VueRouter.prototype.push</span><br><span class="line">VueRouter.prototype.push = <span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> originalPush.call(<span class="built_in">this</span>, location).catch(<span class="function"><span class="params">err</span> =&gt;</span> err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    redirect: <span class="string">&#x27;/home&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="comment">// 指定的组件</span></span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/category&#x27;</span>,</span><br><span class="line">    component: Category</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/cart&#x27;</span>,</span><br><span class="line">    component: Cart</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/me&#x27;</span>,</span><br><span class="line">    component: Me</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  base: process.env.BASE_URL,</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><p>复制: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/maclxf/supermall/tree/master/src/components/common/tabbar">https://github.com/maclxf/supermall/tree/master/src/components/common/tabbar</a> 里的内容到 <code>\src\components\common\tabbar</code></p><p>最后在<code>src\App.vue</code>编辑</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main-tar-bar</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> MainTarBar <span class="keyword">from</span> <span class="string">&quot;./components/contents/maintarbar/MainTarBar&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line">    data()&#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span>&#123;</span></span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      MainTarBar</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="keyword">@import</span> <span class="string">&#x27;assets/css/base.css&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>通过<code>npm run serve</code>测试效果</p><p><img src="/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/20200719225324.gif" alt="20200719225324.gif"></p><h3 id="首页开发"><a href="#首页开发" class="headerlink" title="首页开发"></a>首页开发</h3><h4 id="导航组件"><a href="#导航组件" class="headerlink" title="导航组件"></a>导航组件</h4><p><code>顶部文字显示区域</code></p><br><p>在<code>\src\components\common\navbar</code>下创建<code>NavBar.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        name: <span class="string">&quot;NavBar.vue&quot;</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.nav-bar</span>&#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    height: 44px;</span><br><span class="line">    line-height: 44px;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.left</span>&#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.right</span>&#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.center</span>&#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编辑<code>src\views\home\Home.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NavBar</span> <span class="attr">class</span>=<span class="string">&quot;home-nav-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>  <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>购物街<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">NavBar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&quot;components/common/navbar/NavBar&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      NavBar</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">   <span class="selector-id">#home</span>&#123;</span></span><br><span class="line">   	padding-top: 44px;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    position: relative;	     </span><br><span class="line">   &#125;  </span><br><span class="line">    </span><br><span class="line"><span class="css">  <span class="selector-class">.home-nav-bar</span>&#123;</span></span><br><span class="line">    background-color: var(--color-tint);</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">box-shadow</span>: 0 1<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(100,100,100,<span class="selector-class">.1</span>);</span></span><br><span class="line">    position: fixed;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    z-index: 9;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="数据请求"><a href="#数据请求" class="headerlink" title="数据请求"></a>数据请求</h4><p>在<code>src\network</code>下创建<code>request.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseUrl: <span class="string">&quot;http://123.207.32.32:8000&quot;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  instance.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(&quot;拦截的请求&quot;);</span></span><br><span class="line">    <span class="comment">// console.log(config)</span></span><br><span class="line">    <span class="comment">// 拦截了请求要返回</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  instance.interceptors.response.use(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(&quot;拦截的响应&quot;);</span></span><br><span class="line">    <span class="comment">// console.log(response);</span></span><br><span class="line">    <span class="keyword">return</span> response.data</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> instance(config);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>之后创建<code>home.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; request &#125; <span class="keyword">from</span> <span class="string">&#x27;./request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getHomeMultiData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    url: <span class="string">&quot;/home/multidata&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>Home.vue</code>编辑、主要是注意在<code>created()</code>函数中发起请求</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getHomeMultiData&#125; <span class="keyword">from</span> <span class="string">&quot;../../network/home&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        banners: [],</span><br><span class="line">        recommends: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//请求</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeMultiData();</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">       getHomeMultiData()&#123;</span><br><span class="line"><span class="javascript">          getHomeMultiData().then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        	<span class="built_in">this</span>.banners = res.data.banner.list;</span></span><br><span class="line"><span class="javascript">        	<span class="built_in">this</span>.recommends = res.data.recommend.list;</span></span><br><span class="line">     	 &#125;)  </span><br><span class="line">       &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="轮播图组件"><a href="#轮播图组件" class="headerlink" title="轮播图组件"></a>轮播图组件</h4><p>使用的是作者封装好的组件: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/maclxf/supermall/tree/master/src/components/common/swiper">https://github.com/maclxf/supermall/tree/master/src/components/common/swiper</a> 放在<code>src\components\common</code>下</p><p>为了使Home里的组件不那么复杂、我们需要提取一下、在<code>src\views\home</code>下创建<code>childComps文件夹</code>、里面创建<code>HomeSwiper.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper</span> <span class="attr">class</span>=<span class="string">&quot;home-swiper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper-item</span> <span class="attr">v-for</span>=<span class="string">&quot;item in banners&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.link&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;item.link&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.image&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;Swiper, SwiperItem&#125; <span class="keyword">from</span> <span class="string">&#x27;components/common/swiper&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;HomeSwiper&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      banners: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Array</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> []</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Swiper, SwiperItem</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>一个轮播图就导入成功了。</p><p>在<code>Home.vue</code>添加</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HomeSwiper</span><br></pre></td></tr></table></figure><h4 id="每日推荐组件"><a href="#每日推荐组件" class="headerlink" title="每日推荐组件"></a>每日推荐组件</h4><p>同样为了使Home里的组件不那么复杂、我们需要提取一下、在<code>src\views\home\childComps</code>里面创建<code>HomeRecommend.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home-recommend&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home-recommend-item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in recommends&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.title&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;item.link&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.image&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;HomeRecommend&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      recommends: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Array</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> [];</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.home-recommend</span>&#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 5px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 10<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#eee</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-recommend</span> <span class="selector-class">.home-recommend-item</span>&#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-recommend-item</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line">    width: 70px;</span><br><span class="line">    height: 70px;</span><br><span class="line">    border-radius: 100%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-recommend-item</span> <span class="selector-tag">span</span>&#123;</span></span><br><span class="line">    display: block;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>之后统一写到<code>Home.vue</code>中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">HomeSwiper</span> <span class="attr">:banners</span>=<span class="string">&quot;banners&quot;</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...	</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HomeSwiper <span class="keyword">from</span> <span class="string">&quot;./childComps/HomeSwiper&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...	</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getHomeMultiData&#125; <span class="keyword">from</span> <span class="string">&quot;network/home&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      HomeSwiper <span class="comment">//...</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        banners: [],</span><br><span class="line"><span class="javascript">        <span class="comment">//...</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//请求</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeMultiData();</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">       getHomeMultiData()&#123;</span><br><span class="line"><span class="javascript">          getHomeMultiData().then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        	<span class="built_in">this</span>.banners = res.data.banner.list;</span></span><br><span class="line"><span class="javascript">        	<span class="built_in">this</span>.recommends = res.data.recommend.list;</span></span><br><span class="line">     	 &#125;)  </span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="本周流行组件"><a href="#本周流行组件" class="headerlink" title="本周流行组件"></a>本周流行组件</h4><p>同样为了使Home里的组件不那么复杂、我们需要提取一下、在<code>src\views\home\childComps</code>里面创建<code>HomeFeatureView.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home-feature&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://act.mogujie.com/zzlx67&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;~assets/img/home/recommend_bg.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        name: <span class="string">&quot;HomeFeatureView&quot;</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.home-feature</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>之后写到<code>Home.vue</code>中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">HomeRecommend</span> <span class="attr">:recommends</span>=<span class="string">&quot;recommends&quot;</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HomeRecommend <span class="keyword">from</span> <span class="string">&quot;./childComps/HomeRecommend&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...	</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getHomeMultiData&#125; <span class="keyword">from</span> <span class="string">&quot;network/home&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      HomeRecommend <span class="comment">//...</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//...</span></span></span><br><span class="line">        recommends: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//请求</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeMultiData();</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">       getHomeMultiData()&#123;</span><br><span class="line"><span class="javascript">          getHomeMultiData().then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        	<span class="built_in">this</span>.banners = res.data.banner.list;</span></span><br><span class="line"><span class="javascript">        	<span class="built_in">this</span>.recommends = res.data.recommend.list;</span></span><br><span class="line">     	 &#125;)  </span><br><span class="line">       &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="TabControl组件"><a href="#TabControl组件" class="headerlink" title="TabControl组件"></a>TabControl组件</h4><p>在<code>src\component\tabcontrol\</code>里面创建<code>TabControl.vue</code></p><p>通过索引<code>index</code>与<code>currentIndex</code>来判断是否选中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tab-control&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in titles&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span> <span class="attr">class</span>=<span class="string">&quot;tab-control-item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;tabClick(index)&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; active: index == currentIndex &#125;&quot;</span> &gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;TabControl&quot;</span>,</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        currentIndex : 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      titles: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Array</span>,</span></span><br><span class="line">        data() &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> [];</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      tabClick(index)&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.currentIndex = index;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//将 index索引传给父组件  </span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&quot;tabClick&quot;</span>,index);  </span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.tab-control</span>&#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 40px;</span><br><span class="line">    height: 40px;</span><br><span class="line">    font-size: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.tab-control-item</span>&#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.tab-control-item</span> <span class="selector-tag">span</span>&#123;</span></span><br><span class="line">    padding: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.active</span>&#123;</span></span><br><span class="line">    border-bottom: 2px solid var(--color-tint);</span><br><span class="line">    color: var(--color-high-text);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编辑<code>Home.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">class</span>=<span class="string">&quot;home-tab-control&quot;</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;流行&#x27;, &#x27;新款&#x27;, &#x27;精选&#x27;]&quot;</span> /&gt;</span></span><br><span class="line">	</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// ...</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> TabControl <span class="keyword">from</span> <span class="string">&quot;components/contents/tabcontrol/TabControl&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// ...	</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      TabControl <span class="comment">//...</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="comment">/* ... */</span></span></span><br><span class="line"><span class="css">	<span class="selector-class">.home-tab-control</span>&#123;</span></span><br><span class="line"><span class="css">     <span class="comment">/* sticky 粘性布局 部分浏览器不支持 */</span></span></span><br><span class="line">     position: sticky;</span><br><span class="line">     top: 44px;</span><br><span class="line">     z-index: 9;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>后面发现<code>position: sticky;</code>没有作用了。。。不知道什么原因</p><h4 id="商品数据封装"><a href="#商品数据封装" class="headerlink" title="商品数据封装"></a>商品数据封装</h4><h5 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h5><p>我们需要这样的一个数据结构来存储商品数据</p><p><code>pop、new、sell</code>代表商品、<code>page</code>代表页数、<code>list</code>代表商品、<code>currentType</code>当前类型</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">goods: &#123;</span><br><span class="line">	&#39;pop&#39;: &#123;page: 0, list: []&#125;,</span><br><span class="line">	&#39;new&#39;: &#123;page: 0, list: []&#125;,</span><br><span class="line">	&#39;sell&#39;: &#123;page: 0, list: []&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">currentType: &quot;pop&quot;</span><br></pre></td></tr></table></figure><h5 id="network"><a href="#network" class="headerlink" title="network"></a>network</h5><p>编辑<code>src\network\home.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getHomeGoods</span>(<span class="params">type,page</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    url: <span class="string">&quot;/data&quot;</span>,</span><br><span class="line">    params:&#123;</span><br><span class="line">      type,</span><br><span class="line">      page</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="views"><a href="#views" class="headerlink" title="views"></a>views</h5><p>最后编辑<code>Home.vue</code></p><p>注意:</p><ul><li><p><code>import &#123;getHomeGoods&#125; from &quot;network/home&quot;;</code>导入、不要忘记</p></li><li><p>往数组里添加数据使用<code>push方法</code>、然而我们需要添加另一个数组的数据我们需要使用扩展运算符<code>...</code></p><p>如下面<code>this.goods[type].list.push(...res.data.list)</code></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">class</span>=<span class="string">&quot;home-tab-control&quot;</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;流行&#x27;, &#x27;新款&#x27;, &#x27;精选&#x27;]&quot;</span> @<span class="attr">tabClick</span>=<span class="string">&quot;tabClick&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">good-list</span> <span class="attr">:goods</span>=<span class="string">&quot;showGoods&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...	</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getHomeMultiData ,getHomeGoods&#125; <span class="keyword">from</span> <span class="string">&quot;network/home&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//...</span></span></span><br><span class="line">        goods: &#123;</span><br><span class="line"><span class="javascript">          <span class="string">&#x27;pop&#x27;</span>: &#123;<span class="attr">page</span>: <span class="number">0</span>, <span class="attr">list</span>: []&#125;,</span></span><br><span class="line"><span class="javascript">          <span class="string">&#x27;new&#x27;</span>: &#123;<span class="attr">page</span>: <span class="number">0</span>, <span class="attr">list</span>: []&#125;,</span></span><br><span class="line"><span class="javascript">          <span class="string">&#x27;sell&#x27;</span>: &#123;<span class="attr">page</span>: <span class="number">0</span>, <span class="attr">list</span>: []&#125;</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        currentType: <span class="string">&quot;pop&quot;</span>  </span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      showGoods()&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.goods[<span class="built_in">this</span>.currentType].list</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeMultiData();</span></span><br><span class="line"><span class="javascript">      <span class="comment">//需要请求多个类型的数据</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeGoods(<span class="string">&quot;pop&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeGoods(<span class="string">&quot;new&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getHomeGoods(<span class="string">&quot;sell&quot;</span>);</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      /**</span><br><span class="line">       * 事件相关</span><br><span class="line">       */</span><br><span class="line">      tabClick(index) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (index) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="number">0</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentType = <span class="string">&quot;pop&quot;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="number">1</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentType = <span class="string">&quot;new&quot;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="number">2</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentType = <span class="string">&quot;sell&quot;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      /**</span><br><span class="line">       * 网络请求相关</span><br><span class="line">       */</span><br><span class="line">      getHomeMultiData() &#123;</span><br><span class="line"><span class="javascript">        getHomeMultiData().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// console.log(res.data)</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.banners = res.data.banner.list;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.recommends = res.data.recommend.list;</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      getHomeGoods(type) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> page = <span class="built_in">this</span>.goods[type].page + <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">        getHomeGoods(type, page).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// console.log(res.data.list)</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.goods[type].list.push(...res.data.list)</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.goods[type].page += <span class="number">1</span>;</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Batter-Srcoll"><a href="#Batter-Srcoll" class="headerlink" title="Batter-Srcoll"></a>Batter-Srcoll</h4><p>一个更好的解决移动端滚动问题的框架、官网: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://ustbhuangyi.github.io/better-scroll/#/zh">https://ustbhuangyi.github.io/better-scroll/#/zh</a></p><h5 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h5><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install better-scroll --save</span><br></pre></td></tr></table></figure><p>在Vue中使用</p><ul><li><p>我们需要在<code>标签里包裹另一个标签</code> 如:<code>div标签包裹ul标签</code></p></li><li><p>我们需要在<code>mounted</code>使用<code>BScroll</code></p><p>第一个参数: <code>包裹ul标签的div</code></p><p>第二个参数: 绑定参数、如:<code>probeType</code> 、值为0时不派发 scroll 事件、值为1时屏幕滑动超过一定时间后派发<a target="_blank" rel="noopener external nofollow noreferrer" href="https://ustbhuangyi.github.io/better-scroll/doc/zh-hans/events.html#scroll">scroll 事件</a>；值为2时在屏幕滑动的过程中实时的派发 scroll 事件(如滑到底部时的动画然不会有事件)、值为3时屏幕滑动的过程中，滚动动画运行过程中实时派发 scroll 事件(如滑到底部时的动画然会有事件)</p></li><li><p><code>div</code>需要高度、否则不起作用</p></li><li><p>通过<code>on</code>方法绑定参数</p></li><li><p>绑定<code>pullingUp</code>参数时需要添加<code>pullUpLoad: true</code></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	  ...	</span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>8<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>9<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>10<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	  ...	</span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>25<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> BScroll <span class="keyword">from</span> <span class="string">&#x27;better-scroll&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        scroll: <span class="literal">null</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.scroll = <span class="keyword">new</span> BScroll(<span class="built_in">this</span>.$refs.wrapper, &#123;</span></span><br><span class="line">        probeType: 2,</span><br><span class="line"><span class="javascript">        pullUpLoad: <span class="literal">true</span></span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.scroll.on(<span class="string">&#x27;scroll&#x27;</span>,<span class="function">(<span class="params">position</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(position)</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.scroll.on(<span class="string">&#x27;pullingUp&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;上拉刷新&quot;</span>)</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.wrapper</span> &#123;</span></span><br><span class="line">    height: 200px;</span><br><span class="line">    background-color: red;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="简单封装"><a href="#简单封装" class="headerlink" title="简单封装"></a>简单封装</h5><p>功能:</p><ul><li><code>backtop</code>在滑动一定距离时显示</li><li>上拉加载更多</li></ul><h6 id="scroll"><a href="#scroll" class="headerlink" title="scroll"></a>scroll</h6><p>在<code>src\components\common\scroll</code>下创建<code>Scroll</code></p><ul><li><code>probeType</code>值不为0时、才会监听<code>scroll</code>事件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> BScroll <span class="keyword">from</span> <span class="string">&quot;better-scroll&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Scroll&quot;</span>,</span></span><br><span class="line">    props:&#123;</span><br><span class="line">      probeType: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>: <span class="number">0</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">      pullUpLoad: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Boolean</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>: <span class="literal">false</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        scroll: <span class="literal">null</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.scroll = <span class="keyword">new</span> BScroll(<span class="built_in">this</span>.$refs.wrapper, &#123;</span></span><br><span class="line"><span class="javascript">        probeType: <span class="built_in">this</span>.probeType,</span></span><br><span class="line"><span class="javascript">        pullUpLoad: <span class="built_in">this</span>.pullUpLoad,  </span></span><br><span class="line"><span class="javascript">        <span class="comment">//better-scroll 默认会阻止浏览器的原生 click 事件。当设置为 true，better-scroll 会派发一个 click 事件</span></span></span><br><span class="line"><span class="javascript">        click: <span class="literal">true</span></span></span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line"><span class="javascript">      <span class="comment">// 当有 probeType 属性时 才会监听滚动</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.scroll.on(<span class="string">&quot;scroll&quot;</span>,( <span class="function"><span class="params">position</span> =&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//自定义事件 子传父</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.$emit(<span class="string">&#x27;scroll&#x27;</span>,position)</span></span><br><span class="line">      &#125;))  </span><br><span class="line">      </span><br><span class="line"><span class="javascript">      <span class="comment">// 当有 pullUpLoad 属性为 true 才会监听上拉</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.scroll.on(<span class="string">&#x27;pullingUp&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&quot;pullingUp&quot;</span>)</span></span><br><span class="line">      &#125;)  </span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//对BScroll的scrollTo封装</span></span></span><br><span class="line">      scrollTo(x, y, time = 500) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.scroll.scrollTo(x, y, time)</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line"><span class="javascript">      <span class="comment">// 当上拉加载数据加载完毕后，需要调用此方法告诉 better-scroll 数据已加载。  </span></span></span><br><span class="line">      finishPullUp()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.scroll.finishPullUp()</span></span><br><span class="line">      &#125;  </span><br><span class="line">      </span><br><span class="line"><span class="javascript">      <span class="comment">//重新计算 better-scroll，当 DOM 结构发生变化的时候务必要调用确保滚动的效果正常。</span></span></span><br><span class="line">      refresh() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.scroll.refresh()</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="backtop"><a href="#backtop" class="headerlink" title="backtop"></a>backtop</h6><p>在<code>src\components\contents\backtop</code>下创建<code>BackTop</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back-top&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;~assets/img/common/top.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        name: <span class="string">&quot;BackTop&quot;</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.back-top</span>&#123;</span></span><br><span class="line">    position: fixed;</span><br><span class="line">    bottom: 53px;</span><br><span class="line">    right: 3px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.back-top</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h6><ul><li>通过绝对定位<code>scroll</code>组件就可以不用指定高度来显示滚动区域了、或者使用<code>height:calc(100%-93px); 但是又bug</code></li><li><code>ref=&quot;refname&quot;</code>可以绑定组件、<code>this.$refs.refname</code>使用</li><li>自定义组件本身不能添加自定义事件、需要添加事件修饰符<code>.native</code></li><li><code>this.isShowBackTop = -position.y &gt; 1000</code> 判断 滑动距离大于1000时才会显示BackTop</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">   ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">scroll</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;scroll&quot;</span> @<span class="attr">scroll</span>=<span class="string">&quot;contentScroll&quot;</span> <span class="attr">:probeType</span>=<span class="string">&quot;3&quot;</span> <span class="attr">:pullUpLoad</span>=<span class="string">&quot;true&quot;</span> @<span class="attr">pullingUp</span>=<span class="string">&quot;loadMore&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HomeSwiper</span> <span class="attr">:banners</span>=<span class="string">&quot;banners&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HomeRecommend</span> <span class="attr">:recommends</span>=<span class="string">&quot;recommends&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HomeFeatureView</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">class</span>=<span class="string">&quot;home-tab-control&quot;</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;流行&#x27;, &#x27;新款&#x27;, &#x27;精选&#x27;]&quot;</span> @<span class="attr">tabClick</span>=<span class="string">&quot;tabClick&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">good-list</span> <span class="attr">:goods</span>=<span class="string">&quot;showGoods&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">scroll</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">BackTop</span> @<span class="attr">click.native</span>=<span class="string">&quot;topClick&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShowBackTop&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Scroll <span class="keyword">from</span> <span class="string">&quot;components/common/scroll/Scroll&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> BackTop <span class="keyword">from</span> <span class="string">&quot;components/contents/backtop/BackTop&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      GoodList,</span><br><span class="line"><span class="javascript">      Scroll,BackTop <span class="comment">//...</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    data()&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">            isShowBackTop:<span class="literal">false</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    methods: &#123;</span><br><span class="line">      /**</span><br><span class="line">       * 事件相关</span><br><span class="line">       */</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">      topClick()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.scroll.scroll)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$refs.scroll.scrollTo(<span class="number">0</span>,<span class="number">0</span>)</span></span><br><span class="line">      &#125;,</span><br><span class="line">      contentScroll(position)&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.isShowBackTop = -position.y &gt; <span class="number">1000</span></span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="comment">//加载更多</span></span></span><br><span class="line">      loadMore()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.getHomeGoods(<span class="built_in">this</span>.currentType)</span></span><br><span class="line">      &#125;,    </span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">     getHomeGoods(type) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> page = <span class="built_in">this</span>.goods[type].page + <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">        getHomeGoods(type, page).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// console.log(res.data.list)</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.goods[type].list.push(...res.data.list)</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.goods[type].page += <span class="number">1</span>;</span></span><br><span class="line">            </span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.$refs.scroll.finishPullUp();</span></span><br><span class="line">        &#125;)   </span><br><span class="line">     &#125;   </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#home</span> &#123;</span></span><br><span class="line">    height: 100vh;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-nav-bar</span> &#123;</span></span><br><span class="line">    background-color: var(--color-tint);</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"></span><br><span class="line">    position: fixed;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    z-index: 9;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-tab-control</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="comment">/*两个要混合使用*/</span></span></span><br><span class="line">    position: sticky;</span><br><span class="line"><span class="css">    <span class="selector-tag">top</span>: 44<span class="selector-tag">px</span>; <span class="comment">/*顶部navbar的高度*/</span></span></span><br><span class="line">    z-index: 8;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.wrapper</span>&#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 44px;</span><br><span class="line">    bottom: 49px;</span><br><span class="line">    right: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  /*.wrapper &#123;</span><br><span class="line">   height: calc(100% - 93px)</span><br><span class="line">    overflow: hidden;</span><br><span class="line">   margin-top: 44px;</span><br><span class="line">   &#125;  */</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="解决首页中Better-Scroll可滚动区域的问题"><a href="#解决首页中Better-Scroll可滚动区域的问题" class="headerlink" title="解决首页中Better-Scroll可滚动区域的问题"></a>解决首页中Better-Scroll可滚动区域的问题</h4><h5 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h5><ul><li><p>Better-Scroll在决定有多少区域可以滚动时，是根据<code>scrollerHeight</code>属性决定</p><ul><li><p>scrollerHeight属性是根据放Better Scroll的content中的子组件的高度</p></li><li><p>但是我们的首页中,刚开始在计算<code>scrollerHeight</code>属性时,是没有将图片计算在内的</p></li><li><p>所以,计算出来的告诉是错误的(1300+)</p></li><li><p>后来图片加载进来之后有了新的高度,但是scrollerHeight属性并没有进行更新.</p></li><li><p>所以滚动出现了问题</p></li></ul></li><li><p>如何解决这个问题了?</p><ul><li>监听每一张图片是否加载完成，只要有一张图片加载完成了，执行一 次<code>refresh()</code></li><li>如何监听图片加载完成了?<ul><li>元素的js监听图片<code>img.onload = function()&#123;&#125;</code></li><li><code>Vue中监听: @load=&#39;方法&#39;</code></li></ul></li><li>调用scroll的<code>refresh</code></li></ul></li><li><p>如何将<code>GoodsListltem.vue</code>中 的事件传入到<code>Home.vue</code>中</p><ul><li>因为涉及到非父子组件的通信,所以这里我们选择了事件总线<ul><li><code>$bus</code> -&gt; 总线</li><li><code>Vue.prototype.$bus = new Vue()</code></li><li><code>this.$bus.emit(&#39;事件名称&#39;,参数)</code></li><li><code>this.$bus.on(&#39;事件名称&#39;,回调函数(参数))</code></li></ul></li></ul></li></ul><p>对于<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jb51.net/article/132371.htm">非父子组件通信</a>来说我们需要使用集中式的事件中间件：<code>Bus</code>。</p><p>在组件中，可以使用<code>$emit， $on， $off</code> 分别来<code>分发、监听、取消监听</code>事件</p><p>需要在main.js中注册</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局实例化$bus事件总线</span></span><br><span class="line">Vue.prototype.$bus = <span class="keyword">new</span> Vue()</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>编辑<code>GoodListItem.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-item&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- @load 事件是图片加载完成之后会调用的 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;goodItem.showLarge.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> @<span class="attr">load</span>=<span class="string">&quot;imageLoad&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-info&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; goodItem.title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;price&quot;</span>&gt;</span>&#123;&#123;goodItem.price&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;collect&quot;</span>&gt;</span>&#123;&#123; goodItem.cfav &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;GoodListItem&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      goodItem: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      imageLoad()&#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// $emit 分发事件</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$bus.$emit(<span class="string">&#x27;imageLoad&#x27;</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>Home.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">   ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    mounted() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//监听</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;imageLoad&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$refs.scroll.refresh()</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="防抖动"><a href="#防抖动" class="headerlink" title="防抖动"></a>防抖动</h5><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://segmentfault.com/a/1190000018428170">浅谈js防抖和节流</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例子</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn,delay</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span> <span class="comment">//借助闭包</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer) </span><br><span class="line">        &#125;</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(fn,delay) <span class="comment">// 简化写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onscroll = debounce(showTop,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>刷新频繁找不到<code>refresh</code>的解决办法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">   ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    mounted() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> refresh = <span class="built_in">this</span>.debounce(<span class="built_in">this</span>.$refs.scroll.refresh,<span class="number">50</span>)</span></span><br><span class="line"><span class="javascript">      <span class="comment">//创建时监听</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;imageLoad&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line">        refresh()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    methods: &#123;</span><br><span class="line">      /**</span><br><span class="line">       * 事件相关</span><br><span class="line">       */</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//防抖动</span></span></span><br><span class="line">      debounce(func, delay) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span></span><br><span class="line"><span class="javascript">          timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            func.apply(<span class="built_in">this</span>, args)</span></span><br><span class="line">          &#125;, delay)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">     <span class="comment">//...</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>我们可以把函数封装到<code>src\common\utils.js</code>里</p><h4 id="tabControl的吸顶效果"><a href="#tabControl的吸顶效果" class="headerlink" title="tabControl的吸顶效果"></a>tabControl的吸顶效果</h4><h5 id="获取到tabControl的offsetTop"><a href="#获取到tabControl的offsetTop" class="headerlink" title="获取到tabControl的offsetTop"></a>获取到tabControl的offsetTop</h5><ul><li><p>必须知道滚动到多少时,开始有吸顶效果,这个时候就需要获取tabControl的offsetTop</p></li><li><p>但是,如果直接在mounted中获取tabControl的offsetTop,那么值是不正确.</p></li><li><p>如何获取正确的值了?</p><ul><li>监听HomeSwiper中img的加载完成.</li><li>加载完成后,发出事件,在Home.vue中,获取正确的值.</li></ul></li><li><p>补充:</p><ul><li>为了不让HomeSwiper多次发出事件,</li><li>可以使用isLoad的变量进行状态的记录.</li><li>注意:这里不进行多次调用和debounce的区别</li></ul></li><li><p>监听滚动,动态的改变tabControl的样式</p><ul><li>问题动态的改变tabControl的样式时，会出现两个问题:</li><li>问题一:下面的商品内容,会突然上移</li><li>问题二: tabControl虽然设置了fixed,但是也随着Better-Scroll-起滚出去了.</li></ul></li><li><p>其他方案来解决停留问题.</p><ul><li>在最上面,多复制了一份PlaceHolderTabControl组件对象,利用它来实现停留效果.</li><li>当用户滚动到一定位置时, PlaceHolderTabControl显示出来.</li><li>当用户滚动没有达到- -定位置时, PlaceHolderTabControl隐藏起来.</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NavBar</span> <span class="attr">class</span>=<span class="string">&quot;home-nav-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>购物街<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">NavBar</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">class</span>=<span class="string">&quot;home-tab-control&quot;</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;流行&#x27;, &#x27;新款&#x27;, &#x27;精选&#x27;]&quot;</span> @<span class="attr">tabClick</span>=<span class="string">&quot;tabClick&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;tabControl1&quot;</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">v-show</span>=<span class="string">&quot;isFixed&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scroll</span> <span class="attr">ref</span>=<span class="string">&quot;scroll&quot;</span> @<span class="attr">scroll</span>=<span class="string">&quot;contentScroll&quot;</span> <span class="attr">:probeType</span>=<span class="string">&quot;3&quot;</span> <span class="attr">:pullUpLoad</span>=<span class="string">&quot;true&quot;</span> @<span class="attr">pullingUp</span>=<span class="string">&quot;loadMore&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HomeSwiper</span> <span class="attr">:banners</span>=<span class="string">&quot;banners&quot;</span> @<span class="attr">swiperImageLoad</span>=<span class="string">&quot;swiperLoad&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;swiper&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HomeRecommend</span> <span class="attr">:recommends</span>=<span class="string">&quot;recommends&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HomeFeatureView</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;流行&#x27;, &#x27;新款&#x27;, &#x27;精选&#x27;]&quot;</span> @<span class="attr">tabClick</span>=<span class="string">&quot;tabClick&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;tabControl2&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">good-list</span> <span class="attr">:goods</span>=<span class="string">&quot;showGoods&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">scroll</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">BackTop</span> @<span class="attr">click.native</span>=<span class="string">&quot;topClick&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShowBackTop&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&quot;components/common/navbar/NavBar&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> TabControl <span class="keyword">from</span> <span class="string">&quot;components/contents/tabcontrol/TabControl&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Scroll <span class="keyword">from</span> <span class="string">&quot;components/common/scroll/Scroll&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> BackTop <span class="keyword">from</span> <span class="string">&quot;components/contents/backtop/BackTop&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> GoodList <span class="keyword">from</span> <span class="string">&quot;../../components/contents/good/GoodList&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HomeSwiper <span class="keyword">from</span> <span class="string">&quot;./childComps/HomeSwiper&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HomeRecommend <span class="keyword">from</span> <span class="string">&quot;./childComps/HomeRecommend&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HomeFeatureView <span class="keyword">from</span> <span class="string">&quot;./childComps/HomeFeatureView&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getHomeMultiData, getHomeGoods&#125; <span class="keyword">from</span> <span class="string">&quot;network/home&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;debounce&#125; <span class="keyword">from</span> <span class="string">&quot;common/utils&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      GoodList,</span><br><span class="line">      NavBar, TabControl, Scroll, HomeSwiper, HomeRecommend, HomeFeatureView, BackTop</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//  tabControl2 距离顶部的高度</span></span></span><br><span class="line">        tabOffsetTop: 0,</span><br><span class="line"><span class="javascript">        <span class="comment">//判断是否显示 tabControl1</span></span></span><br><span class="line"><span class="javascript">        isFixed: <span class="literal">false</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    methods: &#123;</span><br><span class="line">      /**</span><br><span class="line">       * 事件相关</span><br><span class="line">       */</span><br><span class="line">      tabClick(index) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (index) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="number">0</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentType = <span class="string">&quot;pop&quot;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="number">1</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentType = <span class="string">&quot;new&quot;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="number">2</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentType = <span class="string">&quot;sell&quot;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$refs.tabControl1.currentIndex = index;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$refs.tabControl2.currentIndex = index;</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">      contentScroll(position) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.isShowBackTop = (-position.y) &gt; <span class="number">1000</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.isFixed = (-position.y) &gt; <span class="built_in">this</span>.tabOffsetTop</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">      swiperLoad() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.tabOffsetTop = <span class="built_in">this</span>.$refs.tabControl2.$el.offsetTop</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#home</span> &#123;</span></span><br><span class="line">    height: 100vh;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-nav-bar</span> &#123;</span></span><br><span class="line">    background-color: var(--color-tint);</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="comment">/*position: fixed;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*left: 0;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*right: 0;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*top: 0;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*z-index: 9;*/</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.home-tab-control</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="comment">/*调整一下层级 并且有 position定位的*/</span>  </span></span><br><span class="line">    z-index: 9;</span><br><span class="line">    margin-top: -1px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.wrapper</span>&#123;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 44px;</span><br><span class="line">    bottom: 49px;</span><br><span class="line">    right: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="让Home保持原来的状态"><a href="#让Home保持原来的状态" class="headerlink" title="让Home保持原来的状态"></a>让Home保持原来的状态</h4><ul><li>让Home不要随意销毁掉<ul><li><code>keep-alive</code>(可能使用还会有问题、但是我测试时候没问题)</li></ul></li><li>让Home中的内容保持原来的位置<ul><li>离开时,保存一一个位置信息TopY,</li><li>进来时,将位置设置为原来保存的位置TopY信息即可.<ul><li>注意:最好回来时,进行一次<code>refresh()</code></li></ul></li></ul></li></ul><p>编辑<code>App.app</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">exclude</span>=<span class="string">&quot;Detail&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main-tar-bar</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编辑<code>Home.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...  </span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//...</span></span></span><br><span class="line">        TopY: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    activated() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$refs.scroll.scrollTo(<span class="number">0</span>,<span class="built_in">this</span>.TopY,<span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$refs.scroll.refresh()</span></span><br><span class="line">    &#125;,</span><br><span class="line">    deactivated() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.TopY = <span class="built_in">this</span>.$refs.scroll.getTopY();</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="详情页开发"><a href="#详情页开发" class="headerlink" title="详情页开发"></a>详情页开发</h3><p>在<code>src/views/detail</code>下创建<code>Detail.vue</code></p><p>编辑<code>src/router/index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">const</span> Detail = <span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;views/detail/Detail&#x27;</span>)</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/detail/:iid&#x27;</span>,</span><br><span class="line">    component: Detail</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure><p>再编辑<code>src/components/contents/good/GoodListItem.vue</code> 给<code>goods-items</code>添加一个点击事件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickDetail&quot;</span>&gt;</span></span><br><span class="line">   ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    methods:&#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">      clickDetail()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$router.push(<span class="string">&quot;/detail/&quot;</span>+ <span class="built_in">this</span>.goodItem.iid)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="封装顶部导航栏"><a href="#封装顶部导航栏" class="headerlink" title="封装顶部导航栏"></a>封装顶部导航栏</h4><p>在<code>src/views/detail/childComps</code>下创建<code>DetailNav.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NavBar</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;back&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;~assets/img/common/back.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span> <span class="attr">class</span>=<span class="string">&quot;detail&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in titles&quot;</span> <span class="attr">class</span>=<span class="string">&quot;detail-item&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active: currentIndex == index&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;itemClick(index)&quot;</span>&gt;</span></span><br><span class="line">          &#123;&#123; item &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">NavBar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&quot;components/common/navbar/NavBar&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;DetailNavBar&quot;</span>,</span></span><br><span class="line">    components:&#123;</span><br><span class="line">      NavBar</span><br><span class="line">    &#125;,</span><br><span class="line">    data()&#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">        titles: [<span class="string">&#x27;商品&#x27;</span>,<span class="string">&#x27;参数&#x27;</span>,<span class="string">&#x27;评论&#x27;</span>,<span class="string">&#x27;推荐&#x27;</span>],</span></span><br><span class="line">        currentIndex:  0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      itemClick(index)&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.currentIndex = index</span></span><br><span class="line">      &#125;,</span><br><span class="line">      back()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$router.go(<span class="number">-1</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.detail</span>&#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    font-size: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.detail-item</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">flex</span><span class="selector-pseudo">:1</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.active</span>&#123;</span></span><br><span class="line">    color: var(--color-high-text);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.back</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="轮播图展示"><a href="#轮播图展示" class="headerlink" title="轮播图展示"></a>轮播图展示</h4><p>在<code>src/network</code>下创建<code>detail.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; request &#125; <span class="keyword">from</span> <span class="string">&quot;./request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getDetail</span>(<span class="params">iid</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;/detail&#x27;</span>,</span><br><span class="line">      params:&#123;</span><br><span class="line">        iid</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>src/views/detail/childComps</code>下创建<code>DetailSwiper.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;detail-swiper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">swiper-item</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in banners&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">class</span>=<span class="string">&quot;detail-swiper&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;Swiper, SwiperItem&#125; <span class="keyword">from</span> <span class="string">&#x27;@/components/common/swiper/index&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;DetailSwiper&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      Swiper,SwiperItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:&#123;</span><br><span class="line">      banners: &#123;</span><br><span class="line"><span class="javascript">        type:<span class="built_in">Array</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>()&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> []</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.detail-swiper</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">height</span><span class="selector-pseudo">:300px</span>;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h4><p>编辑<code>src/network/detail.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6的类,详情数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(itemInfo, columns, services) &#123;</span><br><span class="line">    <span class="built_in">this</span>.title = itemInfo.title;</span><br><span class="line">    <span class="built_in">this</span>.desc = itemInfo.desc;</span><br><span class="line">    <span class="built_in">this</span>.newPrice = itemInfo.price;</span><br><span class="line">    <span class="built_in">this</span>.lowNowPrice = itemInfo.lowNowPrice;</span><br><span class="line">    <span class="built_in">this</span>.oldPrice = itemInfo.oldPrice;</span><br><span class="line">    <span class="built_in">this</span>.discount = itemInfo.discountDesc;</span><br><span class="line">    <span class="built_in">this</span>.discountBgColor = itemInfo.discountBgColor;</span><br><span class="line">    <span class="built_in">this</span>.columns = columns;</span><br><span class="line">    <span class="built_in">this</span>.services = services;</span><br><span class="line">    <span class="built_in">this</span>.realPrice = itemInfo.lowNowPrice;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>src/views/detail/childComps</code>下创建<code>DetailBaseInfo.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 判断对象是否为空 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;base-info&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(goods).length !== 0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-title&quot;</span>&gt;</span>&#123;&#123; goods.title &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-price&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;n-price&quot;</span>&gt;</span>&#123;&#123; goods.newPrice &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;goods.oldPrice&quot;</span> <span class="attr">class</span>=<span class="string">&quot;o-price&quot;</span>&gt;</span>&#123;&#123; goods.oldPrice &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:style</span>=<span class="string">&quot;&#123; backgroundColor: goods.discountBgColor &#125;&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">&quot;discount&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-if</span>=<span class="string">&quot;goods.discount&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        &#123;&#123; goods.discount &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-other&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; goods.columns[0] &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; goods.columns[1] &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; goods.services[goods.services.length - 1].name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-service&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">&quot;info-service-item&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-for</span>=<span class="string">&quot;index in goods.services.length - 1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-if</span>=<span class="string">&quot;goods.services[index - 1].icon&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;goods.services[index - 1].icon&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; goods.services[index - 1].name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;DetailBaseInfo&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      goods: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;&#125;;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.base-info</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    margin-top: 15px;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999999</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#f2f5f8</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-title</span> &#123;</span></span><br><span class="line">    text-align: justify;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#222222</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-price</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-price</span> <span class="selector-class">.n-price</span> &#123;</span></span><br><span class="line">    font-size: 24px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ff5777</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-price</span> <span class="selector-class">.o-price</span> &#123;</span></span><br><span class="line">    font-size: 13px;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    text-decoration: line-through;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-price</span> <span class="selector-class">.discount</span> &#123;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">    position: relative;</span><br><span class="line">    top: -4px;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    padding: 3px 6px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ffffff</span>;</span></span><br><span class="line">    border-radius: 8px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#ff5777</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-other</span> &#123;</span></span><br><span class="line">    font-size: 13px;</span><br><span class="line">    line-height: 30px;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    margin-top: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">rgba</span>(100, 100, 100, 0<span class="selector-class">.1</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-service</span> &#123;</span></span><br><span class="line">    line-height: 60px;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-service-item</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    top: 2px;</span><br><span class="line">    width: 14px;</span><br><span class="line">    height: 14px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-service-item</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    font-size: 13px;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333333</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="店铺信息"><a href="#店铺信息" class="headerlink" title="店铺信息"></a>店铺信息</h4><p>编辑<code>src/network/detail.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 店铺数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Shop</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(shopInfo) &#123;</span><br><span class="line">    <span class="built_in">this</span>.logo = shopInfo.shopLogo;</span><br><span class="line">    <span class="built_in">this</span>.name = shopInfo.name;</span><br><span class="line">    <span class="built_in">this</span>.fans = shopInfo.cFans;</span><br><span class="line">    <span class="built_in">this</span>.sells = shopInfo.cSells;</span><br><span class="line">    <span class="built_in">this</span>.score = shopInfo.score;</span><br><span class="line">    <span class="built_in">this</span>.goodsCount = shopInfo.cGoods;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>src/views/detail/childComps</code>下创建<code>DetailShopInfo.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shop-info&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(shop).length !== 0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shop-top&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;shop.logo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;shop.logo&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; shop.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shop-middle&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shop-middle-item shop-middle-left&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-sells&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sells-count&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; shop.sells | sellCountFilter &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sells-text&quot;</span>&gt;</span>总销量<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-goods&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-count&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; shop.goodsCount &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-text&quot;</span>&gt;</span>全部宝贝<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shop-middle-item shop-middle-right&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">tr</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in shop.score&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; &#x27;score-better&#x27;: item.isBetter &#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;score&quot;</span>&gt;</span></span><br><span class="line">              &#123;&#123; item.score &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; &#x27;better-more&#x27;: item.isBetter &#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;better&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item.isBetter ? &quot;高&quot; : &quot;低&quot; &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shop-bottom&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;enter-shop&quot;</span>&gt;</span>进店逛逛<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;DetailShopInfo&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      shop: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;&#125;;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    filters: &#123;</span><br><span class="line">      sellCountFilter(value) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (value &lt; <span class="number">10000</span>) <span class="keyword">return</span> value;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> (value / <span class="number">10000</span>).toFixed(<span class="number">1</span>) + <span class="string">&quot;万&quot;</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-info</span> &#123;</span></span><br><span class="line">    padding: 25px 8px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#f2f5f8</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-top</span> &#123;</span></span><br><span class="line">    line-height: 45px;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-top</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 45px;</span><br><span class="line">    height: 45px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.1</span>);</span></span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-top</span> <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">    margin-left: 10px;</span><br><span class="line">    vertical-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle</span> &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    margin-top: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-item</span> &#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-left</span> &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-evenly;</span><br><span class="line">    text-align: center;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333333</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.1</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.sells-count</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-count</span> &#123;</span></span><br><span class="line">    font-size: 18px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.sells-text</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-text</span> &#123;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> &#123;</span></span><br><span class="line">    font-size: 13px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333333</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> <span class="selector-tag">table</span> &#123;</span></span><br><span class="line">    width: 120px;</span><br><span class="line">    margin-left: 30px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> <span class="selector-tag">table</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line">    padding: 5px 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> <span class="selector-class">.score</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#5ea732</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> <span class="selector-class">.score-better</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#f13e3a</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> <span class="selector-class">.better</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    padding: 3px;</span><br><span class="line">    text-align: center;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ffffff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#5ea732</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-middle-right</span> <span class="selector-class">.better-more</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f13e3a</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.shop-bottom</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.enter-shop</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 30px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 150px;</span><br><span class="line">    height: 30px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f2f5f8</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="商品信息"><a href="#商品信息" class="headerlink" title="商品信息"></a>商品信息</h4><p>编辑<code>src/network/detail.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 店铺数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Shop</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(shopInfo) &#123;</span><br><span class="line">    <span class="built_in">this</span>.logo = shopInfo.shopLogo;</span><br><span class="line">    <span class="built_in">this</span>.name = shopInfo.name;</span><br><span class="line">    <span class="built_in">this</span>.fans = shopInfo.cFans;</span><br><span class="line">    <span class="built_in">this</span>.sells = shopInfo.cSells;</span><br><span class="line">    <span class="built_in">this</span>.score = shopInfo.score;</span><br><span class="line">    <span class="built_in">this</span>.goodsCount = shopInfo.cGoods;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>src/views/detail/childComps</code>下创建<code>DetailGoodsInfo.vue</code></p><ul><li>data中<code>counter</code>为<code>计算图片加载个数</code></li><li>data中<code>detailLength</code>为获取的数据<code>detailInfo</code>中<code>detailImage</code>数组的长度</li><li>通过侦听属性<code>watch</code>监听<code>detailImage</code>数组的长度、提高性能</li><li>当counter等于detailImage时才向父组件发送<code>imgLoad</code>事件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(detailInfo).length !== 0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-text-wrap&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-top-style&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc info-text-desc&quot;</span>&gt;</span>&#123;&#123;detailInfo.desc&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-bot-style&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;img-list-wrap&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in detailInfo.detailImage&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>&#123;&#123;item.key&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in item.list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;img&quot;</span> @<span class="attr">load</span>=<span class="string">&quot;imgLoad&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&#x27;DetailGoodsInfo&#x27;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      detailInfo: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        counter: 0,</span><br><span class="line">        detailLength: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      imgLoad() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (++<span class="built_in">this</span>.counter == <span class="built_in">this</span>.detailLength)</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.$emit(<span class="string">&#x27;imgLoad&#x27;</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">      detailInfo() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.detailInfo.detailImage.forEach(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.detailLength += <span class="built_in">this</span>.detailInfo.detailImage[index].list.length</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.text-top-style</span> &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 1px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    margin-left: 4px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.text-top-style</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">top</span>: <span class="selector-tag">-2</span><span class="selector-class">.5px</span>;</span></span><br><span class="line">    display: block;</span><br><span class="line">    content: &#x27;&#x27;;</span><br><span class="line">    width: 5px;</span><br><span class="line">    height: 5px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#333333</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.text-top-style</span> <span class="selector-class">.text-bot-style</span> &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 1px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 4px;</span><br><span class="line">    bottom: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.text-top-style</span> <span class="selector-class">.text-bot-style</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">top</span>: <span class="selector-tag">-2</span><span class="selector-class">.5px</span>;</span></span><br><span class="line">    display: block;</span><br><span class="line">    content: &#x27;&#x27;;</span><br><span class="line">    width: 5px;</span><br><span class="line">    height: 5px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#333333</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.text-bot-style</span> &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 1px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 4px;</span><br><span class="line">    bottom: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.text-bot-style</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">top</span>: <span class="selector-tag">-2</span><span class="selector-class">.5px</span>;</span></span><br><span class="line">    display: block;</span><br><span class="line">    content: &#x27;&#x27;;</span><br><span class="line">    width: 5px;</span><br><span class="line">    height: 5px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-text-wrap</span> <span class="selector-class">.info-text-desc</span> &#123;</span></span><br><span class="line">    padding: 10px 4px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.desc</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line">    padding-bottom: 6px;</span><br><span class="line">    line-height: 20px;</span><br><span class="line">    margin: 4px 0;</span><br><span class="line">    text-indent: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.img</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="参数信息"><a href="#参数信息" class="headerlink" title="参数信息"></a>参数信息</h4><p>编辑<code>src/network/detail.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 尺寸数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodsParams</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(info, rule) &#123;</span><br><span class="line">    <span class="comment">// 注: images可能没有值(某些商品有值, 某些没有值)</span></span><br><span class="line">    <span class="built_in">this</span>.image = info.images ? info.images[<span class="number">0</span>] : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.infos = info.set;</span><br><span class="line">    <span class="built_in">this</span>.sizes = rule.tables;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>src/views/detail/childComps</code>下创建<code>DetailParamInfo.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(paramInfo).length !== 0&quot;</span> <span class="attr">class</span>=<span class="string">&quot;params-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in paramInfo.rule&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;list in item&quot;</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;list.id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;listitem in list&quot;</span> <span class="attr">class</span>=<span class="string">&quot;rule-list-item&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;listitem.id&quot;</span>&gt;</span></span><br><span class="line">          &#123;&#123;listitem&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(info, index) in paramInfo.info&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">class</span>=<span class="string">&quot;flex info-list-wrap&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-list-tit&quot;</span>&gt;</span>&#123;&#123;info.key&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;info.value&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&#x27;DetailParamInfo&#x27;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      paramInfo: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.params-wrap</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-top</span>: 4<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ececec</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 4<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ececec</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.rule-list-item</span> &#123;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">    width: 20%;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ececec</span>;</span></span><br><span class="line">    padding: 10px 4px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-list-wrap</span> &#123;</span></span><br><span class="line">    font-size: 14px;;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ececec</span>;</span></span><br><span class="line">    padding: 10px 4px;</span><br><span class="line">    line-height: 20px;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-list-wrap</span> <span class="selector-class">.info-list-tit</span> &#123;</span></span><br><span class="line">    width: 18%;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="评论信息"><a href="#评论信息" class="headerlink" title="评论信息"></a>评论信息</h4><p>编辑<code>src/common/utils.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 时间格式化</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">formatDate</span>(<span class="params">date, fmt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.test(fmt)) &#123;</span><br><span class="line">    fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, (date.getFullYear() + <span class="string">&quot;&quot;</span>).substr(<span class="number">4</span> - <span class="built_in">RegExp</span>.$<span class="number">1.</span>length));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> o = &#123;</span><br><span class="line">    <span class="string">&quot;M+&quot;</span>: date.getMonth() + <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;d+&quot;</span>: date.getDate(),</span><br><span class="line">    <span class="string">&quot;h+&quot;</span>: date.getHours(),</span><br><span class="line">    <span class="string">&quot;m+&quot;</span>: date.getMinutes(),</span><br><span class="line">    <span class="string">&quot;s+&quot;</span>: date.getSeconds()</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(<span class="subst">$&#123;k&#125;</span>)`</span>).test(fmt)) &#123;</span><br><span class="line">      <span class="keyword">let</span> str = o[k] + <span class="string">&quot;&quot;</span>;</span><br><span class="line">      fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, <span class="built_in">RegExp</span>.$<span class="number">1.</span>length === <span class="number">1</span> ? str : padLeftZero(str));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> fmt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padLeftZero</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="string">&quot;00&quot;</span> + str).substr(str.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>src/views/detail/childComps</code>下创建<code>DetailCommentInfo.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comment-info&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;Object.keys(commentInfo).length !== 0&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-header&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-title&quot;</span>&gt;</span>用户评价<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-more&quot;</span>&gt;</span></span><br><span class="line">          更多</span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;arrow-right&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-user&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;commentInfo.user.avatar&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; commentInfo.user.uname &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-detail&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; commentInfo.content &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-other&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;date&quot;</span>&gt;</span>&#123;&#123; commentInfo.created | showDate &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; commentInfo.style &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-imgs&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in commentInfo.images&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; formatDate &#125; <span class="keyword">from</span> <span class="string">&quot;common/utils&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;DetailCommentInfo&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      commentInfo: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    filters: &#123;</span><br><span class="line"><span class="javascript">      showDate: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(value * <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> formatDate(date, <span class="string">&quot;yyyy-MM-dd hh:mm&quot;</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.comment-info</span> &#123;</span></span><br><span class="line">    padding: 5px 12px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333333</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#f2f5f8</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-header</span> &#123;</span></span><br><span class="line">    line-height: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.1</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.header-title</span> &#123;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line">    float: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.header-more</span> &#123;</span></span><br><span class="line">    font-size: 13px;</span><br><span class="line">    float: right;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-user</span> &#123;</span></span><br><span class="line">    padding: 10px 0 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-user</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 42px;</span><br><span class="line">    height: 42px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-user</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line">    position: relative;</span><br><span class="line">    top: -15px;</span><br><span class="line">    margin-left: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-detail</span> &#123;</span></span><br><span class="line">    padding: 0 5px 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-detail</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">line-height</span>: 1<span class="selector-class">.5</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#777777</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-detail</span> <span class="selector-class">.info-other</span> &#123;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999999</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-other</span> <span class="selector-class">.date</span> &#123;</span></span><br><span class="line">    margin-right: 8px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-imgs</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-imgs</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 70px;</span><br><span class="line">    height: 70px;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="推荐信息"><a href="#推荐信息" class="headerlink" title="推荐信息"></a>推荐信息</h4><p>编辑<code>src/network/detail.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getRecommend</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    url: <span class="string">&quot;/recommend&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由于推荐信息中图片显示的GoodsList与首页显示的不同所以需要修改<code>GoodsListItem.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clickDetail&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;showImage&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> @<span class="attr">load</span>=<span class="string">&quot;imageLoad&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;goods-info&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; goodItem.title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;price&quot;</span>&gt;</span>&#123;&#123;goodItem.price&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;collect&quot;</span>&gt;</span>&#123;&#123; goodItem.cfav &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;GoodListItem&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      goodItem: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      showImage()&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.goodItem.img || <span class="built_in">this</span>.goodItem.image</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      imageLoad()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$bus.$emit(<span class="string">&#x27;imageLoad&#x27;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">      clickDetail()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$router.push(<span class="string">&quot;/detail/&quot;</span>+ <span class="built_in">this</span>.goodItem.iid)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-item</span> &#123;</span></span><br><span class="line">    padding-bottom: 40px;</span><br><span class="line">    position: relative;</span><br><span class="line"></span><br><span class="line">    width: 48%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-item</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-info</span> &#123;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 5px;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-info</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    margin-bottom: 3px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-info</span> <span class="selector-class">.price</span> &#123;</span></span><br><span class="line">    color: var(--color-high-text);</span><br><span class="line">    margin-right: 20px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-info</span> <span class="selector-class">.collect</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.goods-info</span> <span class="selector-class">.collect</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">    content: &#x27;&#x27;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: -15px;</span><br><span class="line">    top: -1px;</span><br><span class="line">    width: 14px;</span><br><span class="line">    height: 14px;</span><br><span class="line">    background: url(&quot;~assets/img/common/collect.svg&quot;) 0 0/14px 14px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="详情页"><a href="#详情页" class="headerlink" title="详情页"></a>详情页</h4><p><code>Detail.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;detail&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">detail-nav-bar</span> <span class="attr">class</span>=<span class="string">&quot;detail-nav&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Scroll</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailSwiper</span> <span class="attr">:banners</span>=<span class="string">&quot;banners&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailBaseInfo</span> <span class="attr">:goods</span>=<span class="string">&quot;goods&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailShopInfo</span> <span class="attr">:shop</span>=<span class="string">&quot;shop&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailGoodsInfo</span> <span class="attr">:detailInfo</span>=<span class="string">&quot;detailInfo&quot;</span> @<span class="attr">imageLoad</span>=<span class="string">&quot;imageLoad&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailParamInfo</span> <span class="attr">:paramInfo</span>=<span class="string">&quot;paramInfo&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailCommentInfo</span> <span class="attr">:commentInfo</span>=<span class="string">&quot;commentInfo&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">GoodList</span> <span class="attr">:goods</span>=<span class="string">&quot;recommendList&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Scroll</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailNavBar <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailNav&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailSwiper <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailSwiper&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailBaseInfo <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailBaseInfo&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailShopInfo <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailShopInfo&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailGoodsInfo <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailGoodsInfo&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailParamInfo <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailParamInfo&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> DetailCommentInfo <span class="keyword">from</span> <span class="string">&quot;./childComps/DetailCommentInfo&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> GoodList <span class="keyword">from</span> <span class="string">&quot;components/contents/good/GoodList&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getDetail, getRecommend, Goods, Shop, GoodsParams&#125; <span class="keyword">from</span> <span class="string">&quot;network/detail&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Scroll <span class="keyword">from</span> <span class="string">&quot;components/common/scroll/Scroll&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Detail&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      DetailCommentInfo,</span><br><span class="line">      DetailNavBar,</span><br><span class="line">      DetailSwiper,</span><br><span class="line">      DetailBaseInfo,</span><br><span class="line">      DetailShopInfo,</span><br><span class="line">      DetailGoodsInfo,</span><br><span class="line">      DetailParamInfo,</span><br><span class="line">      GoodList,</span><br><span class="line">      Scroll</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        iid: <span class="literal">null</span>,</span></span><br><span class="line">        banners: [],</span><br><span class="line">        goods: &#123;&#125;,</span><br><span class="line">        shop: &#123;&#125;,</span><br><span class="line">        detailInfo: &#123;&#125;,</span><br><span class="line">        paramInfo: &#123;&#125;,</span><br><span class="line">        commentInfo: &#123;&#125;,</span><br><span class="line">        recommendList: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.iid = <span class="built_in">this</span>.$route.params.iid</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// 发送网络请求</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getProductDetail();</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getRecommend();</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      imageLoad() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$refs.scroll.refresh()</span></span><br><span class="line">      &#125;,</span><br><span class="line">      getProductDetail() &#123;</span><br><span class="line"><span class="javascript">        getDetail(<span class="built_in">this</span>.iid).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> data = res.result;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(res)</span></span><br><span class="line"><span class="javascript">          <span class="comment">//获取顶部图片信息</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.banners = data.itemInfo.topImages</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">          <span class="comment">// 获取商品数据,调用封装的ES6的class</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.goods = <span class="keyword">new</span> Goods(data.itemInfo, data.columns, data.shopInfo.services);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">          <span class="comment">// 获取店铺数据</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.shop = <span class="keyword">new</span> Shop(data.shopInfo);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">          <span class="comment">// 获取商品数据</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.detailInfo = data.detailInfo</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">          <span class="comment">//获取商品参数</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.paramInfo = <span class="keyword">new</span> GoodsParams(data.itemParams.info, data.itemParams.rule || &#123;&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">          <span class="comment">// 获取评论数据</span></span></span><br><span class="line">          if (data.rate.cRate !== 0) &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.commentInfo = data.rate.list[<span class="number">0</span>] || &#123;&#125;;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      getRecommend() &#123;</span><br><span class="line"><span class="javascript">        getRecommend().then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(res.data)</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.recommendList = res.data.list;</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.detail</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    z-index: 9;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    height: 100vh;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.content</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    height: calc(100% - 44px);</span><br><span class="line">    overflow: hidden;</span><br><span class="line"><span class="css">    <span class="comment">/*position: absolute;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*top: 44px;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*left: 0;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*right: 0;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*bottom: 49px;*/</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="mixin的使用"><a href="#mixin的使用" class="headerlink" title="mixin的使用"></a>mixin的使用</h4><p>解决全局监听产生的bug <a target="_blank" rel="noopener external nofollow noreferrer" href="https://cn.vuejs.org/v2/api/#mixins">https://cn.vuejs.org/v2/api/#mixins</a> mixins也就是把其他地方的东西整合在一个地方</p><p>创建<code>src/common/mixins.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;debounce&#125; <span class="keyword">from</span> <span class="string">&quot;./utils&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> imgListenerMixin = &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      imageListener: <span class="literal">null</span>,</span><br><span class="line">      newRefresh:<span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="built_in">this</span>.newRefresh = debounce(<span class="built_in">this</span>.$refs.scroll.refresh, <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.imageListener = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.newRefresh()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建时监听</span></span><br><span class="line">    <span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;imageLoad&#x27;</span>, <span class="built_in">this</span>.imageListener)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编辑<code>src/views/home/Home.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// ...	</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// 导入</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; imgListenerMixin &#125; <span class="keyword">from</span> <span class="string">&quot;common/mixins&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Home&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//使用  </span></span></span><br><span class="line">    mixins: [imgListenerMixin],</span><br><span class="line">    computed: &#123;</span><br><span class="line">      showGoods() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.goods[<span class="built_in">this</span>.currentType].list</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    destroyed() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//离开Home时取消事件监听</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$bus.$off(<span class="string">&#x27;imageLoad&#x27;</span>,<span class="built_in">this</span>.imageListener);</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编辑<code>src/views/detail/Detail.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// ...</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;imgListenerMixin&#125; <span class="keyword">from</span> <span class="string">&quot;common/mixins&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// ...</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Detail&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    mixins: [imgListenerMixin],</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    destroyed() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$bus.$off(<span class="string">&quot;imageLoad&quot;</span>,<span class="built_in">this</span>.imageListener)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="再次解决详情页滑动的小bug"><a href="#再次解决详情页滑动的小bug" class="headerlink" title="再次解决详情页滑动的小bug"></a>再次解决详情页滑动的小bug</h4><p><code>Detail</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"> <span class="comment">//...</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">// 判断图片加载完成，刷新可滚动区域</span></span></span><br><span class="line">      imageLoad() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.newRefresh()</span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.$refs.scroll.refresh()</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//...  </span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="标题内容联动"><a href="#标题内容联动" class="headerlink" title="标题内容联动"></a>标题内容联动</h4><p>点击标题,滚动到对应的主题<br>在detail中监听标题的点击,获取index<br>滚动到对应的主题:</p><ul><li><p>获取所有主题的offsetTop</p></li><li><p>问题:在哪里才能获取到正确的offsetTop</p><ol><li>created肯定不行， 压根不能获取元素</li><li>mounted也不行，数据还没有获取到</li><li>获取到数据的回调中也不行，DOM还没有渲染完</li><li><code>$nextTick</code>也不行,因为图片的高度没有被计算在类</li><li>在图片加载完成后,获取的高度才是正确</li></ol></li></ul><p>编辑<code>src/views/detail/childComps/DetailNav.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&quot;components/common/navbar/NavBar&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">   <span class="comment">//...</span></span></span><br><span class="line">    methods:&#123;</span><br><span class="line">      itemClick(index)&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.currentIndex = index</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&quot;titleClick&quot;</span>,index)</span></span><br><span class="line">      &#125;,</span><br><span class="line">      back()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$router.go(<span class="number">-1</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编辑<code>src/views/detail/Detail.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;detail&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">detail-nav-bar</span> <span class="attr">class</span>=<span class="string">&quot;detail-nav&quot;</span> @<span class="attr">titleClick</span>=<span class="string">&quot;titleClick&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;nav&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Scroll</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;scroll&quot;</span> <span class="attr">:probeType</span>=<span class="string">&quot;3&quot;</span> @<span class="attr">scroll</span>=<span class="string">&quot;contentScroll&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailSwiper</span> <span class="attr">:banners</span>=<span class="string">&quot;banners&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailBaseInfo</span> <span class="attr">:goods</span>=<span class="string">&quot;goods&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailShopInfo</span> <span class="attr">:shop</span>=<span class="string">&quot;shop&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailGoodsInfo</span> <span class="attr">:detailInfo</span>=<span class="string">&quot;detailInfo&quot;</span> @<span class="attr">imageLoad</span>=<span class="string">&quot;imageLoad&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailParamInfo</span> <span class="attr">:paramInfo</span>=<span class="string">&quot;paramInfo&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;paramInfo&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">DetailCommentInfo</span> <span class="attr">:commentInfo</span>=<span class="string">&quot;commentInfo&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;commentInfo&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">GoodList</span> <span class="attr">:goods</span>=<span class="string">&quot;recommendList&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;recommendList&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Scroll</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//...</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">   	<span class="comment">//...</span></span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//...</span></span></span><br><span class="line">        navBarTops: [],</span><br><span class="line"><span class="javascript">        getTops: <span class="literal">null</span>,</span></span><br><span class="line">        currentIndex: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mixins: [imgListenerMixin],</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">     <span class="comment">//...</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.getTops = debounce(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.navBarTops = []</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.navBarTops.push(<span class="number">0</span>)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.navBarTops.push(<span class="built_in">this</span>.$refs.paramInfo.$el.offsetTop)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.navBarTops.push(<span class="built_in">this</span>.$refs.commentInfo.$el.offsetTop)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.navBarTops.push(<span class="built_in">this</span>.$refs.recommendList.$el.offsetTop)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.navBarTops.push(<span class="built_in">Number</span>.MAX_VALUE)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.navBarTops)</span></span><br><span class="line">      &#125;, 100)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">// 判断图片加载完成，刷新可滚动区域</span></span></span><br><span class="line">      imageLoad() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.newRefresh()</span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.$refs.scroll.refresh()</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.getTops()</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="comment">//...</span></span></span><br><span class="line">      titleClick(index) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$refs.scroll.scrollTo(<span class="number">0</span>, -<span class="built_in">this</span>.navBarTops[index], <span class="number">200</span>)</span></span><br><span class="line">      &#125;,</span><br><span class="line">      contentScroll(position) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> positionY = -position.y</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> length = <span class="built_in">this</span>.navBarTops.length</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (<span class="built_in">this</span>.currentIndex !== i &amp;&amp; (positionY &gt;= <span class="built_in">this</span>.navBarTops[i] &amp;&amp; positionY &lt; <span class="built_in">this</span>.navBarTops[i + <span class="number">1</span>])) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.currentIndex = i</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$refs.nav.currentIndex = <span class="built_in">this</span>.currentIndex</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//...</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="底部栏"><a href="#底部栏" class="headerlink" title="底部栏"></a>底部栏</h4><p>在<code>src/views/detail/childComps</code>下创建<code>DetailBottomBar.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom-bar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar-item bar-left&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon service&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span>&gt;</span>客服<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon shop&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span>&gt;</span>店铺<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon select&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span>&gt;</span>收藏<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bar-item bar-right&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cart&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addToCart&quot;</span>&gt;</span>加入购物车<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buy&quot;</span>&gt;</span>购买<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;DetailBottomBar&quot;</span>,</span></span><br><span class="line">    methods: &#123;</span><br><span class="line">      addToCart() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&#x27;addToCart&#x27;</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.bottom-bar</span> &#123;</span></span><br><span class="line">    height: 58px;</span><br><span class="line">    position: fixed;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    display: flex;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-item</span> &#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">    display: flex;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-item</span>&gt;<span class="selector-tag">div</span> &#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-left</span> <span class="selector-class">.text</span> &#123;</span></span><br><span class="line">    font-size: 13px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-left</span> <span class="selector-class">.icon</span> &#123;</span></span><br><span class="line">    display: block;</span><br><span class="line">    width: 22px;</span><br><span class="line">    height: 22px;</span><br><span class="line">    margin: 10px auto 3px;</span><br><span class="line">    background: url(&quot;~assets/img/detail/detail_bottom.png&quot;) 0 0/100%;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-left</span> <span class="selector-class">.service</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-position</span><span class="selector-pseudo">:0</span> <span class="selector-tag">-54px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-left</span> <span class="selector-class">.shop</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-position</span><span class="selector-pseudo">:0</span> <span class="selector-tag">-98px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-right</span> &#123;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    line-height: 58px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-right</span> <span class="selector-class">.cart</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#ffe817</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.bar-right</span> <span class="selector-class">.buy</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f69</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="BackTop的封装"><a href="#BackTop的封装" class="headerlink" title="BackTop的封装"></a>BackTop的封装</h3><p>由于我们需要在<code>Home.vue</code>和<code>Detail.vue</code>都使用BackTop、此时我们就需要使用mixins</p><p>编辑<code>src/common/mixins.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">import</span> BackTop <span class="keyword">from</span> <span class="string">&quot;components/contents/backtop/BackTop&quot;</span>;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> backTopMixin = &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      isShowBackTop: <span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    BackTop</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    topClick() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$refs.scroll.scrollTo(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在<code>Home.vue</code>和<code>Detail.vue</code>导入</p><p>并且在监听<code>Scroll滚动事件中添加</code>来判断是否显示BackTop</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.isShowBackTop = (-position.y) &gt; <span class="number">1000</span></span><br></pre></td></tr></table></figure><h3 id="购物车相关"><a href="#购物车相关" class="headerlink" title="购物车相关"></a>购物车相关</h3><h4 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a><code>Vuex</code></h4><p>确保安装了<code>Vuex</code></p><p>在<code>src/store</code></p><div class="tabs" id="tab2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab2-1">index.js</button></li><li class="tab"><button type="button" data-href="#tab2-2">mutations-types.js</button></li><li class="tab"><button type="button" data-href="#tab2-3">mutations.js</button></li><li class="tab"><button type="button" data-href="#tab2-4">actions.js</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab2-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">&quot;./mutations&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">&quot;./actions&quot;</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  cartList: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab2-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ADD_COUNTER = <span class="string">&#x27;add_counter&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ADD_TO_CART = <span class="string">&#x27;add_to_cart&#x27;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab2-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  ADD_TO_CART,</span><br><span class="line">  ADD_COUNTER</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;./mutations-types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  [ADD_COUNTER](state, payload) &#123;</span><br><span class="line">    payload.count+=<span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  [ADD_TO_CART](state, payload) &#123;</span><br><span class="line">    state.cartList.push(payload)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab2-4"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  ADD_TO_CART,</span><br><span class="line">  ADD_COUNTER</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;./mutations-types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">//注意: 更新操作需要在mutations中进行</span></span><br><span class="line">  addCart(context, payload) &#123;</span><br><span class="line">    <span class="keyword">let</span> oldProduct = context.state.cartList.find(<span class="function"><span class="params">item</span> =&gt;</span> item.iid == payload.iid);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oldProduct) &#123;</span><br><span class="line">      context.commit(ADD_COUNTER, oldProduct)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      payload.count = <span class="number">1</span></span><br><span class="line">      context.commit(ADD_TO_CART, payload)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>编辑<code>Detail.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;DetailBottomBar @addToCart=<span class="string">&quot;addToCart&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">addToCart()&#123;</span><br><span class="line">    <span class="keyword">const</span> product = &#123;&#125;</span><br><span class="line">    product.image = <span class="built_in">this</span>.banners[<span class="number">0</span>];</span><br><span class="line">    product.title = <span class="built_in">this</span>.goods.title;</span><br><span class="line">    product.desc = <span class="built_in">this</span>.goods.desc;</span><br><span class="line">    product.price = <span class="built_in">this</span>.goods.realPrice;</span><br><span class="line">    product.iid = <span class="built_in">this</span>.iid;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;addCart&quot;</span>,product)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h4><p>创建<code>src/store/getters.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  cartLength(state)&#123;</span><br><span class="line">    <span class="keyword">return</span> state.cartList.length</span><br><span class="line">  &#125;,</span><br><span class="line">  cartList(state) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.cartList</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编辑<code>src/store/index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">&quot;./mutations&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">&quot;./actions&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> getters <span class="keyword">from</span> <span class="string">&quot;./getters&quot;</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  cartList: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>编辑<code>src/views/Cart.vue</code> 这里使用了<code>mapGetters</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;cart&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NavBar</span> <span class="attr">class</span>=<span class="string">&quot;cart-nav-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>购物街(&#123;&#123; length &#125;&#125;)<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">NavBar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&quot;components/common/navbar/NavBar&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;mapGetters&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Cart&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      NavBar,</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      ...mapGetters(&#123;</span><br><span class="line"><span class="javascript">        length: <span class="string">&#x27;cartLength&#x27;</span></span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-id">#cart</span> &#123;</span></span><br><span class="line">    height: 100vh;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.cart-nav-bar</span> &#123;</span></span><br><span class="line">    background-color: var(--color-tint);</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="封装CheckButton"><a href="#封装CheckButton" class="headerlink" title="封装CheckButton"></a>封装CheckButton</h4><p>在<code>src/components/content/checkbutton</code>下创建<code>CheckButton.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;icon-selector&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: value&#125;&quot;</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;~assets/img/cart/tick.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;CheckButton&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line">      value: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Boolean</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>: <span class="literal">true</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.icon-selector</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 0;</span><br><span class="line">    width: 18px;</span><br><span class="line">    height: 18px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">    cursor: pointer;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#ff8198</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-color</span>: <span class="selector-id">#ff8198</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="封装商品信息"><a href="#封装商品信息" class="headerlink" title="封装商品信息"></a>封装商品信息</h4><p>在<code>src/views/cart/childComps</code>下创建</p><p><code>CartListItem.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;shop-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-selector&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">CheckButton</span> @<span class="attr">checkBtnClick</span>=<span class="string">&quot;checkedChange&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;itemInfo.checked&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">CheckButton</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-img&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;itemInfo.image&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;商品图片&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-info&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-title&quot;</span>&gt;</span>&#123;&#123;itemInfo.title&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-desc&quot;</span>&gt;</span>商品描述: &#123;&#123;itemInfo.desc&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info-bottom&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-price left&quot;</span>&gt;</span>¥&#123;&#123;itemInfo.price&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-count right&quot;</span>&gt;</span>x&#123;&#123;itemInfo.count&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> CheckButton <span class="keyword">from</span> <span class="string">&quot;components/contents/checkbutton/CheckButton&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;ShopCartItem&quot;</span>,</span></span><br><span class="line">    props: &#123;</span><br><span class="line"><span class="javascript">      itemInfo: <span class="built_in">Object</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      CheckButton</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      checkedChange: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.itemInfo.checked = !<span class="built_in">this</span>.itemInfo.checked;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#shop-item</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    display: flex;</span><br><span class="line">    font-size: 0;</span><br><span class="line">    padding: 5px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-selector</span> &#123;</span></span><br><span class="line">    width: 14%;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-title</span>, <span class="selector-class">.item-desc</span> &#123;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-img</span> &#123;</span></span><br><span class="line">    padding: 5px;</span><br><span class="line"><span class="css">    <span class="comment">/*border: 1px solid #ccc;*/</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-img</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 80px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    display: block;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-info</span> &#123;</span></span><br><span class="line">    font-size: 17px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    padding: 5px 10px;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-info</span> <span class="selector-class">.item-desc</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#666</span>;</span></span><br><span class="line">    margin-top: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-bottom</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 10px;</span><br><span class="line">    left: 10px;</span><br><span class="line">    right: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.info-bottom</span> <span class="selector-class">.item-price</span> &#123;</span></span><br><span class="line">    color: orangered;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>CartList.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Scroll</span> <span class="attr">ref</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">cart-list-item</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in cartList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">:item-info</span>=<span class="string">&quot;item&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Scroll</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Scroll <span class="keyword">from</span> <span class="string">&quot;components/common/scroll/Scroll&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> CartListItem <span class="keyword">from</span> <span class="string">&quot;./CartListItem&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;CartList&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      Scroll,</span><br><span class="line">      CartListItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      cartList:&#123;</span><br><span class="line"><span class="javascript">        type:<span class="built_in">Array</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>()&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> []</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    activated() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$refs.content.refresh()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编辑<code>Cart.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;cart&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">NavBar</span> <span class="attr">class</span>=<span class="string">&quot;cart-nav-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>购物街(&#123;&#123; cartLength &#125;&#125;)<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">NavBar</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">CartList</span> <span class="attr">class</span>=<span class="string">&quot;cart-list&quot;</span> <span class="attr">:cart-list</span>=<span class="string">&quot;cartList&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&quot;components/common/navbar/NavBar&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> CartList <span class="keyword">from</span> <span class="string">&quot;./childComps/CartList&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;mapGetters&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Cart&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      NavBar,</span><br><span class="line">      CartList</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line"><span class="javascript">      ...mapGetters([<span class="string">&#x27;cartLength&#x27;</span>,<span class="string">&#x27;cartList&#x27;</span>])</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-id">#cart</span> &#123;</span></span><br><span class="line">    height: 100vh;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.cart-nav-bar</span> &#123;</span></span><br><span class="line">    background-color: var(--color-tint);</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.cart-list</span> &#123;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 44px;</span><br><span class="line">    bottom: 49px;</span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="底部信息栏"><a href="#底部信息栏" class="headerlink" title="底部信息栏"></a>底部信息栏</h4><p>在<code>src/views/cart/childComps</code>下创建<code>CartBottomBar</code></p><p>几个注意点:</p><ul><li>计算总价格时我们通过<code>filter</code>筛选出选中状态的价格、再使用<code>reduce</code>对价格进行累加</li><li><code>every()</code>是对数组中每一项运行给定函数，如果该函数所有一项返回true,则返回true。一旦有一项不满足则返回false</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom-menu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;checkButton&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">CheckButton</span> <span class="attr">class</span>=<span class="string">&quot;select-all&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;isSelectAll&quot;</span> @<span class="attr">click.native</span>=<span class="string">&quot;checkClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">CheckButton</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;checkAll&quot;</span>&gt;</span>全选<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;total-price&quot;</span>&gt;</span>合计: ¥&#123;&#123;totalPrice&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;buy-product&quot;</span>&gt;</span>去计算(&#123;&#123;cartLength&#125;&#125;)<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> CheckButton <span class="keyword">from</span> <span class="string">&quot;components/contents/checkbutton/CheckButton&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;BottomBar&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      CheckButton</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      totalPrice() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cartList = <span class="built_in">this</span>.$store.getters.cartList;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> cartList.filter(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> item.checked</span></span><br><span class="line"><span class="javascript">        &#125;).reduce(<span class="function">(<span class="params">preValue, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> preValue + item.count * item.price</span></span><br><span class="line">        &#125;, 0).toFixed(2)</span><br><span class="line">      &#125;,</span><br><span class="line">      cartLength() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.cartList.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> item.checked).length</span></span><br><span class="line">      &#125;,</span><br><span class="line">      isSelectAll() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="built_in">this</span>.$store.state.cartList.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.cartList.every(<span class="function">(<span class="params">item</span>)=&gt;</span> item.checked == <span class="literal">true</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      checkClick()&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">this</span>.isSelectAll)&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.$store.state.cartList.forEach(<span class="function">(<span class="params">item</span>)=&gt;</span> item.checked = <span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript">        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.$store.state.cartList.forEach(<span class="function">(<span class="params">item</span>)=&gt;</span> item.checked = <span class="literal">true</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.bottom-menu</span> &#123;</span></span><br><span class="line">    position: fixed;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    bottom: 49px;</span><br><span class="line">    display: flex;</span><br><span class="line">    height: 44px;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.checkButton</span> &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    margin-left: 10px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.checkButton</span> <span class="selector-class">.checkAll</span> &#123;</span></span><br><span class="line">    line-height: 44px;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.bottom-menu</span> <span class="selector-class">.total-price</span> &#123;</span></span><br><span class="line">    flex: 1;</span><br><span class="line">    margin-left: 15px;</span><br><span class="line">    font-size: 16px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#666</span>;</span></span><br><span class="line">    line-height: 44px;</span><br><span class="line">    text-align: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.bottom-menu</span> <span class="selector-class">.buy-product</span> &#123;</span></span><br><span class="line">    line-height: 44px;</span><br><span class="line">    width: 90px;</span><br><span class="line">    float: right;</span><br><span class="line">    background-color: red;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="封装Toast"><a href="#封装Toast" class="headerlink" title="封装Toast"></a>封装Toast</h3><p>将actions返回Promise对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">addCart(context, payload) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>((<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> oldProduct = context.state.cartList.find(<span class="function"><span class="params">item</span> =&gt;</span> item.iid == payload.iid);</span><br><span class="line">      <span class="keyword">if</span> (oldProduct) &#123;</span><br><span class="line">        context.commit(ADD_COUNTER, oldProduct)</span><br><span class="line">        resolve(<span class="string">&quot;当前商品数量+1&quot;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        payload.count = <span class="number">1</span></span><br><span class="line">        context.commit(ADD_TO_CART, payload)</span><br><span class="line">        resolve(<span class="string">&quot;添加了此商品&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由于我们需要在<code>Detail.vue</code>和<code>Cart.vue</code>中都使用</p><p>在<code>src/components/common/toast</code>下创建</p><p><code>Toast.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;toast&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; message &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;Toast&quot;</span>,</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        message: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">        isShow: <span class="literal">false</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show(message, duration = 2000) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.isShow = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.message = message</span></span><br><span class="line"><span class="javascript">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.isShow = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.message = <span class="string">&quot;&quot;</span></span></span><br><span class="line">        &#125;, duration)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.toast</span>&#123;</span></span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">    position: fixed;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    z-index: 999;</span><br><span class="line">    padding: 8px 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.7</span>);</span></span><br><span class="line">    border-radius: 3px;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Toast <span class="keyword">from</span> <span class="string">&quot;./Toast&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">obj.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//创建组件构造器</span></span><br><span class="line">  <span class="keyword">const</span> toastContrustor = Vue.extend(Toast)</span><br><span class="line">  <span class="comment">//new的方式，根据组件构造器，可以创建出来一个组件对象</span></span><br><span class="line">  <span class="keyword">const</span> toast = <span class="keyword">new</span> toastContrustor()</span><br><span class="line">  <span class="comment">//将组件对象，手动挂载到某个元素上</span></span><br><span class="line">  toast.$mount(<span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>))</span><br><span class="line">  <span class="comment">//toast.$el对应的就是创建的div</span></span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(toast.$el)</span><br><span class="line"></span><br><span class="line">  Vue.prototype.$toast = toast</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> obj</span><br></pre></td></tr></table></figure><p>在<code>src/main.js</code>上使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> toast <span class="keyword">from</span> <span class="string">&#x27;components/common/toast&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局实例化$bus事件总线</span></span><br><span class="line">Vue.prototype.$bus = <span class="keyword">new</span> Vue()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册全局Toast</span></span><br><span class="line">Vue.use(toast)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>最后在<code>Detail.vue</code>使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">addToCart()&#123;</span><br><span class="line">    <span class="keyword">const</span> product = &#123;&#125;</span><br><span class="line">    product.image = <span class="built_in">this</span>.banners[<span class="number">0</span>];</span><br><span class="line">    product.title = <span class="built_in">this</span>.goods.title;</span><br><span class="line">    product.desc = <span class="built_in">this</span>.goods.desc;</span><br><span class="line">    product.price = <span class="built_in">this</span>.goods.realPrice;</span><br><span class="line">    product.iid = <span class="built_in">this</span>.iid;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;addCart&quot;</span>,product).then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">    	<span class="built_in">this</span>.$toast.show(res)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者修改<code>CartBottomBar.vue</code>添加一个点击事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cartClick()&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.isSelectAll)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$toast.show(<span class="string">&quot;请选择商品&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h3><h4 id="数据请求-1"><a href="#数据请求-1" class="headerlink" title="数据请求"></a>数据请求</h4><p>在<code>src/network</code>下创建<code>category.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&#x27;./request&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getCategory</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        url: <span class="string">&#x27;/category&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getSubcategory</span>(<span class="params">maitKey</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;/subcategory&#x27;</span>,</span><br><span class="line">      params: &#123;</span><br><span class="line">        maitKey</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getCategoryDetail</span>(<span class="params">miniWallkey, type</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;/subcategory/detail&#x27;</span>,</span><br><span class="line">      params: &#123;</span><br><span class="line">        miniWallkey,</span><br><span class="line">        type</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure><h4 id="TabMenu"><a href="#TabMenu" class="headerlink" title="TabMenu"></a>TabMenu</h4><p>在<code>src/views/category/childComps</code>下创建<code>TabMenu.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scroll</span> <span class="attr">id</span>=<span class="string">&quot;tab-menu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu-list&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">&quot;menu-list-item&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:class</span>=<span class="string">&quot;&#123; active: index === currentIndex &#125;&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in categories&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">click</span>=<span class="string">&quot;itemClick(index)&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        &#123;&#123; item.title &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">scroll</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Scroll <span class="keyword">from</span> <span class="string">&quot;components/common/scroll/Scroll&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">&quot;TabMenu&quot;</span>,</span></span><br><span class="line">  components: &#123;</span><br><span class="line">    Scroll</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line"><span class="javascript">    categories: <span class="built_in">Array</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line">      currentIndex: 0</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    itemClick(index) &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.currentIndex = index;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$emit(<span class="string">&quot;selectItem&quot;</span>, index);</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-id">#tab-menu</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">background-color</span>: <span class="selector-id">#f6f6f6</span>;</span></span><br><span class="line">  height: 100%;</span><br><span class="line">  width: 100px;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.menu-list-item</span> &#123;</span></span><br><span class="line">  height: 45px;</span><br><span class="line">  line-height: 45px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.menu-list-item</span><span class="selector-class">.active</span> &#123;</span></span><br><span class="line">  font-weight: 700;</span><br><span class="line">  color: var(--color-high-text);</span><br><span class="line"><span class="css">  <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">  border-left: 3px solid var(--color-high-text);</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="GridView"><a href="#GridView" class="headerlink" title="GridView"></a>GridView</h4><p>在<code>src/compoments/common/gridView</code>下创建<code>GridView.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-view&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;gridView&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">&quot;GridView&quot;</span>,</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    cols: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">default</span>: <span class="number">2</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    hMargin: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">default</span>: <span class="number">8</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    vMargin: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">default</span>: <span class="number">8</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    itemSpace: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">default</span>: <span class="number">8</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    lineSpace: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">default</span>: <span class="number">8</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="javascript">  mounted: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">setTimeout</span>(<span class="built_in">this</span>._autoLayout, <span class="number">20</span>);</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"><span class="javascript">  updated: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>._autoLayout();</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="javascript">    _autoLayout: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// 1.获取gridEl和children</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> gridEl = <span class="built_in">this</span>.$refs.gridView;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> children = gridEl.children;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// 2.设置gridEl的内边距</span></span></span><br><span class="line"><span class="javascript">      gridEl.style.padding = <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.vMargin&#125;</span>px <span class="subst">$&#123;<span class="built_in">this</span>.hMargin&#125;</span>px`</span>;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// 3.计算item的宽度</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> itemWidth =</span></span><br><span class="line">        (gridEl.clientWidth -</span><br><span class="line"><span class="javascript">          <span class="number">2</span> * <span class="built_in">this</span>.hMargin -</span></span><br><span class="line"><span class="javascript">          (<span class="built_in">this</span>.cols - <span class="number">1</span>) * <span class="built_in">this</span>.itemSpace) /</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.cols;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; children.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> item = children[i];</span></span><br><span class="line"><span class="javascript">        item.style.width = itemWidth + <span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> ((i + <span class="number">1</span>) % <span class="built_in">this</span>.cols !== <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">          item.style.marginRight = <span class="built_in">this</span>.itemSpace + <span class="string">&quot;px&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (i &gt;= <span class="built_in">this</span>.cols) &#123;</span></span><br><span class="line"><span class="javascript">          item.style.marginTop = <span class="built_in">this</span>.lineSpace + <span class="string">&quot;px&quot;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.grid-view</span> &#123;</span></span><br><span class="line">  display: flex;</span><br><span class="line">  flex-wrap: wrap;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>src/views/category/childComps</code>下创建<code>TabContentCategory.vue</code>用来封装<code>GridView</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">grid-view</span> <span class="attr">:cols</span>=<span class="string">&quot;3&quot;</span> <span class="attr">:lineSpace</span>=<span class="string">&quot;15&quot;</span> <span class="attr">:v-margin</span>=<span class="string">&quot;20&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;subcategories.list&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in subcategories.list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;item.link&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;item-img&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.image&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-text&quot;</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">grid-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> GridView <span class="keyword">from</span> <span class="string">&#x27;components/common/gridView/GridView&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&quot;TabContentCategory&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">      GridView</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      subcategories: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> []</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.panel</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item</span> &#123;</span></span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-img</span> &#123;</span></span><br><span class="line">    width: 80%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.item-text</span> &#123;</span></span><br><span class="line">    margin-top: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="其他整合"><a href="#其他整合" class="headerlink" title="其他整合"></a>其他整合</h4><p><code>Category.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;category&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav-bar</span> <span class="attr">class</span>=<span class="string">&quot;nav-bar&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>商品分类<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">nav-bar</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tab-menu</span> <span class="attr">:categories</span>=<span class="string">&quot;categories&quot;</span></span></span><br><span class="line"><span class="tag">                @<span class="attr">selectItem</span>=<span class="string">&quot;selectItem&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">scroll</span> <span class="attr">id</span>=<span class="string">&quot;tab-content&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">:data</span>=<span class="string">&quot;[categoryData]&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">ref</span>=<span class="string">&quot;scroll&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">tab-content-category</span> <span class="attr">:subcategories</span>=<span class="string">&quot;showSubcategory&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;综合&#x27;, &#x27;新品&#x27;, &#x27;销量&#x27;]&quot;</span></span></span><br><span class="line"><span class="tag">                       @<span class="attr">itemClick</span>=<span class="string">&quot;tabClick&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goods-list</span> <span class="attr">:goods</span>=<span class="string">&quot;showCategoryDetail&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">scroll</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> NavBar <span class="keyword">from</span> <span class="string">&#x27;components/common/navbar/NavBar&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> TabMenu <span class="keyword">from</span> <span class="string">&#x27;./childComps/TabMenu&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> TabContentCategory <span class="keyword">from</span> <span class="string">&#x27;./childComps/TabContentCategory&#x27;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> TabControl <span class="keyword">from</span> <span class="string">&#x27;components/contents/tabcontrol/TabControl&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Scroll <span class="keyword">from</span> <span class="string">&#x27;components/common/scroll/Scroll&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> GoodsList <span class="keyword">from</span> <span class="string">&#x27;components/contents/good/GoodList&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;getCategory, getSubcategory, getCategoryDetail&#125; <span class="keyword">from</span> <span class="string">&quot;network/category&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;tabControlMixin&#125; <span class="keyword">from</span> <span class="string">&quot;@/common/mixins&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">		name: <span class="string">&quot;Category&quot;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line">		  NavBar,</span><br><span class="line">      TabMenu,</span><br><span class="line">      TabControl,</span><br><span class="line">      Scroll,</span><br><span class="line">      TabContentCategory,</span><br><span class="line">      GoodsList</span><br><span class="line">    &#125;,</span><br><span class="line">    mixins: [tabControlMixin],</span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">		  <span class="keyword">return</span> &#123;</span></span><br><span class="line">		    categories: [],</span><br><span class="line">        categoryData: &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        currentIndex: -1</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">		  <span class="comment">// 1.请求分类数据</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>._getCategory()</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// 2.监听图片加载完成</span></span></span><br><span class="line"><span class="javascript">	    <span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;imgLoad&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">		    <span class="built_in">this</span>.$refs.scroll.refresh()</span></span><br><span class="line">	    &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">		  showSubcategory() &#123;</span><br><span class="line"><span class="javascript">		    <span class="keyword">if</span> (<span class="built_in">this</span>.currentIndex === <span class="number">-1</span>) <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.categoryData[<span class="built_in">this</span>.currentIndex].subcategories</span></span><br><span class="line">      &#125;,</span><br><span class="line">      showCategoryDetail() &#123;</span><br><span class="line"><span class="javascript">		    <span class="keyword">if</span> (<span class="built_in">this</span>.currentIndex === <span class="number">-1</span>) <span class="keyword">return</span> []</span></span><br><span class="line"><span class="javascript">		    <span class="keyword">return</span> <span class="built_in">this</span>.categoryData[<span class="built_in">this</span>.currentIndex].categoryDetail[<span class="built_in">this</span>.currentType]</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">		  _getCategory() &#123;</span><br><span class="line"><span class="javascript">		    getCategory().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">		      <span class="comment">// 1.获取分类数据</span></span></span><br><span class="line"><span class="javascript">		      <span class="built_in">this</span>.categories = res.data.category.list</span></span><br><span class="line"><span class="javascript">			    <span class="comment">// 2.初始化每个类别的子数据</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.categories.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.categoryData[i] = &#123;</span></span><br><span class="line">              subcategories: &#123;&#125;,</span><br><span class="line">              categoryDetail: &#123;</span><br><span class="line"><span class="javascript">                <span class="string">&#x27;pop&#x27;</span>: [],</span></span><br><span class="line"><span class="javascript">                <span class="string">&#x27;new&#x27;</span>: [],</span></span><br><span class="line"><span class="javascript">                <span class="string">&#x27;sell&#x27;</span>: []</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line"><span class="javascript">          <span class="comment">// 3.请求第一个分类的数据</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>._getSubcategories(<span class="number">0</span>)</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      _getSubcategories(index) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.currentIndex = index;</span></span><br><span class="line"><span class="javascript">		    <span class="keyword">const</span> mailKey = <span class="built_in">this</span>.categories[index].maitKey;</span></span><br><span class="line"><span class="javascript">        getSubcategory(mailKey).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.categoryData[index].subcategories = res.data</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.categoryData = &#123;...this.categoryData&#125;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>._getCategoryDetail(<span class="string">&#x27;pop&#x27;</span>)</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>._getCategoryDetail(<span class="string">&#x27;sell&#x27;</span>)</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>._getCategoryDetail(<span class="string">&#x27;new&#x27;</span>)</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      _getCategoryDetail(type) &#123;</span><br><span class="line"><span class="javascript">		<span class="comment">// 1.获取请求的miniWallkey</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> miniWallkey = <span class="built_in">this</span>.categories[<span class="built_in">this</span>.currentIndex].miniWallkey;</span></span><br><span class="line"><span class="javascript">        	<span class="comment">// 2.发送请求,传入miniWallkey和type</span></span></span><br><span class="line"><span class="javascript">		    getCategoryDetail(miniWallkey, type).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">		      <span class="comment">// 3.将获取的数据保存下来</span></span></span><br><span class="line"><span class="javascript">		      <span class="built_in">this</span>.categoryData[<span class="built_in">this</span>.currentIndex].categoryDetail[type] = res</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.categoryData = &#123;...this.categoryData&#125;</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      /**</span><br><span class="line">       * 事件响应相关的方法</span><br><span class="line">       */</span><br><span class="line">      selectItem(index) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>._getSubcategories(index)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#category</span> &#123;</span></span><br><span class="line">    height: 100vh;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.nav-bar</span> &#123;</span></span><br><span class="line">    background-color: var(--color-tint);</span><br><span class="line">    font-weight: 700;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    z-index: 99;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.content</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    top: 44px;</span><br><span class="line">    bottom: 49px;</span><br><span class="line">    display: flex;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-id">#tab-content</span> &#123;</span></span><br><span class="line">    height: 100%;</span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="移动端300ms延迟"><a href="#移动端300ms延迟" class="headerlink" title="移动端300ms延迟"></a>移动端300ms延迟</h3><p>安装<code>fastclick</code>插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install fastclick --save</span><br></pre></td></tr></table></figure><p>使用: <code>index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">import</span> fastclick <span class="keyword">from</span> <span class="string">&#x27;fastclick&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="comment">//移动端 300ms 延迟</span></span><br><span class="line">fastclick.attach(<span class="built_in">document</span>.body)</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure><h3 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h3><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hilongjw/vue-lazyload">https://github.com/hilongjw/vue-lazyload</a></p><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vue-lazyload</span><br></pre></td></tr></table></figure><p>使用:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueLazyload <span class="keyword">from</span> <span class="string">&#x27;vue-lazyload&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueLazyload,&#123;</span><br><span class="line">  loading: <span class="built_in">require</span>(<span class="string">&#x27;./assets/img/common/placeholder.png&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在需要懒加载的图片添加<code>v-lazy</code></p><h3 id="px转vw"><a href="#px转vw" class="headerlink" title="px转vw"></a>px转vw</h3><p>安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss-px-to-viewport -dev--save</span><br></pre></td></tr></table></figure><p>根目录新建<code>postcss.config.js</code>文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: &#123;</span><br><span class="line">      <span class="string">&#x27;postcss-px-to-viewport&#x27;</span>: &#123;</span><br><span class="line">        unitToConvert: <span class="string">&#x27;px&#x27;</span>, <span class="comment">//需要转换的单位，默认为&quot;px&quot;</span></span><br><span class="line">        viewportWidth: <span class="number">375</span>, <span class="comment">// 视窗的宽度，对应的是我们设计稿的宽度</span></span><br><span class="line">        viewportHeight: <span class="number">667</span>,<span class="comment">//视窗的高度，根据375设备的宽度来指定，一般指定667，也可以不配置</span></span><br><span class="line">        unitPrecision: <span class="number">5</span>, <span class="comment">// 指定`px`转换为视窗单位值的小数位数（很多时候无法整除）</span></span><br><span class="line">        viewportUnit: <span class="string">&#x27;vw&#x27;</span>, <span class="comment">// 指定需要转换成的视窗单位，建议使用vw</span></span><br><span class="line">        selectorBlackList: [<span class="string">&#x27;ignore&#x27;</span>, <span class="string">&#x27;tarbar&#x27;</span>,<span class="string">&#x27;tab-bar-item&#x27;</span>], <span class="comment">//指定不转换为视窗单位的类，可以自定义，可以无限添加,建议定义一至两个通用的类名</span></span><br><span class="line">        minPixelValue: <span class="number">1</span>, <span class="comment">// 小于或等于`1px`不转换为视窗单位，你也可以设置为你想要的值</span></span><br><span class="line">        mediaQuery: <span class="literal">false</span>, <span class="comment">// 允许在媒体查询中转换`px`</span></span><br><span class="line">        exclude: [<span class="regexp">/^TabBar/</span>], <span class="comment">//忽略某些文件夹下的文件或特定文件，例如 &#x27;node_modules&#x27; 下的文件</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>虽然跟着视频敲了一边、但是还是有很多不是特别理解的、样式方面还是不是特别熟练</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noreferrer">卓越科技-</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://blog.zykjofficial.top/posts/42ed6352/">https://blog.zykjofficial.top/posts/42ed6352/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.zykjofficial.top" target="_blank">卓越科技的Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/Vue/">Vue</a><a class="post-meta__tags" href="/tags/Vue-Router/">Vue-Router</a><a class="post-meta__tags" href="/tags/Vuex/">Vuex</a></div><div class="post_share"><div class="social-share" data-image="https://tva4.sinaimg.cn/large/9bd9b167ly1fwsfucs1hrj21hc0u01kx.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/alipay.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/a9e8a85d/"><img class="prev-cover" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1fwrtnow7fgj21hc0u0nki.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue响应式原理解读</div></div></a></div><div class="next-post pull-right"><a href="/posts/5d018fb1/"><img class="next-cover" data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1fwrtiap48rj21hc0u0kck.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Android学习</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/22686bb0/" title="Vue-CLI学习"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vueclistudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-27</div><div class="title">Vue-CLI学习</div></div></a></div><div><a href="/posts/f9d8baf9/" title="Vue.js进阶"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuestudy2-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-09</div><div class="title">Vue.js进阶</div></div></a></div><div><a href="/posts/413c71da/" title="Vuex学习"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/vuexstudy-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-11</div><div class="title">Vuex学习</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div><div id="comment-switch"><span class="first-comment">Artalk</span><span class="switch-btn"></span><span class="second-comment">Twikoo</span></div></div><div class="comment-wrap"><div><div class="ArtalkComments" id="ArtalkComments"></div></div><div><div id="twikoo"></div></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-info__name">卓越科技-</div><div class="author-info__description">Remarkable life,for science and technology.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">50</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://space.bilibili.com/241230332"><i class="fas fa-bold"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/241230332" rel="external nofollow noreferrer" target="_blank" title="BiliBili"><i class="fas fa-bold"></i></a><a class="social-icon" href="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/WeChat_Official_Account.jpg" rel="external nofollow noreferrer" target="_blank" title="微信公众号"><i class="fab fa-weixin"></i></a><a class="social-icon" href="https://github.com/zykjofficial/" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">卓越科技-的个人博客主要是用来记录学习的笔记、本人fw。<br><div class="item-headline" style="margin:10px 0"><i class="fas fa-laptop card-announcement-animation"></i><span>关于本站</span></div><div class="github-badge"><a style="color:#fff" href="https://hexo.io/" rel="external nofollow noreferrer" target="_blank" title="由 Hexo 强力驱动"><span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo 5.2.0</span></a><a style="color:#fff" href="https://coding.net/" rel="external nofollow noreferrer" target="_blank" title="静态网页托管于 Coding"><span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">Coding</span></a><a style="color:#fff" href="https://vercel.com/" rel="external nofollow noreferrer" target="_blank" title="静态网页托管于 Vercel"><span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">Vercel</span></a><a style="color:#fff" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" target="_blank" title="jsDelivr 提供 CDN 加速服务"><span class="badge-subject">CDN</span><span class="badge-value bg-orange">jsDelivr</span></a><a style="color:#fff" href="https://github.com/jerryc127/hexo-theme-butterfly" rel="external nofollow noreferrer" target="_blank" title="站点使用 Butterfly 3.4.0-b1版本 主题"><span class="badge-subject">Theme</span><span class="badge-value bg-blue">Butterfly 3.4.0-b1</span></a><a style="color:#fff" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可"><span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue%E7%BB%BC%E5%90%88%E7%BB%83%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">Vue综合练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9E%84%E5%BB%BA"><span class="toc-number">1.1.</span> <span class="toc-text">基本构建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.1.</span> <span class="toc-text">项目基本目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">1.1.2.</span> <span class="toc-text">配置别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSS%E5%AF%BC%E5%85%A5"><span class="toc-number">1.1.3.</span> <span class="toc-text">CSS导入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.1.4.</span> <span class="toc-text">基本页面</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E5%BC%80%E5%8F%91"><span class="toc-number">1.2.</span> <span class="toc-text">首页开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.1.</span> <span class="toc-text">导航组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82"><span class="toc-number">1.2.2.</span> <span class="toc-text">数据请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.3.</span> <span class="toc-text">轮播图组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%8F%E6%97%A5%E6%8E%A8%E8%8D%90%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.4.</span> <span class="toc-text">每日推荐组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%91%A8%E6%B5%81%E8%A1%8C%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.5.</span> <span class="toc-text">本周流行组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TabControl%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.6.</span> <span class="toc-text">TabControl组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85"><span class="toc-number">1.2.7.</span> <span class="toc-text">商品数据封装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE"><span class="toc-number">1.2.7.1.</span> <span class="toc-text">数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#network"><span class="toc-number">1.2.7.2.</span> <span class="toc-text">network</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#views"><span class="toc-number">1.2.7.3.</span> <span class="toc-text">views</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Batter-Srcoll"><span class="toc-number">1.2.8.</span> <span class="toc-text">Batter-Srcoll</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.8.1.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%B0%81%E8%A3%85"><span class="toc-number">1.2.8.2.</span> <span class="toc-text">简单封装</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#scroll"><span class="toc-number">1.2.8.2.1.</span> <span class="toc-text">scroll</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#backtop"><span class="toc-number">1.2.8.2.2.</span> <span class="toc-text">backtop</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.8.2.3.</span> <span class="toc-text">使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E9%A6%96%E9%A1%B5%E4%B8%ADBetter-Scroll%E5%8F%AF%E6%BB%9A%E5%8A%A8%E5%8C%BA%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.9.</span> <span class="toc-text">解决首页中Better-Scroll可滚动区域的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.9.1.</span> <span class="toc-text">问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%98%B2%E6%8A%96%E5%8A%A8"><span class="toc-number">1.2.9.2.</span> <span class="toc-text">防抖动</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tabControl%E7%9A%84%E5%90%B8%E9%A1%B6%E6%95%88%E6%9E%9C"><span class="toc-number">1.2.10.</span> <span class="toc-text">tabControl的吸顶效果</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%88%B0tabControl%E7%9A%84offsetTop"><span class="toc-number">1.2.10.1.</span> <span class="toc-text">获取到tabControl的offsetTop</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A9Home%E4%BF%9D%E6%8C%81%E5%8E%9F%E6%9D%A5%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">1.2.11.</span> <span class="toc-text">让Home保持原来的状态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%A6%E6%83%85%E9%A1%B5%E5%BC%80%E5%8F%91"><span class="toc-number">1.3.</span> <span class="toc-text">详情页开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">封装顶部导航栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%B1%95%E7%A4%BA"><span class="toc-number">1.3.2.</span> <span class="toc-text">轮播图展示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.3.</span> <span class="toc-text">基本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%97%E9%93%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.4.</span> <span class="toc-text">店铺信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.5.</span> <span class="toc-text">商品信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.6.</span> <span class="toc-text">参数信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.7.</span> <span class="toc-text">评论信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.8.</span> <span class="toc-text">推荐信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%A6%E6%83%85%E9%A1%B5"><span class="toc-number">1.3.9.</span> <span class="toc-text">详情页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mixin%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.10.</span> <span class="toc-text">mixin的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E8%A7%A3%E5%86%B3%E8%AF%A6%E6%83%85%E9%A1%B5%E6%BB%91%E5%8A%A8%E7%9A%84%E5%B0%8Fbug"><span class="toc-number">1.3.11.</span> <span class="toc-text">再次解决详情页滑动的小bug</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E9%A2%98%E5%86%85%E5%AE%B9%E8%81%94%E5%8A%A8"><span class="toc-number">1.3.12.</span> <span class="toc-text">标题内容联动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%95%E9%83%A8%E6%A0%8F"><span class="toc-number">1.3.13.</span> <span class="toc-text">底部栏</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BackTop%E7%9A%84%E5%B0%81%E8%A3%85"><span class="toc-number">1.4.</span> <span class="toc-text">BackTop的封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%AD%E7%89%A9%E8%BD%A6%E7%9B%B8%E5%85%B3"><span class="toc-number">1.5.</span> <span class="toc-text">购物车相关</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vuex"><span class="toc-number">1.5.1.</span> <span class="toc-text">Vuex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">导航栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85CheckButton"><span class="toc-number">1.5.3.</span> <span class="toc-text">封装CheckButton</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%95%86%E5%93%81%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.4.</span> <span class="toc-text">封装商品信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%95%E9%83%A8%E4%BF%A1%E6%81%AF%E6%A0%8F"><span class="toc-number">1.5.5.</span> <span class="toc-text">底部信息栏</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85Toast"><span class="toc-number">1.6.</span> <span class="toc-text">封装Toast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E9%A1%B5"><span class="toc-number">1.7.</span> <span class="toc-text">分类页</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82-1"><span class="toc-number">1.7.1.</span> <span class="toc-text">数据请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TabMenu"><span class="toc-number">1.7.2.</span> <span class="toc-text">TabMenu</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GridView"><span class="toc-number">1.7.3.</span> <span class="toc-text">GridView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%95%B4%E5%90%88"><span class="toc-number">1.7.4.</span> <span class="toc-text">其他整合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF300ms%E5%BB%B6%E8%BF%9F"><span class="toc-number">1.8.</span> <span class="toc-text">移动端300ms延迟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.9.</span> <span class="toc-text">图片懒加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#px%E8%BD%ACvw"><span class="toc-number">1.10.</span> <span class="toc-text">px转vw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.11.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/104511dc/" title="记一次安装黑苹果"><img data-lazy-src="https://tvax4.sinaimg.cn/large/0072Vf1pgy1foxk3shjrpj31hc0u0k3d.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="记一次安装黑苹果"></a><div class="content"><a class="title" href="/posts/104511dc/" title="记一次安装黑苹果">记一次安装黑苹果</a><time datetime="2020-11-14T13:43:00.000Z" title="发表于 2020-11-14 21:43:00">2020-11-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7305059/" title="Vue3学习"><img data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg@master/img/vuestudy-cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Vue3学习"></a><div class="content"><a class="title" href="/posts/7305059/" title="Vue3学习">Vue3学习</a><time datetime="2020-10-21T01:37:56.000Z" title="发表于 2020-10-21 09:37:56">2020-10-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/93afb348/" title="基于Butterfly主题添加Artalk评论系统"><img data-lazy-src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/img/addartalk-cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="基于Butterfly主题添加Artalk评论系统"></a><div class="content"><a class="title" href="/posts/93afb348/" title="基于Butterfly主题添加Artalk评论系统">基于Butterfly主题添加Artalk评论系统</a><time datetime="2020-09-21T08:17:59.000Z" title="发表于 2020-09-21 16:17:59">2020-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/69742e4c/" title="Python学习"><img data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1g4lhihs5ayj21hc0xc4cx.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Python学习"></a><div class="content"><a class="title" href="/posts/69742e4c/" title="Python学习">Python学习</a><time datetime="2020-09-07T00:32:26.000Z" title="发表于 2020-09-07 08:32:26">2020-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d95a567b/" title="LeetCode算法题学习"><img data-lazy-src="https://tva4.sinaimg.cn/large/9bd9b167gy1fwsi3fn92oj21hc0u07wi.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="LeetCode算法题学习"></a><div class="content"><a class="title" href="/posts/d95a567b/" title="LeetCode算法题学习">LeetCode算法题学习</a><time datetime="2020-09-02T01:08:40.000Z" title="发表于 2020-09-02 09:08:40">2020-09-02</time></div></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://tva4.sinaimg.cn/large/9bd9b167ly1fwsfucs1hrj21hc0u01kx.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 By 卓越科技-</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">CDN BY <a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noreferrer" data-pjax-state=""><b>jsDelivr</b></a> | HOST BY <a target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer"><b>Vercel</b></a> &amp;&amp; <a target="_blank" href="https://coding.net/" rel="external nofollow noreferrer"><b>Coding</b></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/utils.js"></script><script src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.spacingElementById('content-inner')
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.spacingElementById('content-inner')
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjresource@master/js/search/local-search.js" defer></script><div class="js-pjax"><script>function addArtalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/gh/monsterxcn/Artalk@master/dist/Artalk.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadArtalk () {
  function initArtalk () {
    const initData = {
      el: '#ArtalkComments',
      placeholder: '快来评论吧！由于评论没有邮件提醒、所以不一定看的到。。。垃圾评论会被删除！！！',
      noComment: '快来成为第一个评论的人吧~',
      defaultAvatar: '',
      sendBtn:'发送',
      pageKey: window.location.pathname,
      serverUrl: 'https://artalk-at.zykjofficial.ml',
      gravatar: {
        cdn: 'https://dn-qiniu-avatar.qbox.me/avatar/'
      },
      emoticons: {"B站":{"inputType":"image","container":{"2020":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/dc709fac0d361370bcf0d36d32adb97df7c95824.png","tv_白眼":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/baiyan.png","tv_doge":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/doge.png","tv_坏笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/huaixiao.png","tv_难过":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/nanguo.png","tv_生气":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/shengqi.png","tv_委屈":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/weiqu.png","tv_斜眼笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/xieyanxiao.png","tv_呆":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/fadai.png","tv_发怒":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/fanu.png","tv_惊吓":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/jingxia.png","tv_呕吐":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/outu.png","tv_思考":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/sikao.png","tv_微笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/weixiao.png","tv_疑问":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/yiwen.png","tv_大哭":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/daku.png","tv_鼓掌":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/guzhang.png","tv_抠鼻":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/koubi.png","tv_亲亲":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/qinqin.png","tv_调皮":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/tiaopi.png","tv_笑哭":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/xiaoku.png","tv_晕":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/yun.png","tv_点赞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/dianzan.png","tv_害羞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/haixiu.png","tv_睡着":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/shuizhao.png","tv_色":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/se.png","tv_吐血":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/tuxue.png","tv_无奈":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/wunai.png","tv_再见":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/zaijian.png","tv_流汗":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/liuhan.png","tv_偷笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/touxiao.png","tv_抓狂":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/zhuakuang.png","tv_黑人问号":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/heirenwenhao.png","tv_困":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/kun2.png","tv_打脸":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/dalian.png","tv_闭嘴":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/bizui.png","tv_鄙视":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/bishi.png","tv_腼腆":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/miantian.png","tv_馋":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/chan.png","tv_可爱":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/keai.png","tv_发财":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/facai.png","tv_生病":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/shengbing.png","tv_流鼻血":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/liubixue.png","tv_尴尬":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/ganga.png","tv_大佬":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/dalao.png","tv_流泪":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/liulei.png","tv_冷漠":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/lengmo.png","tv_皱眉":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/zhoumei.png","tv_鬼脸":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/guilian.png","tv_调侃":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/tiaokan.png","tv_目瞪口呆":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_tv/mudengkoudai.png","热词_AWSL":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/AWSL.jpg","热词_三连":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/三连.jpg","热词_不愧是你":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/不愧是你.jpg","热词_你币有了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/你币有了.jpg","热词_你细品":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/你细品.jpg","热词_危":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/危.jpg","热词_可以":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/可以.jpg","热词_吹爆":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/吹爆.jpg","热词_咕咕":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/咕咕.jpg","热词_大师球":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/大师球.jpg","热词_奥利给":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/奥利给.jpg","热词_妙":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/妙.jpg","热词_完结撒花":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/完结撒花.jpg","热词_害":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/害.jpg","热词_张三":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/张三.png","热词_我全都要":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/我全都要.jpg","热词_我哭了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/我哭了.jpg","热词_我太南了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/我太南了.jpg","热词_我裂开了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/我裂开了.png","热词_我酸了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/我酸了.jpg","热词_打卡":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/打卡.jpg","热词_有内味了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/有内味了.jpg","热词_有生之年":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/有生之年.jpg","热词_标准结局":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/标准结局.png","热词_爱了爱了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/爱了爱了.png","热词_爷关更":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/爷关更.jpg","热词_狼火":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/狼火.jpg","热词_猛男必看":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/猛男必看.jpg","热词_真香":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/真香.jpg","热词_知识增加":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/知识增加.png","热词_知识盲区":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/知识盲区.jpg","热词_神仙UP":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/神仙UP.jpg","热词_秀":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/秀.jpg","热词_这次一定":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/这次一定.jpg","热词_递话筒":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/递话筒.png","热词_锤":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/锤.jpg","热词_镇站之宝":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/镇站之宝.jpg","热词_问号":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/问号.png","热词_高产":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_hot/高产.jpg","小电视_发愁":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_发愁.png","小电视_吃惊":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_吃惊.png","小电视_哭泣":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_哭泣.png","小电视_嘟嘴":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_嘟嘴.png","小电视_困惑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_困惑.png","小电视_太太喜欢":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_太太喜欢.png","小电视_好怒啊":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_好怒啊.png","小电视_害羞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_害羞.png","小电视_差评":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_差评.png","小电视_思索":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_思索.png","小电视_我好兴奋":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_我好兴奋.png","小电视_无语":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_无语.png","小电视_汗":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_汗.png","小电视_笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_笑.png","小电视_赞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_stv/小电视_赞.png","2233娘_卖萌":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_卖萌.png","2233娘_吃惊":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_吃惊.png","2233娘_吐魂":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_吐魂.png","2233娘_喝水":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_喝水.png","2233娘_困惑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_困惑.png","2233娘_大哭":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_大哭.png","2233娘_大笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_大笑.png","2233娘_委屈":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_委屈.png","2233娘_怒":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_怒.png","2233娘_无言":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_无言.png","2233娘_汗":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_汗.png","2233娘_疑问":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_疑问.png","2233娘_第一":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_第一.png","2233娘_耶":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_耶.png","2233娘_郁闷":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_2233/2233娘_郁闷.png","加油武汉":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/eb966aaa5b690d3f9308a9f936f5b5a72a7f956b.png","口罩":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/3ad2f66b151496d2a5fb0a8ea75f32265d778dd3.png","鸡腿":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/c7860392815d345fa69c4f00ef18d67dccfbd574.png","微笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/685612eadc33f6bc233776c6241813385844f182.png","笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/81edf17314cea3b48674312b4364df44d5c01f17.png","龇牙":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/b5a5898491944a4268360f2e7a84623149672eb6.png","OK":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/4683fd9ffc925fa6423110979d7dcac5eda297f4.png","星星眼":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/63c9d1a31c0da745b61cdb35e0ecb28635675db2.png","哦呼":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/362bded07ea5434886271d23fa25f5d85d8af06c.png","嫌弃":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/de4c0783aaa60ec03de0a2b90858927bfad7154b.png","喜欢":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/8a10a4d73a89f665feff3d46ca56e83dc68f9eb8.png","酸了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/92b1c8cbceea3ae0e8e32253ea414783e8ba7806.png","大哭":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/2caafee2e5db4db72104650d87810cc2c123fc86.png","害羞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/9d2ec4e1fbd6cb1b4d12d2bbbdd124ccb83ddfda.png","无语":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/44667b7d9349957e903b1b62cb91fb9b13720f04.png","问号":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/b7840db4b1f9f4726b7cb23c0972720c1698d661.png","调皮":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/8290b7308325e3179d2154327c85640af1528617.png","喜极而泣":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/485a7e0c01c2d70707daae53bee4a9e2e31ef1ed.png","奸笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/bb84906573472f0a84cebad1e9000eb6164a6f5a.png","偷笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/6c49d226e76c42cd8002abc47b3112bc5a92f66a.png","大笑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/ca94ad1c7e6dac895eb5b33b7836b634c614d1c0.png","阴险":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/ba8d5f8e7d136d59aab52c40fd3b8a43419eb03c.png","捂脸":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/6921bb43f0c634870b92f4a8ad41dada94a5296d.png","囧":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/12e41d357a9807cc80ef1e1ed258127fcc791424.png","呆":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/33ad6000d9f9f168a0976bc60937786f239e5d8c.png","抠鼻":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/cb89184c97e3f6d50acfd7961c313ce50360d70f.png","惊喜":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/0afecaf3a3499479af946f29749e1a6c285b6f65.png","惊讶":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/f8e9a59cad52ae1a19622805696a35f0a0d853f3.png","笑哭":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/c3043ba94babf824dea03ce500d0e73763bf4f40.png","妙啊":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/b4cb77159d58614a9b787b91b1cd22a81f383535.png","doge":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/bba7c12aa51fed0199c241465560dfc2714c593e.png","滑稽":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/d15121545a99ac46774f1f4465b895fe2d1411c3.png","吃瓜":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/4191ce3c44c2b3df8fd97c33f85d3ab15f4f3c84.png","打call":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/431432c43da3ee5aab5b0e4f8931953e649e9975.png","点赞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/1a67265993913f4c35d15a6028a30724e83e7d35.png","鼓掌":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/895d1fc616b4b6c830cf96012880818c0e1de00d.png","冷":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/cb0ebbd0668640f07ebfc0e03f7a18a8cd00b4ed.png","灵魂出窍":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/43d3db7d97343c01b47e22cfabeca84b4251f35a.png","尴尬":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/cb321684ed5ce6eacdc2699092ab8fe7679e4fda.png","傲娇":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/010540d0f61220a0db4922e4a679a1d8eca94f4e.png","疼":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/905fd9a99ec316e353b9bd4ecd49a5f0a301eabf.png","委屈":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/d2f26cbdd6c96960320af03f5514c5b524990840.png","吓":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/9c10c5ebc7bef27ec641b8a1877674e0c65fea5d.png","生病":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/0f25ce04ae1d7baf98650986454c634f6612cb76.png","吐":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/06946bfe71ac48a6078a0b662181bb5cad09decc.png","嘘声":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/e64af664d20716e090f10411496998095f62f844.png","捂眼":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/c5c6d6982e1e53e478daae554b239f2b227b172b.png","思考":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/cfa9b7e89e4bfe04bbcd34ccb1b0df37f4fa905c.png","再见":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/fc510306bae26c9aec7e287cdf201ded27b065b9.png","翻白眼":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/eba54707c7168925b18f6f8b1f48d532fe08c2b1.png","哈欠":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/888d877729cbec444ddbd1cf4c9af155a7a06086.png","奋斗":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/bb2060c15dba7d3fd731c35079d1617f1afe3376.png","墨镜":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/3a03aebfc06339d86a68c2d893303b46f4b85771.png","撇嘴":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/531863568e5668c5ac181d395508a0eeb1f0cda4.png","难过":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/a651db36701610aa70a781fa98c07c9789b11543.png","抓狂":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/4c87afff88c22439c45b79e9d2035d21d5622eba.png","生气":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/3195714219c4b582a4fb02033dd1519913d0246d.png","干杯":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/8da12d5f55a2c7e9778dcc05b40571979fe208e6.png","爱心":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/ed04066ea7124106d17ffcaf75600700e5442f5c.png","锦鲤":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/643d6c19c8164ffd89e3e9cdf093cf5d773d979c.png","胜利":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/b49fa9f4b1e7c3477918153b82c60b114d87347c.png","加油":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/c7aaeacb21e107292d3bb053e5abde4a4459ed30.png","保佑":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/fafe8d3de0dc139ebe995491d2dac458a865fb30.png","抱拳":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/89516218158dbea18ab78e8873060bf95d33bbbe.png","响指":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/1b5c53cf14336903e1d2ae3527ca380a1256a077.png","支持":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/3c210366a5585706c09d4c686a9d942b39feeb50.png","拥抱":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/41780a4254750cdaaccb20735730a36044e98ef3.png","怪我咯":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/07cc6077f7f7d75b8d2c722dd9d9828a9fb9e46d.png","跪了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/f2b3aee7e521de7799d4e3aa379b01be032698ac.png","黑洞":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/e90ec4c799010f25391179118ccd9f66b3b279ba.png","老鼠":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/8e6fb491eb1bb0d5862e7ec8ccf9a3da12b6c155.png","福到了":"https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg/face/bilibili_face/5de5373d354c373cf1617b6b836f3a8d53c5a655.png"}},"滑稽":{"inputType":"image","container":{"原味稽":"https://i.loli.net/2019/02/01/5c53d26b7ae13.png","还是算了":"https://i.loli.net/2020/04/30/riySFlu75fJdG4p.png","蓝纹稽":"https://i.loli.net/2020/04/30/jyh5IVzpqXsHuvU.jpg","随稽应变":"https://i.loli.net/2017/02/05/5896e6ec1d528.jpg","蠕动":"https://i.loli.net/2017/02/05/5896e9712a3c1.gif","束手无稽":"https://i.loli.net/2020/04/30/dF8sTOpgomj7qf5.jpg","微笑默叹以为妙绝":"https://i.loli.net/2019/02/01/5c53daa84f24a.png","喝嘤料":"https://i.loli.net/2019/02/01/5c53d63d8c6af.jpg","暗中观察":"https://i.loli.net/2019/02/01/5c53dd21a2e7b.jpg","高兴":"https://i.loli.net/2019/02/01/5c53d1b9e5f38.jpg","惊稽":"https://i.loli.net/2019/02/01/5c53d1e2ad89f.jpg","可这和我的帅有什么关系":"https://i.loli.net/2017/02/05/5896ece29a8e0.jpg","狱稽":"https://i.loli.net/2020/04/30/cUEQrVYGFiDjqhy.jpg","梆":"https://i.loli.net/2020/04/30/TlAGjm6IvJSMVpq.jpg","吃鱼摆摆":"https://i.loli.net/2017/02/05/5896ec2cb7f39.gif","跃跃欲试 3":"https://i.loli.net/2017/02/05/5896ece2ac5a2.gif","突然滑稽":"https://i.loli.net/2019/02/01/5c53cf2a457f1.jpg","扶墙怂":"https://i.loli.net/2017/02/05/5896ece2ab57a.jpg","阔以":"https://i.loli.net/2020/04/30/7EYyq1TcBKa3eQ2.jpg","不得行":"https://i.loli.net/2020/04/30/KoqBGauX7TEfeyn.jpg","少儿不宜":"https://i.loli.net/2020/04/30/nt2ZWRozUNjBxAK.jpg","稽日可期":"https://i.loli.net/2020/04/30/FmfYcoMJesi2Ddq.jpg","哎":"https://i.loli.net/2020/04/30/ps7PTIANgSErqnU.jpg","别看丢人":"https://i.loli.net/2019/02/01/5c53d4f89ea29.jpg","地稽 2":"https://i.loli.net/2019/02/01/5c53dbae85687.jpg","地稽":"https://i.loli.net/2020/04/30/BnTMX35EPxleVmA.jpg","老阔有点扣":"https://i.loli.net/2020/04/30/fhDXbA9T1zJPlKk.gif","啊哈哈":"https://i.loli.net/2019/02/01/5c53dc2947d84.jpg","无稽可奈":"https://i.loli.net/2020/04/30/UyxTzB2fS3LtH7Q.jpg","老实巴交":"https://i.loli.net/2020/04/30/7DgSoyqwtYBxchE.jpg","紧张":"https://i.loli.net/2017/02/05/5896e8a408253.jpg","摇摆稽":"https://i.loli.net/2019/02/01/5c53d1904dcb2.gif","又不是不能用":"https://i.loli.net/2019/02/01/5c53ce897ab55.jpg","一时滑稽":"https://i.loli.net/2019/02/01/5c53d5d28e22c.jpg","无法接受":"https://i.loli.net/2019/02/01/5c53cee8422fc.jpg","嘤雄豪稽":"https://i.loli.net/2020/04/30/sbtw6o7iKaM4Nmq.jpg","相视双稽":"https://i.loli.net/2019/02/01/5c53d5a093149.jpg","稽皮发麻":"https://i.loli.net/2017/02/05/5896ece2a019f.jpg","地稽 3":"https://i.loli.net/2019/02/01/5c53dbe510bcf.jpg","地稽委屈":"https://i.loli.net/2019/02/01/5c53d76e250da.jpg","地稽抚摸":"https://i.loli.net/2020/04/30/cavZ6nNzMPimLy7.gif","地稽捶打":"https://i.loli.net/2020/04/30/vFVPynXaHR5sitk.gif","绝望":"https://i.loli.net/2019/02/01/5c53dc0ba2303.jpg","气稽败坏":"https://i.loli.net/2019/02/01/5c53d216f3c60.jpg","当场去世":"https://i.loli.net/2020/04/30/sogxHMTFWbE2lrP.jpg","喝酒":"https://i.loli.net/2019/02/01/5c53d78c3f4a5.jpg","老衲摆摊算命":"https://i.loli.net/2017/02/05/5896ece29d8a5.gif","老哥，稳":"https://i.loli.net/2017/02/05/5896ece29ebb0.jpg","自闭稽":"https://i.loli.net/2019/02/01/5c53d6603ee24.jpg","无话可说":"https://i.loli.net/2019/02/01/5c53d6a77b7e4.jpg","跃跃欲试":"https://i.loli.net/2017/02/05/5896e9710dfd5.jpg","跃跃欲试 2":"https://i.loli.net/2019/02/01/5c53dcc057350.jpg","满脑子骚操作":"https://i.loli.net/2020/04/30/xJXcUtO2BryHAsa.gif","稽之舞":"https://i.loli.net/2019/02/01/5c53de1a4d14d.gif","将稽就稽":"https://i.loli.net/2020/04/30/KVwf8qCrZts6WOT.gif"}},"阿鲁":{"inputType":"image","container":{"aru-1":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-1.gif","aru-2":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-2.gif","aru-3":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-3.gif","aru-4":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-4.gif","aru-5":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-5.gif","aru-6":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-6.gif","aru-7":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-7.gif","aru-8":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-8.gif","aru-9":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-9.gif","aru-10":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-10.gif","aru-11":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-11.gif","aru-12":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-12.gif","aru-13":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-13.gif","aru-14":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-14.gif","aru-15":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-15.gif","aru-16":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-16.gif","aru-17":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-17.gif","aru-18":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-18.gif","aru-19":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-19.gif","aru-20":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-20.gif","aru-21":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-21.gif","aru-22":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-22.gif","aru-23":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-23.gif","aru-24":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-24.gif","aru-25":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-25.gif","aru-26":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-26.gif","aru-27":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-27.gif","aru-28":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-28.gif","aru-29":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-29.gif","aru-30":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-30.gif","aru-31":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-31.gif","aru-32":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-32.gif","aru-33":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-33.gif","aru-34":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-34.gif","aru-35":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-35.gif","aru-36":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-36.gif","aru-37":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-37.gif","aru-38":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-38.gif","aru-39":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-39.gif","aru-40":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-40.gif","aru-41":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-41.gif","aru-42":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-42.gif","aru-43":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-43.gif","aru-44":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-44.gif","aru-45":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-45.gif","aru-46":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-46.gif","aru-47":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-47.gif","aru-48":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-48.gif","aru-49":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-49.gif","aru-50":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-50.gif","aru-51":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-51.gif","aru-52":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-52.gif","aru-53":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-53.gif","aru-54":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-54.gif","aru-55":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-55.gif","aru-56":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-56.gif","aru-57":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-57.gif","aru-58":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-58.gif","aru-59":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-59.gif","aru-60":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-60.gif","aru-61":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-61.gif","aru-62":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-62.gif","aru-63":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-63.gif","aru-64":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-64.gif","aru-65":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-65.gif","aru-66":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-66.gif","aru-67":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-67.gif","aru-68":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-68.gif","aru-69":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-69.gif","aru-70":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-70.gif","aru-71":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-71.gif","aru-72":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-72.gif","aru-73":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-73.gif","aru-74":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-74.gif","aru-75":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-75.gif","aru-76":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-76.gif","aru-77":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-77.gif","aru-78":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-78.gif","aru-79":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-79.gif","aru-80":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-80.gif","aru-81":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-81.gif","aru-82":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-82.gif","aru-83":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-83.gif","aru-84":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-84.gif","aru-85":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-85.gif","aru-86":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-86.gif","aru-87":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-87.gif","aru-88":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-88.gif","aru-89":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-89.gif","aru-90":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-90.gif","aru-91":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-91.gif","aru-92":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-92.gif","aru-93":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-93.gif","aru-94":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-94.gif","aru-95":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-95.gif","aru-96":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-96.gif","aru-97":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-97.gif","aru-98":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-98.gif","aru-99":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-99.gif","aru-100":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-100.gif","aru-101":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-101.gif","aru-102":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-102.gif","aru-103":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-103.gif","aru-104":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-104.gif","aru-105":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-105.gif","aru-106":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-106.gif","aru-107":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-107.gif","aru-108":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-108.gif","aru-109":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-109.gif","aru-110":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-110.gif","aru-111":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-111.gif","aru-112":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-112.gif","aru-113":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-113.gif","aru-114":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-114.gif","aru-115":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-115.gif","aru-116":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/aru/aru-116.gif"}},"QQ":{"inputType":"image","container":{"qq-1":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-1.gif","qq-2":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-2.gif","qq-3":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-3.gif","qq-4":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-4.gif","qq-5":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-5.gif","qq-6":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-6.gif","qq-7":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-7.gif","qq-8":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-8.gif","qq-9":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-9.gif","qq-10":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-10.gif","qq-11":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-11.gif","qq-12":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-12.gif","qq-13":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-13.gif","qq-14":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-14.gif","qq-15":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-15.gif","qq-16":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-16.gif","qq-17":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-17.gif","qq-18":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-18.gif","qq-19":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-19.gif","qq-20":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-20.gif","qq-21":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-21.gif","qq-22":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-22.gif","qq-23":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-23.gif","qq-24":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-24.gif","qq-25":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-25.gif","qq-26":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-26.gif","qq-27":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-27.gif","qq-28":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-28.gif","qq-29":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-29.gif","qq-30":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-30.gif","qq-31":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-31.gif","qq-32":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-32.gif","qq-33":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-33.gif","qq-34":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-34.gif","qq-35":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-35.gif","qq-36":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-36.gif","qq-37":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-37.gif","qq-38":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-38.gif","qq-39":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-39.gif","qq-40":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-40.gif","qq-41":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-41.gif","qq-42":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-42.gif","qq-43":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-43.gif","qq-44":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-44.gif","qq-45":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-45.gif","qq-46":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-46.gif","qq-47":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-47.gif","qq-48":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-48.gif","qq-49":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-49.gif","qq-50":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-50.gif","qq-51":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-51.gif","qq-52":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-52.gif","qq-53":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-53.gif","qq-54":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-54.gif","qq-55":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-55.gif","qq-56":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-56.gif","qq-57":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-57.gif","qq-58":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-58.gif","qq-59":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-59.gif","qq-60":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-60.gif","qq-61":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-61.gif","qq-62":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-62.gif","qq-63":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-63.gif","qq-64":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-64.gif","qq-65":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-65.gif","qq-66":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-66.gif","qq-67":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-67.gif","qq-68":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-68.gif","qq-69":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-69.gif","qq-70":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-70.gif","qq-71":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-71.gif","qq-72":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-72.gif","qq-73":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-73.gif","qq-74":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-74.gif","qq-75":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-75.gif","qq-76":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-76.gif","qq-77":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-77.gif","qq-78":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-78.gif","qq-79":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-79.gif","qq-80":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-80.gif","qq-81":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-81.gif","qq-82":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-82.gif","qq-83":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-83.gif","qq-84":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-84.gif","qq-85":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-85.gif","qq-86":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-86.gif","qq-87":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-87.gif","qq-88":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-88.gif","qq-89":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-89.gif","qq-90":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-90.gif","qq-91":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-91.gif","qq-92":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-92.gif","qq-93":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-93.gif","qq-94":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-94.gif","qq-95":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-95.gif","qq-96":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-96.gif","qq-97":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-97.gif","qq-98":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-98.gif","qq-99":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-99.gif","qq-100":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-100.gif","qq-101":"https://cdn.jsdelivr.net/gh/Flexiston/cdn-emoji/valine/qq/qq-101.gif"}},"Emoji":{"inputType":"emoji","container":["😀","😃","😄","😁","😆","😅","😂","😊","😉","👀","😌","😍","😘","😋","😜","😝","😎","😏","😒","😟","😕","😖","😫","😩","😠","😲","😵","😳","😱","😨","😢","😭","😷","✋","✌️","👊","👋","👏","👍","👎","❤️","🎉","🚀"]}},
      readMore: { 
        pageSize: 10, 
        autoLoad: false
      }   
    }
    const artalk = new Artalk(initData)
  }

  if (typeof Artalk === 'function') initArtalk() 
  else{
    addArtalkSource()
    getScript('https://cdn.jsdelivr.net/gh/monsterxcn/Artalk@master/dist/Artalk.js').then(initArtalk)
  } 
}

if ('Artalk' === 'Artalk' || !true) {
  if (true) btf.loadComment(document.querySelector('#ArtalkComments'),loadArtalk)
  else setTimeout(() => loadArtalk(), 0)
} else {
  function loadOtherComment () {
    loadArtalk()
  }
}</script><script>function loadTwikoo(){function o(){twikoo.init({envId:"twikoo-4g2ypman52a24a4b"})}"function"==typeof twikoo.init?o():getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(o)}function loadOtherComment(){loadTwikoo()}</script></div><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>🚀 网站已更新最新版本 📑</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">点我更新</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"🚀 博客已更新最新版本 🌍",backgroundColor:t,duration:5e5,pos:e,actionText:"点我更新⚡",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",function(){showNotification()}),window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js")}));</script><script data-pjax aysnc src="https://cdn.jsdelivr.net/gh/zykjofficial/zykjofficial.github.io@master/js/ZYKJTools.js"></script><script data-pjax aysnc>var zykj=new ZYKJTools({log:!1});zykj.randomBanner("https://cdn.jsdelivr.net/gh/zykjofficial/zykjimg@master/bangumi/png/bangumi",".png",1,5),zykj.funnyTitle(),zykj.domainNotice()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/link/"]):not([href="/catchcat/"]):not([href="/shuoshuo/"]):not([href="/music/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})</script></div></body></html>