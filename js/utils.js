"use strict";function ownKeys(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a=[],i=!0,l=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){l=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(){var n,o,r,t={debounce:function(r,t,e){var a,i=1<arguments.length&&void 0!==t?t:0,l=2<arguments.length&&void 0!==e&&e;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=l&&!a;clearTimeout(a),a=setTimeout(function(){a=null,l||r.apply(void 0,e)},i),o&&r.apply(void 0,e)}},throttle:function(a,i,t){function l(){m=!1===f.leading?0:(new Date).getTime(),c=null,a.apply(d,u),c||(d=u=null)}var c,d,u,s=this,f=2<arguments.length&&void 0!==t?t:{},m=0;return function(){var t=(new Date).getTime();m||!1!==f.leading||(m=t);var e=i-(t-m);d=s;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];u=o,e<=0||i<e?(c&&(clearTimeout(c),c=null),m=t,a.apply(d,u),c||(d=u=null)):c||!1===f.trailing||(c=setTimeout(l,e))}},overflowPaddingR:{add:function(){var t,e=window.innerWidth-document.body.clientWidth;0<e&&(document.body.style.paddingRight="".concat(e,"px"),document.body.style.overflow="hidden",(t=document.querySelector("#page-header.nav-fixed #menus"))&&(t.style.paddingRight="".concat(e,"px")))},remove:function(){document.body.style.paddingRight="",document.body.style.overflow="";var t=document.querySelector("#page-header.nav-fixed #menus");t&&(t.style.paddingRight="")}},snackbarShow:function(t,e,n){var o=1<arguments.length&&void 0!==e&&e,r=2<arguments.length&&void 0!==n?n:2e3,a=GLOBAL_CONFIG.Snackbar,e=a.position,n=a.bgLight,a=a.bgDark,a="light"===document.documentElement.getAttribute("data-theme")?n:a;Snackbar.show({text:t,backgroundColor:a,showAction:o,duration:r,pos:e,customClass:"snackbar-css"})},diffDate:function(t,e){var n=1<arguments.length&&void 0!==e&&e,o=new Date,r=new Date(t),a=(o-r)/1e3/60,i=a/60,e=i/24,t=e/30,o=GLOBAL_CONFIG.dateSuffix;return n?12<t?r.toISOString().slice(0,10):1<=t?"".concat(Math.floor(t)," ").concat(o.month):1<=e?"".concat(Math.floor(e)," ").concat(o.day):1<=i?"".concat(Math.floor(i)," ").concat(o.hour):1<=a?"".concat(Math.floor(a)," ").concat(o.min):o.just:Math.floor(e)},loadComment:function(t,e){var n;"IntersectionObserver"in window?(n=new IntersectionObserver(function(t){t[0].isIntersecting&&(e(),n.disconnect())},{threshold:[0]})).observe(t):e()},scrollToDest:function(n,t){var o,r=1<arguments.length&&void 0!==t?t:500,a=window.scrollY,t=document.getElementById("page-header").classList.contains("fixed");(n<a||t)&&(n-=70),"scrollBehavior"in document.documentElement.style?window.scrollTo({top:n,behavior:"smooth"}):(o=performance.now(),t=function t(e){e-=o,e=Math.min(e/r,1);window.scrollTo(0,a+(n-a)*e),e<1&&requestAnimationFrame(t)},requestAnimationFrame(t))},animateIn:function(t,e){t.style.display="block",t.style.animation=e},animateOut:function(t,e){function n(){t.style.display="",t.style.animation="",t.removeEventListener("animationend",n)}t.addEventListener("animationend",n),t.style.animation=e},wrap:function(t,e,n){for(var o=document.createElement(e),r=0,a=Object.entries(n);r<a.length;r++){var i=_slicedToArray(a[r],2),l=i[0],i=i[1];o.setAttribute(l,i)}t.parentNode.insertBefore(o,t),o.appendChild(t)},isHidden:function(t){return 0===t.offsetHeight&&0===t.offsetWidth},getEleTop:function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e},loadLightbox:function(t){var e=GLOBAL_CONFIG.lightbox;"medium_zoom"!==e?"fancybox"===e&&(Array.from(t).forEach(function(t){var e,n;"A"!==t.parentNode.tagName&&(e=t.dataset.lazySrc||t.src,n=t.title||t.alt||"",btf.wrap(t,"a",{href:e,"data-fancybox":"gallery","data-caption":n,"data-thumb":e}))}),window.fancyboxRun||(e="",e=Fancybox.version<"6"?{Hash:!1,Thumbs:{showOnStart:!1},Images:{Panzoom:{maxScale:4}},Carousel:{transition:"slide"},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}:{Hash:!1,Carousel:{transition:"slide",Thumbs:{showOnStart:!1},Toolbar:{display:{left:["counter"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:["autoplay","thumbs","close"]}},Zoomable:{Panzoom:{maxScale:4}}}},Fancybox.bind("[data-fancybox]",e),window.fancyboxRun=!0)):mediumZoom(t,{background:"var(--zoom-bg)"})},setLoading:{add:function(t){t.insertAdjacentHTML("afterend",'\n        <div class="loading-container">\n          <div class="loading-item">\n            <div></div><div></div><div></div><div></div><div></div>\n          </div>\n        </div>\n      ')},remove:function(t){t.nextElementSibling.remove()}},updateAnchor:function(t){var e;t!==window.location.hash&&(t=t||location.pathname,e=GLOBAL_CONFIG_SITE.title,window.history.replaceState({url:location.href,title:e},e,t))},getScrollPercent:function(t,e){n&&e.clientHeight===n||(n=e.clientHeight,r=window.innerHeight,o=e.offsetTop,r=Math.max(n-r,document.documentElement.scrollHeight-r));t=(t-o)/r;return Math.max(0,Math.min(100,Math.round(100*t)))},addEventListenerPjax:function(t,e,n,o){var r=3<arguments.length&&void 0!==o&&o;t.addEventListener(e,n,r),btf.addGlobalFn("pjaxSendOnce",function(){t.removeEventListener(e,n,r)})},removeGlobalFnEvent:function(t,e){var e=(1<arguments.length&&void 0!==e?e:window).globalFn||{},n=e[t];n&&(Object.keys(n).forEach(function(t){return n[t]()}),delete e[t])},switchComments:function(t,e){var n,o,r=0<arguments.length&&void 0!==t?t:document,a=1<arguments.length?e:void 0,e=r.querySelector("#switch-btn");e&&(n=!1,o=r.querySelector("#post-comment"),btf.addEventListenerPjax(e,"click",function(){o.classList.toggle("move"),n||"function"!=typeof loadOtherComment||(n=!0,loadOtherComment(r,a))}))}};window.btf=_objectSpread(_objectSpread({},window.btf),t)}();